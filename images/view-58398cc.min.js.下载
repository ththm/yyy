!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,o){for(var s,a,c=0,u=[];c<i.length;c++)a=i[c],r[a]&&u.push.apply(u,r[a]),r[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(n&&n(i,o);u.length;)u.shift().call(null,t)};var i={},r={0:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+e+".view-58398cc.min.js",i.appendChild(o)}},t.m=e,t.c=i,t.p="//as.eqh5.com/h5_view_2/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(){u().then(function(e){function t(e){var t=parseInt(e.userType||2),n=parseInt(e.memberType||1);c(location.host)?[2,21].includes(t)&&[1,2,3,4,6,7,8,9].includes(n)&&(a.FILE=a.VIP_USER_FILE):(a.SOURCE=a.BIND_USER_SOURCE,a.FILE=a.BIND_USER_FILE)}function n(){alert("此场景不存在!")}window.scene=e,t(e),s.setUp(e);var i=Promise.resolve(null);p()&&(i=function(){var t=location.href.split("#")[0];return e.property.wxAuth?h().then(function(n){return n.obj?(f.setWeChatUser(n.obj),f.initWeChat({obj:e},t),n.obj):void f.hrefToWxAuth()}).catch(function(e){console.error(e)}):Promise.resolve(f.initWeChat({obj:e},t))}()),l(e).then(function(e){return e.list.length?(_DEBUG_,e.map.wxComponent&&f.setWxCompData(e.map.wxComponent),void i.then(function(t){function n(e){var t=window.location.href,n={param:t.split("?")[1],selector:"#nr",mode:"view",disableBigData:!1},i=new d(e,n);window.app=i,window.viewData||i.config.disableBigData||w(i.meta.id,0,null,null,null),g(),i.renderScene(),$("#pre_page").click(function(){i.pageScroll.goToPrePage()}),$("#next_page").click(function(){i.pageScroll.goToNextPage()})}new v(e).addPageFn(y).addEleFn(m(e,t)).addEleFn(b).start(),n(e)})):void n()})})}n(2),n(3),n(16);var r=n(17);n(18).disableScreenElasticity(),window._DEBUG_=r.DEBUG,n(19);var o=n(20),s=n(21),a=n(31),c=n(37).isEqxHost,u=n(48).$getSceneMetaData,l=n(52).getPerfectSceneData;o.setUp();var p=n(32).isWeixin,h=n(74).$getUserWxInfo,f=n(75),d=n(81),g=n(21).stopLoading,v=n(58),m=n(309).wxAdaptor,y=n(61).perfectPage,b=n(64).perfectComp,w=n(78).bigDataXBData;$(function(){i()})},function(e,t){},function(e,t,n){"use strict";n(4),n(11),n(15)},function(e,t,n){n(5),n(6),n(7),n(8),n(9),n(10)},function(e,t){!function(e){e.forEach(function(e){e.hasOwnProperty("replaceWith")||Object.defineProperty(e,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.parentNode.replaceChild(t,this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(e,t){!function(){Math.hypot=Math.hypot||function(){for(var e=0,t=arguments.length,n=0;n<t;n++){if(arguments[n]===1/0||arguments[n]===-(1/0))return 1/0;e+=arguments[n]*arguments[n]}return Math.sqrt(e)}}()},function(e,t){!function(){"function"!=typeof Object.values&&!function(){Object.values=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(),"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}}()}()},function(e,t){!function(){Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)},Number.parseInt=parseInt,Number.parseFloat=parseFloat}()},function(e,t){!function(){String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t})}()},function(e,t){!function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var i,r=parseInt(arguments[1])||0;r>=0?i=r:(i=n+r,i<0&&(i=0));for(var o;i<n;){if(o=t[i],e===o||e!==e&&o!==o)return!0;i++}return!1}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return o;return-1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},i=Math.pow(2,53)-1,r=function(e){var t=n(e);return Math.min(Math.max(t,0),i)};return function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,c=r(i.length),u=t(n)?Object(new n(c)):new Array(c),l=0;l<c;)a=i[l],s?u[l]="undefined"==typeof o?s(a,l):s.call(o,a,l):u[l]=a,l+=1;return u.length=c,u}}())}()},function(e,t,n){(function(t){!function(n){function i(){}function r(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void f(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:c)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void c(t.promise,e)}a(t.promise,i)}))}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void p(r(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&setTimeout(function(){e._handled||d(e._value)},1);for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var h=setTimeout,f="function"==typeof t&&t||function(e){h(e,1)},d=function(e){console.warn("Possible Unhandled Promise Rejection:",e)},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new o(i);return s(this,new l(e,t,n)),n},o.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&g(arguments[0])?arguments[0]:arguments);return new o(function(t,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){i(o,e)},n)}e[o]=s,0===--r&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._setImmediateFn=function(e){f=e},o._setUnhandledRejectionFn=function(e){d=e},Promise?o=Promise:Promise=o,"undefined"!=typeof e&&e.exports?e.exports=o:n.Promise||(n.Promise=o),o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})}}(this)}).call(t,n(12).setImmediate)},function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(13),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return g[d]=i,f(d),d++}function r(e){delete g[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function s(e){if(v)setTimeout(s,0,e);else{var t=g[e];if(t){v=!0;try{o(t)}finally{r(e),v=!1}}}}function a(){f=function(e){t.nextTick(function(){s(e)})}}function c(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;s(t)},f=function(t){e.port2.postMessage(t)}}function p(){var e=m.documentElement;f=function(t){var n=m.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function h(){f=function(e){setTimeout(s,0,e)}}if(!e.setImmediate){var f,d=1,g={},v=!1,m=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?a():c()?u():e.MessageChannel?l():m&&"onreadystatechange"in m.createElement("script")?p():h(),y.setImmediate=i,y.clearImmediate=r}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(14))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&f&&(g=!1,f.length?d=f.concat(d):v=-1,d.length&&a())}function a(){if(!g){var e=r(s);g=!0;for(var t=d.length;t;){for(f=d,d=[];++v<t;)f&&f[v].run();v=-1,t=d.length}f=null,g=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,p,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var f,d=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||g||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){!function(e){"use strict";function t(e){var t="",n=!0;return e.forEach(function(e){var i=encodeURIComponent(e.name),r=encodeURIComponent(e.value);n||(t+="&"),t+=i+"="+r,n=!1}),t.replace(/%20/g,"+")}function n(e,t){var n=e.split("&");t&&n[0].indexOf("=")===-1&&(n[0]="="+n[0]);var i=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf("=");if(t!==-1)var n=e.substring(0,t),r=e.substring(t+1);else n=e,r="";n=n.replace(/\+/g," "),r=r.replace(/\+/g," "),i.push({name:n,value:r})}});var r=[];return i.forEach(function(e){r.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),r}function i(e){if(s)return new a(e);var t=document.createElement("a");return t.href=e,t}function r(e){var i=this;this._list=[],void 0!==e&&null!==e||(e=""),Object(e)===e&&e instanceof r||(e=String(e)),"string"==typeof e&&"?"===e.substring(0,1)&&(e=e.substring(1)),"string"==typeof e?this._list=n(e):this._list=e._list.slice(),this._url_object=null,this._setList=function(e){o||(i._list=e)};var o=!1;this._update_steps=function(){o||(o=!0,i._url_object&&("about:"===i._url_object.protocol&&i._url_object.pathname.indexOf("?")!==-1&&(i._url_object.pathname=i._url_object.pathname.split("?")[0]),i._url_object.search=t(i._list),o=!1))}}function o(t,o){function c(){var e=l.href.replace(/#$|\?$|\?(?=#)/g,"");l.href!==e&&(l.href=e)}function u(){f._setList(l.search?n(l.search.substring(1)):[]),f._update_steps()}if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");o&&(t=function(){if(s)return new a(t,o).href;var e;if(document.implementation&&document.implementation.createHTMLDocument?e=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?(e=document.implementation.createElement("http://www.w3.org/1999/xhtml","html",null),e.documentElement.appendChild(e.createElement("head")),e.documentElement.appendChild(e.createElement("body"))):window.ActiveXObject&&(e=new window.ActiveXObject("htmlfile"),e.write("<head></head><body></body>"),e.close()),!e)throw Error("base not supported");var n=e.createElement("base");n.href=o,e.getElementsByTagName("head")[0].appendChild(n);var i=e.createElement("a");return i.href=t,i.href}());var l=i(t||""),p=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}(),h=p?this:document.createElement("a"),f=new r(l.search?l.search.substring(1):null);return f._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,c(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in l?l.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[l.protocol];return e?l.host.replace(e,""):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==l.pathname.charAt(0)?"/"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,c(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return f},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,c()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var s,a=e.URL;try{if(a){if(s=new e.URL("http://example.com"),"searchParams"in s)return;"href"in s||(s=void 0)}}catch(e){}if(Object.defineProperties(r.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,i=0;i<this._list.length;)this._list[i].name===e?n?this._list.splice(i,1):(this._list[i].value=t,n=!0,++i):++i;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:[n.name,n.value]}}}},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:n.name}}}},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:n.value}}}},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:void 0;this._list.forEach(function(n,i){e.call(t,n.name,n.value)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return t(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in e&&"iterator"in e.Symbol&&Object.defineProperty(r.prototype,e.Symbol.iterator,{value:r.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),a)for(var c in a)a.hasOwnProperty(c)&&"function"==typeof a[c]&&(o[c]=a[c]);e.URL=o,e.URLSearchParams=r}(window)},function(e,t){},function(e,t){"use strict";e.exports={publicHost:"//as.eqh5.com/",HOST:"//www.eqxiu.com/",EQX:"//www.eqxiu.com/",WAP_HOST:"//wap.eqxiu.com/",SERVER_0:"//service.eqxiu.com/",SERVER_0_VIP:"//vservice.eqxiu.com/",SERVER_1:"//s1.eqxiu.com/",SERVER_2:"//s2.eqxiu.com/",SERVER_MAX:"//max.eqxiu.com",QUERY_SERVER:"//search.eqxiu.com/",WAP_SERVER:"//ie.eqxiu.com/",BIG_DATA:"//datalog.eqxiu.com/",TRACK:"//da.eqxiu.com/",PAY_HOST:"//www.eqxiu.com/",MALL_HOST:"//store.eqxiu.com/",STORE:"//store.eqxiu.com/",YQC:"//as.eqh5.cn/",MALL_BUY_ID:"10002",MALL_PIC_ID:"889874",MALL_MUSIC_ID:"889875",MALL_SOUND_ID:"889877",MALL_FONT_ID:"889873",SOURCE:"//as.eqh5.com/c/",BIND_USER_SOURCE:"//as.eqxiu.com/c/",WX_APP_ID:"wx4726bc84d63ef524",DOMAIN:"eqxiu",EQX_TPL_DOMAIN:"h5.eqxiu.com",EQX_FAN_DOMAIN:"scene.eqxiu.com",EQX_AD_DOMAIN:"scene.eqh5.cn",EQX_VIP_DOMAIN:"vip.eqxiu.cn",EQX_COMPANY_DOMAIN:"scene.eqxiu.cn",FILE:"//res1.eqh5.com/",BIND_USER_FILE:"//res.eqh5.com/",FREE_USER_FILE:"//res1.eqh5.com/",VIP_USER_FILE:"//res2.eqh5.com/",FONT:"//font.eqh5.com/",VIDEO:"//res4.eqh5.com/"}},function(e,t){"use strict";function n(){var e=$(window);e.on("scroll.elasticity",function(e){e.preventDefault()}).on("touchmove.elasticity",function(e){e.preventDefault()}),e.delegate("img","mousemove",function(e){e.preventDefault()})}e.exports={disableScreenElasticity:n}},function(e,t){},function(e,t){"use strict";function n(){$.ajaxSetup({cache:!0}),$.support.cors=!0}e.exports={setUp:function(){n()}}},function(e,t,n){"use strict";function i(e){var t=$(document.body),n=$("html");a()?window.top===window?(t.prepend(c.div()),$(".phone_panel").append(c.pcCtrlBtn()),"1"==e.isTemplate&&c.addSample(e.id),t.addClass("pc"),$("title").text(e.name+" | H5微场景制作-易企秀(www.eqxiu.com)"),s(e)):location.href.indexOf("exemplarReview")>=0?(t.prepend(u.phoneDiv()),t.append(u.ctrlBtnDiv())):location.href.indexOf("control")>=0?(t.prepend(u.phoneDiv()),t.append(u.ctrlBtnDiv2())):(n.addClass("iframe-html"),t.prepend(u.div()),t.addClass("pc"),$(".scene_title").text(e.name),$("title").text(e.name)):(t.prepend(l.div()),$("title").text(e.name)),$(".main").show()}function r(){$(".loading").show()}function o(){$(".loading").hide()}n(22),n(23),n(24),n(25);var s=n(26).addElementsToPc,a=n(32).isPc,c=n(43),u=n(46),l=n(47);e.exports={setUp:i,stopLoading:o,startLoading:r}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){var t=e.name,n=e.description,i=e.cover;$(".scene_title").text(e.name),s({name:t,description:n,cover:i}),r(),o(e)}function r(){u().catch(function(){return n(42)}).then(function(e){return $("body").css("backgroundImage","url("+e+")")})}function o(e){l().then(function(){var t=a(p(e));t.searchParams.set("eqrcode",1),console.info("qrCodeUrl:",t.href),$("#downApp").click(function(){$("#downAppView").css("display","block")}),$("#close").click(function(){$("#downAppView").css("display","none")}),$("#downCode").qrcode({render:"canvas",width:200,height:200,text:"http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"}),$("#codeImg").qrcode({render:"canvas",width:200,height:200,text:t.href})})}function s(e){var t=e.name,n=e.description,i=e.cover;n=n||"";var r=window.location.href.split("?")[0];$("#view_share .share-qq").attr("href","\n            http://connect.qq.com/widget/shareqq/index.html?url=\n            "+encodeURIComponent(r)+"?from=sqq&title="+t+"\n            &site=易企秀http://eqxiu.com&summary="+n+"\n            &pics="+(c.FILE+i)+"&desc="+n+"&appkey=3508809852\n        "),$("#view_share .share-qqZone").attr("href","\n            http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\n            "+encodeURIComponent(r)+"?from=qzone&title="+t+"\n            &site=易企秀http://eqxiu.com&summary="+n+"\n            &pics="+(c.FILE+i)+"&desc="+n+"&appkey=3508809852\n        "),$("#view_share .share-weibo").attr("href","\n            http://service.weibo.com/share/share.php?url=\n            "+encodeURIComponent(r)+"?from=sina_weibo\n            &title="+encodeURIComponent("#易企秀分享# 这是我用@易企秀 做的【"+t+"】，赶紧打开看看吧！")+"\n            &pic="+(c.FILE+i)+"&appkey=3508809852\n        ")}n(27),n(28),n(29);var a=n(30).parseUrl,c=n(31),u=n(33).$getPcBgImg,l=n(35).$loadQRCode,p=n(37).getShareUrl;e.exports={addElementsToPc:i}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e.startsWith("//")&&(e=location.protocol+e),new window.URL(e)}function r(e){var t=location.href,n=s("toPage",t);n?n!==""+e&&(t=t.replace(n,e)):t+=(/\?/.test(t)?"&":"?")+"toPage="+e,window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t)}function o(e,t){y()?(r(t),location.href=e):window.open(e,"_blank")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return i(t).searchParams.get(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=i(t);return n.searchParams.delete(e),n.href}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=i(t);return e.forEach(function(e){n.searchParams.delete(e)}),n.href}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,r=i(n);return r.searchParams.set(e,t),r.href}function l(e){var t=window.location.href;history.replaceState({},t,e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return i(e).host}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;if(0===i)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=t[0],1===i)return r.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);for(var s,a=document.createElement("a"),c=1;c<i;c++)a.href=t[c],s=a.href,r.href=s;return o.removeChild(r),s}function f(e){var t=location.protocol;return"https:"!=t&&(t="http:"),/^\w{2,}:\/\//.test(e)||(e="//"+e),e.replace(/^\/\//,t+"//")}function d(e){return f(e).replace(/^https:/,"http:")}function g(e){return f(e).replace(/^http:/,"https:")}function v(){var e=d(m.EQX),t=n(32).mobilecheck;return t()&&(e="http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"),e="http://wapeqxiu.wqdian.cn/selected.html"}var m=n(31),y=n(32).mobilecheck;e.exports={parseUrl:i,getUrlParam:s,removeUrlParam:a,removeUrlParams:c,addUrlParam:u,replaceLocationHref:l,getUrlHost:p,resolveUrl:h,setUrlHistory:r,openUrl:o,addProtocol:f,url2http:d,url2https:g,redirectUrl:v}},function(e,t,n){"use strict";function i(e){var t=window.location.protocol;return"file:"==t&&(t="http:"),e&&e.startsWith("//")?t+e:e}var r=n(17),o={SERVER_0:r.SERVER_0,SERVER_0_VIP:r.SERVER_0_VIP,SERVER_1:r.SERVER_1,SERVER_2:r.SERVER_2,WAP_SERVER:r.WAP_SERVER,SERVER_MAX:r.SERVER_MAX,QUERY_SERVER:r.QUERY_SERVER,FONT:r.FONT,HOST:r.HOST,EQX:r.EQX,WAP_HOST:r.WAP_HOST,PAY_HOST:r.PAY_HOST,MALL_HOST:r.MALL_HOST,SOURCE:r.SOURCE,BIND_USER_SOURCE:r.BIND_USER_SOURCE,TRACK:r.TRACK,BIG_DATA:r.BIG_DATA,STORE:r.STORE,YQC:r.YQC,BIND_USER_FILE:r.BIND_USER_FILE,FREE_USER_FILE:r.FREE_USER_FILE,VIP_USER_FILE:r.VIP_USER_FILE,FILE:r.FILE,DOMAIN:r.DOMAIN,EQX_FAN_DOMAIN:r.EQX_FAN_DOMAIN,EQX_AD_DOMAIN:r.EQX_AD_DOMAIN,EQX_VIP_DOMAIN:r.EQX_VIP_DOMAIN,EQX_COMPANY_DOMAIN:r.EQX_COMPANY_DOMAIN,MALL_BUY_ID:r.MALL_BUY_ID,MALL_PIC_ID:r.MALL_PIC_ID,MALL_MUSIC_ID:r.MALL_MUSIC_ID,MALL_SOUND_ID:r.MALL_SOUND_ID,MALL_FONT_ID:r.MALL_FONT_ID,VIDEO:r.VIDEO};Object.keys(o).forEach(function(e){var t=o[e];Array.isArray(t)?t.forEach(function(e,n){"string"==typeof e&&(t[n]=i(e))}):o[e]=i(t)}),e.exports=o},function(e,t,n){"use strict";function i(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)||window.screen.width<500}function r(){return window.top===window&&/MicroMessenger/i.test(navigator.userAgent)}function o(){return i()&&s()}function s(){return/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.appVersion)}function a(){return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)}function c(){return/iPhone/i.test(navigator.userAgent)}function u(){return!(i()||a()&&window===window.top)}function l(){var e=n(30).getUrlParam;return!!e("appclient")||!!window.viewData}function p(){return/ipad|iphone/i.test(navigator.userAgent)}function h(){return/msie|applewebkit.+safari/i.test(navigator.userAgent)}e.exports={mobilecheck:i,isMobile:i,isWeixin:r,isAndroidPhone:o,isAndroid:s,tabletCheck:a,iphoneCheck:c,isPc:u,isApp:l,isIOS:p,isSafari:h}},function(e,t,n){"use strict";function i(e){return function(t){return t.includes("http")||(t=a.FILE+t),s({type:"GET",url:t,dataType:e})}}function r(e){return s({type:"GET",dataType:"text"})}function o(){return s({type:"GET",url:a.SERVER_2+"eqs/image/scene/preview"}).then(function(e){return e?e:Promise.reject("No Background Image")})}var s=n(34).$ajax,a=n(31),c=i("xml");e.exports={$getSvg:c,$getSymbol:r,$getPcBgImg:o}},function(e,t){"use strict";function n(e){return Promise.resolve(e)}function i(e){return new Promise(function(t,n){$.ajax($.extend({},e,{success:function(e){e&&e.success===!1?n(e):t(e)},error:function(){for(var t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=console).error.apply(t,[e].concat(r)),n.apply(void 0,r)}}))})}function r(e){return new Promise(function(t,n){$.ajax($.extend({xhrFields:{withCredentials:!0},crossDomain:!0},e,{success:function(e){e&&e.success===!1?n(e):t(e)},error:function(){for(var t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=console).error.apply(t,[e].concat(r)),n.apply(void 0,r)}}))})}e.exports={ajax:r,$ajax:i,fajax:n}},function(e,t,n){"use strict";function i(e){var t=e.name,n=e.src,i=b[t];if(i)return Promise.resolve(i);var r=y({url:v(n),dataType:"script"}).then(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return b[t]=n,n});return b[t]=r,r}function r(){return i({name:"qrcode",src:m.QRCode})}function o(){return i({name:"sha",src:m.SHA})}function s(){return w?w:w=new Promise(function(e,t){window.qqMapCallback=function(){e()},i({name:"qqmap",src:m.QQMap}).catch(t)})}function a(){return i({name:"chart",src:m.Chart})}function c(){return i({name:"threecanvas",src:m.threecanvas})}function u(){return i({name:"flux",src:m.Flux})}function l(){return i({name:"",src:m.sliders})}function p(){return i({name:"jweixin",src:m.JWeixin})}function h(){return i({name:"typed",src:m.Typed})}function f(){return i({name:"mlink",src:m.MLink})}function d(){return i({name:"parallax",src:m.Parallax})}function g(){return i({name:"canvg",src:m.canvg})}var v=n(30).addProtocol,m=n(36),y=n(34).$ajax,b={},w=null;e.exports={$loader:i,$loadQRCode:r,$loadSHA:o,$loadQQMap:s,$loadChart:a,$loadFlux:u,$loadJWeixin:p,$loadTyped:h,$loadThreeCanvas:c,$loadSliders:l,$loadParallax:d,$canvas:g,$loadMLink:f}},function(e,t){"use strict";e.exports={Parallax:"//lib.eqh5.com/parallax/1.0.0/parallax.min.js",JWeixin:"//res.wx.qq.com/open/js/jweixin-1.2.0.js",QQMap:"//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",SHA:"//lib.eqh5.com/jsSHA/2.0.2/sha1.js",Chart:"//lib.eqh5.com/Chart.js/1.0.2/Chart.min.js",sliders:"//lib.eqh5.com/slidesjs/3.0.3/jquery.slides.min.js",QRCode:"//lib.eqh5.com/@eqxiu/qrcode/1.1.1/qrcode.min.js",Flux:"//lib.eqh5.com/@eqxiu/flux/1.0.1/flux.min.js",Typed:"//lib.eqh5.com/@eqxiu/typed/1.1.4/typed.min.js",threecanvas:"//lib.eqh5.com/@eqxiu/threecanvas/1.1.0/threecanvas.js",canvg:"//lib.eqh5.com/canvg/0.0.1/canvg.min.js",MLink:"https://static.mlinks.cc/scripts/dist/mlink.min.js",datePicker:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",datePickerCss:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",
moment:"//lib.eqh5.com/moment.js/2.15.2/moment.min.js",imgJcropJs:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",imgJcropCss:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",plupload:"//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",qiniu:"//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",html2canvas:"//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js"}},function(e,t,n){"use strict";function i(e){var t=e.code,n=window.location.href,i=window.location.host,o=p.EQX_FAN_DOMAIN,h=p.EQX_AD_DOMAIN,f=p.EQX_VIP_DOMAIN,d=p.EQX_COMPANY_DOMAIN;try{return r(i)?(console.info("第三方域名"),n):s(i)?(console.info("MAX 域名"),n):a(e)?(console.info("流量域名"),l(e,h)):c(e)?(console.info("CDN 加速"),g(f+"/s/"+t)):u(e)?(console.info("企业账号"),l(e,d)):(console.info("普通泛域名"),l(e,o))}catch(e){return console.error(e),n}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return!o(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return["eqshow.cn","yqxiu.cn","eqxiu.cc","eqxiu.com","eqxiu.cn","eqh5.cn"].some(function(t){return e.endsWith("."+t)})||/localhost/.test(e)}function s(e){return o(e)&&/^max\./.test(e)}function a(e){var t=e.ext||{};return t.yqc&&t.yqc.ad}function c(e){var t=p.EQX_VIP_DOMAIN;return 1==e.staticStatus&&location.host.includes(t)}function u(e){var t=e.userType,n=e.memberType,i=e.expiryTime;return(t==d["企业账号"]||t==d["企业子账号"])&&n&&i&&h(i)}function l(e,t){var n=e.code,i=e.userId||e.createUser;if(!i)throw new Error("No User Id");var r=f(i);return g(r+"."+t+"/s/"+n)}var p=n(31),h=n(38).isNotExpired,f=n(39).hashCode,d=n(40).USER_ROLE,g=n(30).addProtocol;e.exports={getShareUrl:i,isEqxAdScene:a,isVipScene:c,isEqxHost:o,isThirdPartyHost:r}},function(module,exports){"use strict";function dateFormat(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};return y=y.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)}),y.replace(/(y+)/g,function(e){return x.getFullYear().toString().slice(-e.length)})}function isNotExpired(e){return new Date(e).getTime()>Date.now()}function isExpired(e){return new Date(e).getTime()<Date.now()}module.exports={dateFormat:dateFormat,isExpired:isExpired,isNotExpired:isNotExpired}},function(e,t){"use strict";function n(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return Math.abs(t)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;/\$\{([^}]*)}/.test(e)&&console.error("DO NOT USE ${}",e);for(var i=e;n&&/#\{([^}]*)}/.test(i);)i=i.replace(/#\{([^}]*)}/g,function(e,n){var i=t[n];return void 0!==i?i:e}),n--;return i}e.exports={hashCode:n,parse:i}},function(e,t,n){"use strict";var i=n(41).make,r=i({1:"普通账号",2:"企业账号",21:"企业子账号",5:"公共账号",51:"公共子账号",3:"高级用户",4:"秀客",99:"运营人员"});e.exports={USER_ROLE:r}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t[t[n]=i]=n}return t}e.exports={make:n}},function(e,t,n){e.exports=n.p+"images/spring-5632ca.jpg"},function(e,t,n){"use strict";function i(){var e=a.nr(),t=a.ppitest(),n=o();return"\n"+t+"\n"+n+'\n<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '+e+'\n        <div class="bottom"></div>\n    </div>\n</div>'}function r(){return'<div class = "ctrl_panel">\n        <a id = "pre_page" type = "button" class = "pre_btn btn">上一页</a>\n        <a id = "next_page" type = "button" class = "next_btn btn">下一页</a>\n    </div>'}function o(){var e=n(45);return'\n<div id="code">\n    <div style="margin-bottom:15px;">\n        <div class="app" style="position:relative;">\n            <a id="downApp" style="font-size:12px;margin-top:-4px;">下载APP</a>\n            <div id="downAppView" class="zoomIn-change">\n                <h3><a id="close" style="cursor:pointer">X</a>易企秀APP</h3>\n                <div id="downCode"></div>\n                <p style="padding-bottom:20px;padding-top:10px;">一键生成H5，随时随地查数据</p>\n            </div>\n        </div>\n        扫一扫，分享给朋友！\n    </div>\n    <div style="text-align: center;background:#fff;padding: 10px;" id="codeImg"/>\n    <div id="view_share" class="bdsharebuttonbox">\n        <a class="share-qq" href="" target="_blank"><span class="eqf-qq share-icon"></span></a>\n        <a class="share-qqZone" href="" target="_blank"><span class="eqf-QQzone share-icon"></span></a>\n        <a class="share-weibo" href="" target="_blank"><span class="eqf-weibo2 share-icon"></span></a>\n    </div>\n    <div id="view_reg">这么漂亮的场景&nbsp;→\n        <span>\n            <a target="_blank" href="'+l+'cats-2.html">我也来制作</a>\n        </span>\n    </div>\n    <div id="support">技术支持 BY <a target="_blank" href="'+u+'">\n        <img id="logoSmall" src="'+e+'"/>\n    </a>\n    </div>\n</div>\n'}function s(e){$("#view_reg").after('<div id="sample_btn">使用该模板</div>'),$("body").on("click","#sample_btn",function(){window.open(l+"cats-2.html?useTplId="+e)})}var a=n(44),c=n(31),u=c.EQX,l=c.STORE;e.exports={div:i,pcCtrlBtn:r,addSample:s}},function(e,t,n){"use strict";function i(){return'<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>'}function r(){var e=$(".loading").remove().show()[0].outerHTML;return'\n<div class="nr" id="nr">\n    '+e+"\n</div>\n"}function o(e,t){e=e||"场景名称";var n=t.startsWith("http")?t:s.FILE+t;return'\n<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            <!-- 3、场景封面 -->\n            <img class="cover-img" src="'+n+'">\n        </div>\n        <!-- 4、场景名称 -->\n        <div class="scene-name">'+e+'</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>'}var s=n(31);e.exports={nr:r,ppitest:i,pwd:o}},function(e,t,n){e.exports=n.p+"images/bg_small-8b8bf0.png"},function(e,t,n){"use strict";function i(){var e=a.nr();return'<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '+e+'\n        <div class="bottom"></div>\n    </div>\n</div>'}function r(){var e=a.nr(),t=a.ppitest();return"\n"+t+'\n<div class="p-index main iframe-phone" id="con" style="display: none; width: 320px; margin-right: 40px;">\n'+e+"\n</div>\n"}function o(){return'<div class = "iframe_panel" style="z-index:2;">\n        <div class="preview"><a id = "pre_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore2"></span></a></div>\n        <div class="next"><a id = "next_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore"></span></a></div>\n    </div>'}function s(){return'<div class="iframe_panel2">\n                    <ul>\n                        <li id="pre_page">上一页</li>\n                        <li id="next_page">下一页</li>\n                    </ul>\n                </div>'}var a=n(44);e.exports={div:i,phoneDiv:r,ctrlBtnDiv:o,ctrlBtnDiv2:s}},function(e,t,n){"use strict";function i(){var e=r.nr(),t=r.ppitest();return"\n"+t+'\n<div class="p-index main" id="con" style="display: none;">\n'+e+"\n</div>\n"}var r=n(44);e.exports={div:i}},function(e,t,n){"use strict";function i(){return/max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(window.location.host)}function r(){return(/\/(\w+)$/.exec(window.location.pathname)||[])[1]}function o(){function e(e){return m(e),e}return new Promise(function(t,n){var o=window.scene;if(o)t(e(o));else if(window.__isServerRendered&&!window.scene&&n("场景数据异常"),i()){var s=r();window.__isMax=!0,f({type:"GET",url:l.SERVER_MAX+"m/new/check/model/code?objectId="+s+"&JSESSIONID=ff4ff6599aa04597861955583c300a5d"}).then(function(i){if(i&&i.data){var r=i.data,o=window.scene=r.scene,s=r.pages.map(function(e){return{elements:e}});window.viewData={list:s},t(e(o))}else n("无审核场景数据")}).catch(function(){n("无审核场景数据")})}else h({type:"GET",url:l.SERVER_1+"eqs/sc?code="+c()}).then(function(i){i.obj?t(e(i.obj)):n("无场景数据")}).catch(function(){n("无场景数据")})})}function s(e){if(window.viewData)return Promise.resolve(window.viewData);var t={type:"GET",url:a()};return e&&(t.data={password:e}),f(t)}function a(){var e=window.scene||{},t=e.id,n=e.code;if(!t)throw new Error("Not Valid Scene! No Id!");if(!n)throw new Error("Not Valid Scene! No Code!");var i=g("userKey"),r=g("cache"),o=l.SERVER_1,s=y(window.scene);s&&(o=l.SERVER_2),(i||r)&&(o=l.SERVER_1);var a=o+"eqs/page/"+t+"?code="+n,c=v(a);if(i&&c.searchParams.set("userKey",i),r&&c.searchParams.set("cache",r),a=c.href,!s){var u=v(a);u.searchParams.set("time",(new Date).getTime()),a=u.href}return a}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(window.scene)return window.scene.code;e=v(e);var t=e.pathname,n=t.lastIndexOf("/");if(n>-1)var i=t.substr(n+1);if(!i)throw new Error("No Valid Scene Code!");return i.length>10&&console.error("URL Code 大于 10 位, 请检查 Code"),i}function u(){return Math.ceil(1e10*Math.random())}var l=n(31),p=n(34),h=p.ajax,f=p.$ajax,d=n(30),g=d.getUrlParam,v=d.parseUrl,m=n(49).perfectMeta,y=n(37).isVipScene;e.exports={$getSceneMetaData:o,$getSceneData:s,randomId:u}},function(e,t,n){"use strict";function i(e){return e.ext||(e.ext={}),"string"==typeof e.property&&(e.property=JSON.parse(e.property)||{}),"string"==typeof e.bgAudio&&(e.bgAudio=JSON.parse(e.bgAudio)||null),null===e.accessCode&&(e.accessCode=""),c(e),s(e),a(e),e}function r(e){e.name=e.name||"未命名场景",e.name=e.name.replace(/&quot;/g,'"')}function o(e){e.description=e.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。"}function s(e){switch(e.pageMode+""){case"2":e.pageMode=u["上下翻页"]}void 0===u[e.pageMode]&&(_DEBUG_,e.pageMode=u["上下翻页"]),e.property||(e.property={});var t=e.property;return"triggerLoop"in t||(t.triggerLoop=!0),"autoFlip"in t||(t.autoFlip=!1),t.autoFlipTime||(t.autoFlipTime=3),"forbidHandFlip"in t||(t.forbidHandFlip=!1),void 0!==t.slideNumber&&null!==t.slideNumber||(t.slideNumber=!0),e}function a(e){var t=e.property,n=e.createTime,i=e.hideEqAd,r=e.eqAdType,o=e.isAdvancedUser,s=e.bottomLabel;switch(n<14165028e5|i|99===r&&(t.eqAdType=l["无尾页无底标"],delete t.createTime,delete t.hideEqAd),o&&(t.ad=2,s&&s.id?t.eqAdType=l["品牌联合底标"]:t.eqAdType=l["技术支持底标"],delete t.isAdvancedUser),""+t.eqAdType){case l["无尾页无底标"]:t.ad=0;break;case l["技术支持尾页"]:t.ad=1;break;case l["技术支持底标"]:case l["品牌联合底标"]:t.ad=2;break;case l["deepshare尾页"]:t.ad=4;break;default:t.eqAdType=l["技术支持尾页"],t.eqAdType=parseInt(t.eqAdType),t.ad=1}}function c(e){var t=e.property;if(t.shareDes&&"string"==typeof t.shareDes)try{t.shareDes=JSON.parse(t.shareDes)}catch(e){t.shareDes={description:{type:"position",description:t.shareDes}}}var n=!1;if(t.wxCount>0||(1==t.clickFarmerStatus||2==t.clickFarmerStatus)&&t.wxClickFarmerCount>0)n=!0;else{var i=t.shareDes;i&&(i.description&&["myself","selfAndPosition"].includes(i.description.type)||i.title&&["myself","selfAndPosition"].includes(i.title.type)||i.avatar)&&(n=!0)}t.wxAuth=n}var u=n(50).PAGE_MODE,l=n(51).AD_TYPE;e.exports={perfectMeta:i,perfectPageMode:s,perfectAdType:a,perfectName:r,perfectDescription:o}},function(e,t){"use strict";function n(e){return a.includes(e)}function i(e){return c.includes(e)}var r={up:1,right:2,down:3,left:4},o=[{name:"上下翻页",type:0,dir:r.down},{name:"上下惯性翻页",type:1,dir:r.down},{name:"左右惯性翻页",type:3,dir:r.right},{name:"左右翻页",type:4,dir:r.right},{name:"左右连续翻页",type:5,dir:r.right},{name:"立体翻页",type:6,dir:r.down},{name:"卡片翻页",type:7,dir:r.down},{name:"放大翻页",type:8,dir:r.down},{name:"交换翻页",type:9,dir:r.right},{name:"翻书翻页",type:10,dir:r.right},{name:"上下连续翻页",type:11,dir:r.down},{name:"掉落翻页",type:12,dir:r.down},{name:"淡入翻页",type:13,dir:r.down},{name:"上下推出翻页",type:14,dir:r.down},{name:"左右推出翻页",type:15,dir:r.right},{name:"折叠翻页",type:16,dir:r.down}],s={};o.forEach(function(e){s[e.type]=e.name,s[e.name]=e.type});var a=o.filter(function(e){return e.dir==r.down}).map(function(e){return e.type}),c=o.filter(function(e){return e.dir==r.right}).map(function(e){return e.type});e.exports={isBottomArrow:n,isRightArrow:i,BOTTOM_ARROWS:a,RIGHT_ARROWS:c,PAGE_MODE:s}},function(e,t,n){"use strict";var i=n(41).make,r=i({0:"无尾页无底标",1:"技术支持尾页",2:"技术支持底标",3:"品牌联合底标",4:"deepshare尾页"});e.exports={AD_TYPE:r}},function(e,t,n){"use strict";function i(e){var t=e.property.activityPageId;if(e.isPwd)var n=new Promise(function(t){new o(e.cover,$("#nr"),t)});else n=s();var i=n.then(function(t){return t.meta=e,new l(t,[p]).start(),t}),m=a(t).catch(function(){return null});return Promise.all([i,m]).then(function(e){var t=r(e,2),n=t[0],i=t[1];return i instanceof Object&&n.list.push(i),n}).then(function(e){var t=e.meta;if(!d(t))return e;var n=t.ext;return c(n.yqc.ad).then(function(t){return t&&t.list&&t.list.length?(t.list.filter(function(e){return!!e.scenePage}).forEach(function(t){for(var n=t.scenePage,i=t.pageNum,r=n.elements||[],o=0;o<n.elements.length;o++){var s=r[o];if(s&&"EqxAdvertise"==v[s.type]){s.content="";break}}var a=i-1,c=e.list;a>c.length?c.push(n):c.splice(a,0,n)}),e):e}).catch(function(t){return console.error(t||"广告尾页请求或者解析失败"),e})}).then(function(e){return new u(e).addPageFn(h).addEleFn(f).start(),g(e)})}var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(53).Guess,s=n(48).$getSceneData,a=n(56).$getActivityPage,c=n(57).$getYqcAd,u=n(58),l=n(59).ObjAdaptor,p=n(60).perfectScene,h=n(61).perfectPage,f=n(64).perfectComp,d=n(37).isEqxAdScene,g=n(71).addEqAdInfo,v=n(63).COMP_TYPE;e.exports={getPerfectSceneData:i,$getActivityPage:a}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(54);var o=n(55),s=n(39).parse,a=n(48).$getSceneData,c=n(32),u=c.mobilecheck,l=c.isAndroidPhone,p=c.tabletCheck,h=c.isPc,f=n(31),d=function(){function e(t,n,r){if(i(this,e),this.callBack=r,this.password="",t.startsWith("http")||(t=f.FILE+t),n.append(s(o,{cover:t})),$("#loading").hide(),$("#verifyCode").show(),h()||l()?($(".password-numbers>span").on("click",this.passwordEventListener.bind(this)),$("#btnClear").on("click",this.btnClearEventListener.bind(this)),$("#btnCancel").on("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").on("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").on("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").on("touchstart",this.btnCancelEventListener.bind(this))),u()||p()){var a,c=$(".container"),d=c.width(),g=c.height();a=Math.floor(10*Math.min(document.documentElement.clientHeight/g,document.documentElement.clientWidth/d))/10,c.css("transform","scale("+a+", "+a+")")}}return r(e,[{key:"requestSceneDataWithPassword",value:function(e){var t=this;a(e).then(function(e){t.clearGuess(),t.callBack(e)}).catch(function(){t.warnGuess()})}},{key:"animateVerifyTip",value:function(){var e=this;$("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("shake"),e.syncronizeTheIndicator()})}},{key:"syncronizeTheIndicator",value:function(){var e=this;$(".password-indicator li").each(function(t,n){t<e.password.length?$(n).addClass("active"):$(n).removeClass("active")})}},{key:"passwordEventListener",value:function(e){var t=$(e.target);t.addClass("active"),this.password+=t.text(),this.syncronizeTheIndicator(),4==this.password.length&&(this.requestSceneDataWithPassword(this.password),this.password=""),setTimeout(function(){t.removeClass("active")},100)}},{key:"btnClearEventListener",value:function(e){this.password="",this.syncronizeTheIndicator()}},{key:"btnCancelEventListener",value:function(e){this.password&&(this.password=this.password.substring(0,this.password.length-1),this.syncronizeTheIndicator())}},{key:"clearGuess",value:function(){$("#verifyCode").remove(),h()||l()?($(".password-numbers>span").off("click",this.passwordEventListener.bind(this)),$("#btnClear").off("click",this.btnClearEventListener.bind(this)),$("#btnCancel").off("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").off("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").off("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").off("touchstart",this.btnCancelEventListener.bind(this)))}},{key:"warnGuess",value:function(){$("#verifyCode").show(),this.animateVerifyTip()}}]),e}();e.exports={Guess:d}},function(e,t){},function(e,t){e.exports='<div id="verifyCode" class="verifyCode"><div class="container"><div class="scene-cover"><img class="cover-img" src="#{cover}"></div><div class="scene-name">场景名称</div><div class="confirm-password"><div class="verify-label">请输入访问密码</div><div class="verify-tips" id="verifyTip"><ul class="password-indicator"><li></li><li></li><li></li><li></li></ul></div><div class="password-numbers"><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>0</span></div><div class="password-operation"><span class="btn-clear" id="btnClear">清空</span> <span class="btn-cancel" id="btnCancel">取消</span></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return o({type:"GET",url:s.SERVER_2+"eqs/trailer/"+e})}function r(e){return e?i(e).then(function(e){return e.obj?(e.obj.isActivity=!0,e.obj):Promise.reject("活动尾页数据错误")}):Promise.reject("没有活动尾页 ID")}var o=n(34).$ajax,s=n(31);e.exports={$getPageInfo:i,$getActivityPage:r}},function(e,t,n){"use strict";function i(e){return o({type:"GET",url:s.SERVER_1+"adview/scenePage/find",data:{sceneId:e,time:Date.now()}})}function r(e){return o({type:"GET",url:s.SERVER_1+"adview/tail/find",data:{sceneId:e,time:Date.now()}})}var o=n(34).ajax,s=n(31);e.exports={$getYqcAd:i,$getYqcTail:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(59),s=o.ObjAdaptor,a=o.ListAdaptor,c=n(60).perfectScene,u=function(){function e(t){i(this,e),c(t),this.sceneJson={map:t.map,meta:t.meta,list:t.list},this.mapAdaptor=new s(t.map),this.metaAdaptor=new s(t.meta),this.pageAdaptor=new a(t.list),this.eleAdptorList=t.list.map(function(e){return e.elements||(e.elements=[]),new a(e.elements)})}return r(e,[{key:"addMapFn",value:function(e){return this.mapAdaptor.addFn(e),this}},{key:"addMetaFn",value:function(e){return this.metaAdaptor.addFn(e),this}},{key:"addPageFn",value:function(e){return this.pageAdaptor.addFn(e),this}},{key:"addEleFn",value:function(e){return this.eleAdptorList.forEach(function(t){return t.addFn(e)}),this}},{key:"start",value:function(){var e=this;this.mapAdaptor.start(this.sceneJson),this.metaAdaptor.start(this.sceneJson),this.pageAdaptor.start(this.sceneJson),this.eleAdptorList.forEach(function(t){return t.start(e.sceneJson)})}}]),e}();e.exports=u},function(e,t){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this.fns=t}return o(e,[{key:"addFns",value:function(e){var t=this;return e.forEach(function(e){return t.addFn(e)}),this}},{key:"addFn",value:function(e){return this.fns.includes(e)||this.fns.push(e),this}},{key:"removeFn",value:function(e){var t=this.fns.indexOf(e);return t>-1&&this.fns.splice(t,1),this}},{key:"clearFns",value:function(){return this.fns.length=0,this}},{key:"start",value:function(){return this}}]),e}(),a=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return o.data=e,o}return i(t,e),o(t,[{key:"start",value:function(e){var t=this;return this.fns.forEach(function(n){return n.call(null,t.data,e)}),this}}]),t}(s),c=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return Array.isArray(e)||(_DEBUG_&&console.error("Invalid Array"),e=[]),o.list=e,o}return i(t,e),o(t,[{key:"start",value:function(e){var t=this;return this.fns.forEach(function(n){return t.list.forEach(function(t){return n.call(null,t,e)})}),this}}]),t}(s);e.exports={ObjAdaptor:a,ListAdaptor:c}},function(e,t){"use strict";function n(e){return e.meta?e.obj=e.meta:e.obj=e.obj||{},e.meta=e.obj,e.map=e.map||{},e.list=e.list||[],e.list.forEach(function(e,t){e.num=t+1}),e}e.exports={perfectScene:n}},function(e,t,n){"use strict";function i(e,t){r(e),a(e,t),o(e,t),s(e),u(e),l(e.properties)}function r(e){e.elements&&e.elements.forEach(function(e){e.css=e.css||{};var t=e.type;"3"==t?e.css.zIndex=-1:"q"==t&&(e.css.zIndex=0)})}function o(e){e.elements=e.elements.filter(function(e){var t=e.type;if("EqxShape"==p[t]){var n=e.properties,i=n.type,r=n.src;if(r)return!0;if(!i)return!1;if(i.includes("symbols"))return!0;var o=i.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});return!!o}return!0})}function s(e){var t=e.properties,n=t.longPage;n&&n>1&&n<6&&(t.longPage=486*n)}function a(e,t){e.properties=e.properties||{},e.elements=e.elements||[],e.sceneId=t.meta.id,e.elements.forEach(function(t){return t.pageId=e.id})}function c(e){var t=e+"Effect";h.includes(t)||h.push(t)}function u(e){var t=e.properties||{};if(t.image||t.scratch){c("scratch");var n=t.effect=Object.assign({name:"scratch"},t.image||t.scratch),i=n.percentage?n.percentage.value||n.percentage||.15:.15;return delete n.percentage,n.percentage=i,void(t.image?delete t.image:delete t.scratch)}if(t.finger)return c("finger"),t.effect=Object.assign({name:"finger"},t.finger),void delete t.finger;if(t.fallingObject)return c("fallingObject"),t.effect=Object.assign({name:"fallingObject"},t.fallingObject),void delete t.fallingObject;if(t.effect){var r=t.effect.name;c(r),"money"===r&&_DEBUG_&&(t.effect.seconds=2)}}var l=n(62),p=n(63).COMP_TYPE,h=[];e.exports={perfectPage:i,perfectJson:a,perfectLongPage:s,perfectTrigger:l,effectArr:h,perfectEffect:u}},function(e,t){"use strict";function n(e){var t=e.trigger;if(t){var n=t.sends,i=t.receives;Array.isArray(n)&&(n.forEach(function(e){return e.handles=e.handles.filter(function(e){return e.ids.length})}),t.sends=n.filter(function(e){return e.handles.length})),Array.isArray(i)&&(t.receives=i.filter(function(e){return e.ids.length})),_DEBUG_&&e.pageId}}e.exports=n},function(e,t){"use strict";var n={7:"EqxNewText",2:"EqxText",x:"EqxText",298:"EqxDeepShare",299:"EqxReport",3:"EqxBackground",4:"EqxImage",8:"EqxTelephone",b:"EqxComment",h:"EqxShape",i:"EqxCount",l:"EqxLink",t:"EqxChart",v:"EqxInteractiveVideo",p:"EqxImageSlider",m:"EqxMap",n:"EqxRandom",s:"EqxSound",d:"EqxPv",g:"EqxAdvertise",e:"EqxDownTime",f:"EqxUpTime",a:"EqxScore",c:"EqxCheckbox",r:"EqxRadio",z:"EqxDropDownList",5:"EqxInput",501:"EqxInput",502:"EqxInputPhone",503:"EqxInputEmail",504:"EqxInput",6:"EqxSubmitButton",601:"EqxSubmitButton",201:"EqxWxNickName",401:"EqxWxProfile",403:"EqxWxUploadImage",w01:"EqxWxSoundPlay",w02:"EqxWxSoundRecord",j:"EqxImgVote",k:"EqxTextVote",q:"EqxGravity"},i=["5","501","502","503","504","c","r","z","a"],r=["201","401","403","w01","w02","j","k"],o=["i","6","601"],s=["3","q"];e.exports={COMP_TYPE:n,FORM_COMPS:i,WX_COMPS:r,WX_CLICK_FARMER_COMPS:o,FIX_INDEX_COMPS:s}},function(e,t,n){"use strict";function i(e,t,n){return r(e,t),o(e,t,n),s(e),c(e),a(e),u(e),l(e),p(e,t),m(e),e}function r(e,t){e.properties=e.properties||{},e.css=e.css||{},e.sceneId=t.meta.id,e.trigger&&(e.properties.initType=e.trigger.initType||e.properties.initType,delete e.trigger.initType)}function o(e,t,n){var i=e.css,r=g[e.type];if("translate3d(0px, 0px, 0px) rotateZ(0deg) scale(1, 1)"===i.transform&&(i.transform=""),"EqxBackground"!==r){var o=["top","left","width","height","zIndex"];o.forEach(function(e){void 0===i[e]&&(_DEBUG_,"height"===e&&(["EqxInput","EqxInputEmail","EqxInputPhone"].includes(r)&&(i.height=38),"EqxSubmitButton"===r&&(i.height=36),"EqxRadio"!==r&&"EqxCheckbox"!==r||_DEBUG_&&console.info(r),_DEBUG_&&console.info("add height",i.height)))});var s={color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},a=Object.assign({},s,i);Object.assign(i,a)}if(f(e),h(i),n){var c=n.properties.longPage||486;i.bottom&&(i.top=c-i.bottom-i.height,console.log("bottom "+i.bottom+" height "+i.height+" -> top "+i.top),delete i.bottom)}return i.top||(i.top=0),i.left||(i.left=0),e}function s(e){var t=e.properties;"string"==typeof t&&(t={}),t.anim?(Array.isArray(t.anim)||(t.anim=[t.anim]),t.anim=t.anim.filter(function(e){var t=e||{},n=t.type,i=t.direction;return!(n==-1||null==n||void 0==n||!y[n])&&(y[n][i]||(console.error("invalid animation type",e),e.direction=0),!0)})):t.anim=[],t.anim.forEach(function(e){["delay","duration"].forEach(function(t){"string"==typeof e[t]&&(e[t]=parseFloat(e[t]))})})}function a(e){var t=e.type,n=e.properties,i=n.cropSize,r=n.croptype,o=n.pageLength;"EqxBackground"===g[t]&&(i&&!r&&(n.croptype=v["固定背景模式"]),o&&(o<2&&delete n.pageLength,o<10&&(n.pageLength=486*o)))}function c(e){if("EqxImage"===g[e.type]){var t=e.properties;h(t),h(t.imgStyle||(t.imgStyle={}))}}function u(e){var t=g[e.type];"string"!=typeof e.choices||"EqxCheckbox"!==t&&"EqxDropDownList"!==t&&"EqxRadio"!==t||(e.choices=JSON.parse(e.choices)||{})}function l(e){}function p(e,t){var n=t.meta.publishTime,i=g[e.type];if("EqxText"===i||"EqxAwesomeText"===i){e.type=2,e.properties&&e.properties.dataUrl&&delete e.properties.dataUrl;var r=e.content;r&&r.length>0&&(r=r.replace(/(^\s*)|(\s*$)/g,""),b.isBadStr(r)&&(console.error("xss text"),r=b.toGoodStr(r)),e.content=r),e.publishTime=n}}function h(e){"100%"===e.width&&(e.width=320),["opacity","width","height","top","bottom","left","right","zIndex","borderWidth","borderBottomLeftRadius","borderBottomRightRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"].forEach(function(t){var n=e[t];n&&(e[t]=parseFloat(n))})}function f(e){var t=e.css,n=g[e.type],i=["top","bottom","left","zIndex","width","height","lock","transform","opacity","color","backgroundColor","lineHeight","fontSize","textAlign","fontWeight","writingMode","letterSpacing","fontFamily","paddingBottom","paddingTop","letterSpacing","fontStyle","textDecoration","letterSpacing","fontStyle","borderWidth","borderStyle","borderColor","borderRadius","borderRadiusPerc","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","boxShadow","boxShadowDirection","boxShadowSize"];return Object.keys(t).forEach(function(e){var r=i.indexOf(e),o=t[e];if(r===-1&&(_DEBUG_,"EqxInput"===n&&"text-align"===e&&(t.textAlign=t.textAlign||t["text-align"],delete t[e]),"border"===e)){var s=d(o);t.borderColor=s.borderColor||t.borderColor,t.borderWidth=s.borderWidth||t.borderWidth,t.borderStyle=s.borderStyle||t.borderStyle,delete t[e],_DEBUG_&&console.info("delete border:",o,"add",t.borderColor,t.borderWidth,t.borderStyle)}}),e}function d(e){var t=e.split(" ");return{borderWidth:t[0],borderStyle:t[1],borderColor:t[2]}}var g=n(63).COMP_TYPE,v=n(65).BG_CROP_TYPE,m=n(62),y=n(66).ANIMATION_TYPE,b=n(70);e.exports={perfectComp:i,perfectJson:r,perfectCss:o,perfectAnim:s,perfectBg:a,perfectChoice:u,perfectInput:l,perfectText:p,perfectTrigger:m}},function(e,t){"use strict";var n={"固定背景模式":1,"全屏背景模式":2};e.exports={BG_CROP_TYPE:n}},function(e,t,n){"use strict";function i(e){if(e.$boxDiv.css({animation:""}),e.$contextCopy){var t=e.$contextCopy.data("typed");t&&t.reset()}}function r(e,t){function n(){if(v++,v>=g.length)l&&l();else{var t=g[v],i=t.type,m=t.direction,y=t.duration,b=void 0===y?.1:y,w=t.linear,x=t.count,P=t.countNum,_=void 0===P?1:P,k=t.delay,E=void 0===k?0:k;0===b&&(b=.1),null==E&&(E=0);var $=w?"linear":"ease",S=u[i];if(!S)return n();var O=S[m]||u[i][0],T=x?"infinite":_;if(r&&(T=1),h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),"typer"===O)f.css({opacity:0}),o().then(function(){var t=g[v].interval,i=e.create$context(),r={position:"absolute","pointer-events":"none"};e.compJson.css.writingMode&&"vertical-rl"===e.compJson.css.writingMode?r.left="-30px":r.top="0px",i.attr("context-copy",1).css(r),f.after(i),e.$contextCopy=i;var o=function(){e.$contextCopy=null,setTimeout(function(){i.remove(),i=null,e.$contextCopy||f.css({opacity:1}),n()},100)};i.typed({strings:[d.content],contentType:"html",showCursor:!1,typeSpeed:1e3*t||0,startDelay:1e3*E||0,onFirstTyped:function(){setTimeout(function(){i&&i.css({opacity:1})},0)},callback:function(){clearInterval(i.data("typed").timeout),i.removeData("typed"),o()},resetCallback:function(){o()}})},function(){f.css({opacity:1})});else if("particles"===O){var I=function(){if("number"==typeof T){if(1==T)return void n();T>1&&C(),T--}else C()},C=function t(){var n=Math.abs(parseInt(h.find("img").css("marginLeft"))),i=Math.abs(parseInt(h.find("img").css("marginTop")));h.css("opacity","0");var t=new a({
type:e.compJson.type,top:n,left:i,$parEle:p,imgUrl:c+e.compJson.properties.src,startX:e.compJson.css.width,startY:e.compJson.css.height,imgX:0,imgY:0,delay:1e3*E,duration:1e3*b,interval:0,ease:"linear"},I);t.animate()};p.remove("canvas"),"h"==e.compJson.type?(h.css("opacity","0"),s().then(function(){C()})):C()}else{var q={"animation-name":O,"animation-duration":b+"s","animation-timing-function":$,"animation-delay":E+"s","animation-iteration-count":T,"animation-direction":"normal","animation-fill-mode":"both"},A=Object.keys(q).map(function(e){return q[e]}).join(" ");h.css("animation",A),h.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){v<g.length-1&&h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),setTimeout(function(){n()},0)})}}}var i=t.animIndex,r=t.maxCount,l=t.callback,p=e.$li,h=e.$boxDiv,f=e.$context,d=e.compJson,g=d.properties.anim||[];i&&(g=g.slice(i,i+1));var v=-1;n()}var o=n(35).$loadTyped,s=n(35).$canvas,a=n(67).Particles,c=n(31).FILE,u=n(68).ANIMATION_TYPE;n(69),e.exports={startAnimation:r,stopAnimation:i,ANIMATION_TYPE:u}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(r={easeInOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*(((r*=1.525)+1)*e-r))+t:n/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},linear:function(e,t,n,i){return n*e/i+t},easeInOutQuad:function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},easeOutQuad:function(e,t,n,i){return e/=i,-n*e*(e-2)+t}},i(r,"easeOutQuad",function(e,t,n,i){return e/=i,-n*e*(e-2)+t}),i(r,"easeInCubic",function(e,t,n,i){return e/=i,n*e*e*e+t}),i(r,"easeOutCubic",function(e,t,n,i){return e/=i,e--,n*(e*e*e+1)+t}),i(r,"easeInOutCubic",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)}),i(r,"easeInQuart",function(e,t,n,i){return e/=i,n*e*e*e*e+t}),i(r,"easeOutQuart",function(e,t,n,i){return e/=i,e--,-n*(e*e*e*e-1)+t}),i(r,"easeInOutQuart",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)}),i(r,"easeInQuint",function(e,t,n,i){return e/=i,n*e*e*e*e*e+t}),i(r,"easeOutQuint",function(e,t,n,i){return e/=i,e--,n*(e*e*e*e*e+1)+t}),i(r,"easeInOutQuint",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)}),i(r,"easeInSine",function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}),i(r,"easeOutSine",function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t}),i(r,"easeInOutSine",function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t}),i(r,"easeInExpo",function(e,t,n,i){return n*Math.pow(2,10*(e/i-1))+t}),i(r,"easeOutExpo",function(e,t,n,i){return n*(-Math.pow(2,-10*e/i)+1)+t}),r),a=function(){function e(t,i){n(this,e),this.colNumber=3,this.$parEle=t.$parEle,this.canvas={},this.image={},this.requestId=0,this.startTime=0,this.array=[],this.startX=t.startX,this.startY=t.startY,this.callBackFn=i,this.param=t,this.init()}return o(e,[{key:"randomX",value:function(){return parseInt(Math.random()*this.startX)}},{key:"randomY",value:function(){return parseInt(Math.random()*this.startY)}},{key:"init",value:function(){var e=this;if(this.$parEle.find("canvas").remove(),this.$canvas=$("<canvas></canvas>"),this.$parEle.prepend(this.$canvas),this.$canvas.css({position:"absolute",top:0,left:0}),this.canvas=this.$canvas[0],this.image.isLoaded=!1,this.canvas.width=this.$parEle.width(),this.canvas.height=this.$parEle.height(),this.canvas.ctx=this.canvas.getContext("2d"),"h"===this.param.type)return void setTimeout(function(){canvg(e.canvas,e.$parEle.find(".element-box-contents")[0],{ignoreMouse:!0,ignoreAnimation:!0}),e.calCanvas()},10);if(this.canvas&&this.canvas.getContext){var t=new Image;t.onload=function(){var n=e.$parEle.find("img").width(),i=e.$parEle.find("img").height(),r=t.height/i,o=t.width/n;e.canvas.ctx.drawImage(t,e.param.top*o,e.param.left*r,o*e.canvas.width,r*e.canvas.height,0,0,e.canvas.width,e.canvas.height),e.calCanvas()},t.crossOrigin="anonymous",t.src=this.param.imgUrl}}},{key:"draw",value:function(){this.image.isLoaded?this._draw():setTimeout(this.draw.bind(this))}},{key:"animate",value:function(){this.image.isLoaded?this._animate(this.param.delay):setTimeout(this.animate.bind(this))}},{key:"_calculate",value:function(e){for(var t=this.image.imgData.data,n=e.cols,i=e.rows,r=Math.round(this.canvas.width/n),o=Math.round(this.canvas.height/i),s=0,a={},c=0;c<n;c++)for(var u=0;u<i;u++)s=4*(u*o*this.canvas.width+c*r),t[s+3]>25&&(a={x0:this.randomX(),y0:this.randomY(),x1:this.param.imgX+c*r,y1:this.param.imgY+u*o,delay:u/20,currTime:0,count:0,duration:parseInt(e.duration/16.66)+1,interval:parseInt(10*Math.random()*e.interval),ease:e.ease,ratioX:e.ratioX,ratioY:e.ratioY},a.fillStyle="rgba("+t[s]+", "+t[s+1]+", "+t[s+2]+","+t[s+3]+")",this.array.push(a))}},{key:"_draw",value:function(){this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=this.array.length,t=null,n=0;n<e;n++)t=this.array[n],this.canvas.ctx.fillStyle=t.fillStyle,this.canvas.ctx.fillRect(t.x1,t.y1,1,1)}},{key:"_render",value:function(){var e=this;this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t,n,i=this.array,r=i.length,o=null,a=0,c=0,u=0,l=1,p=1,h=0;h<r;h++)if(o=i[h],o.count++>o.delay){if(this.canvas.ctx.fillStyle=o.fillStyle,a=o.currTime,c=o.duration,u=o.interval,1!==o.ratioX?l=o.ratioX+2*Math.random():1,1!==o.ratioY?p=o.ratioY+2*Math.random():1,i[r-1].duration+i[r-1].interval<.9*i[r-1].currTime)return this.canvas=null,cancelAnimationFrame(this.requestId),this.$parEle.find("canvas").remove(),this.$parEle.find(".element-box").css("opacity","1"),void setTimeout(function(){e.callBackFn()},300);a<c+u?a>=u&&(t=s[o.ease]((a-u)*l,o.x0,(o.x1-o.x0)*l,c),n=s[o.ease]((a-u)*p,o.y0,(o.y1-o.y0)*p,c),this.canvas.ctx.fillRect(t,n,1,1)):this.canvas.ctx.fillRect(o.x1,o.y1,1,1),o.currTime+=Math.random()+.5}this.requestId=requestAnimationFrame(this._render.bind(this))}},{key:"_animate",value:function(e){var t=this;this.startTime+e<(new Date).getTime()?this.requestId=requestAnimationFrame(this._render.bind(this)):setTimeout(function(){t._animate(e)})}},{key:"calCanvas",value:function(){var e=this.param;this.image.imgData=this.canvas.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._calculate({duration:e.duration||0,delay:e.delay||0,interval:e.interval||0,ease:e.ease,ratioX:1,ratioY:1,cols:Math.ceil(this.canvas.width/this.colNumber)||100,rows:Math.ceil(this.canvas.height/this.colNumber)||100}),this.image.isLoaded=!0,this.startTime=(new Date).getTime()}}]),e}();e.exports={Particles:a}},function(e,t){"use strict";var n={0:["fadeIn"],1:["fadeInLeft","fadeInDown","fadeInRight","fadeInUp"],2:["bounceInLeft","bounceInDown","bounceInRight","bounceInUp"],3:["bounceIn"],4:["zoomIn"],5:["rubberBand"],6:["wobble"],7:["rotateIn"],8:["flip"],9:["swing"],10:["fadeOut"],11:["flipOutY"],12:["rollInRight","rollInDown","rollInLeft","rollInUp"],13:["lightSpeedInRight","lightSpeedInDown","lightSpeedInLeft","lightSpeedInUp"],14:["bounceOut"],15:["rollOutRight","rollOutDown","rollOutLeft","rollOutUp"],16:["lightSpeedOutRight","lightSpeedOutDown","lightSpeedOutLeft","lightSpeedOutUp"],17:["fadeOutRight","fadeOutDown","fadeOutLeft","fadeOutUp"],18:["zoomOut"],19:["bounceOutRight","bounceOutDown","bounceOutLeft","bounceOutUp"],20:["flipInY"],21:["tada"],22:["jello"],23:["flash"],24:["flipInX"],25:["flipOutX"],26:["twisterInDownRight","twisterInDownDown","twisterInDownLeft","twisterInDownUp"],27:["puffIn"],28:["puffOut"],29:["slideDown"],30:["slideUp"],31:["twisterInUpRight","twisterInUpDown","twisterInUpLeft","twisterInUpUp"],32:["hingeRight","hingeLeft"],particles:["particles"],typer:["typer"]};e.exports={ANIMATION_TYPE:n}},function(e,t){},function(e,t){"use strict";function n(e){return e?e.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi,""):e}function i(e){return!!e&&(e=e.replace(/[↵\n\t\s]/g,""),/<\s*(img|input)[^>]*\/?>/gi.test(e)||/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(e))}e.exports={toGoodStr:n,isBadStr:i}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n={};return new Promise(function(i,r){return e?y(e).then(function(e){return f(t,e.obj)}).then(function(e){return a(e),i(e)}):(n=u(t),a(n),i(n))})}function o(e){var t=e.meta,n=t.id,r=t.property,o=r.lastPageId,c=r.eqAdType,p=t.bizType,d=t.isTemplate,g=t.ext,x=e.list,P=x.length;return new Promise(function(t,r){function _(){return k=u(e),a(k),x.push(k),t(e)}if(P){var k=x[P-1];k.elements=k.elements||[]}if(40==p&&location.host.includes("eqxiu"))return k=m.bizType40Page(e),a(k,!0),x.push(k),t(e);if(!(w()||30!=p&&2!=d||c!=v["deepshare尾页"]&&(c!=v["技术支持尾页"]||o)))return k=s(e),a(k),x.push(k),t(e);switch(""+c){case v["无尾页无底标"]:return t(e);case v["技术支持尾页"]:if(g&&g.yqc&&g.yqc.tail)var E=b(n).then(function(n){return k=n.obj,a(k),x.push(k),t(e)});else E=Promise.reject();return E.catch(function(){return o?y(o).then(function(t){return f(e,t.obj)}).then(function(n){return a(n),x.push(n),t(e)}).catch(function(){return _()}):(k=u(e),a(k),x.push(k),t(e))});case v["技术支持底标"]:try{var $=l(k),S=m.bottomLabel({sceneId:n,pageId:k.pageId,top:$,pageIndex:P});return k.elements.push(S),t(e)}catch(e){return console.error("添加技术支持底标尾页失败",e),_()}case v["品牌联合底标"]:try{return h(e).then(function(n){return k.elements=[].concat(i(k.elements),i(n)),t(e)})}catch(e){return console.error("添加品牌联合底标失败",e),_()}default:return _()}})}function s(e){var t=e.meta,n=t.id,i=t.cover,r=t.name,o=t.code,s=e.list.length+1;return m.lastPage({id:n,name:r,num:s,cover:i,code:o,isDeepShare:!0})}function a(e,t){var n=e.pageId,i=e.sceneId,r=e.num,o=m.report({pageId:n,sceneId:i,pageIndex:r,center:t});e.elements.push(o)}function c(e){var t=e.sceneId,n=e.url;return g.SERVER_1+"eqs/link?id="+t+"&url="+encodeURIComponent(n)}function u(e){var t=e.meta,n=t.id,i=t.cover,r=t.name,o=e.list.length+1;return m.lastPage({id:n,name:r,num:o,cover:i})}function l(e){var t=(e.properties||{}).longPage||1;return t<10?486*(t-1):t-486}function p(e,t,n){var i=l(e),r=m.bottomLabel({sceneId:t,pageId:e.pageId,top:i,pageIndex:n});return r}function h(e){var t=e.meta,n=t.id,i=t.property.bottomLabel,r=i.id,o=i.name,s=i.url,a=e.list,c=a[a.length-1],u=l(c),p=c.pageId;return y(r).then(function(e){return(e.obj.elements||[]).map(function(e){return d({ele:e,sceneId:n,pageId:p,url:s,top:u,name:o})})},function(){if(_DEBUG_)throw new Error("Invalid Custom Bottom Label");return[]})}function f(e,t){var n=e.list;t.properties=t.properties||{};var r=e.meta,o=r.cover,s=r.id,a=r.name;t.sceneId=s;var c=function(e){var t=e.properties.src;return 4==e.type&&!!t&&["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg","group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png","group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png","group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(t)},u=function(e){2==e.type&&/http:\/\/service.eqxiu.com\/eqs\/link/.test(e.content)&&(e.content=e.content.replace(/;url=.*com"/,";url="+encodeURIComponent(x)))};if("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg"!=o){var l=m.image1();l.properties.src=o}else l=m.eqxLogo();return t.elements=t.elements.filter(function(e){return!c(e)}),t.elements.forEach(u),t.elements=[].concat(i(t.elements),[m.shadow(),l,m.line(),m.title(a)]),t.num=n.length+1,t}function d(e){var t=e.ele,n=e.sceneId,i=(e.pageId,e.url),r=e.top,o=e.name;t.sceneId=n,t.pageId=129811;var s="EQXIU.COM科技公司",a=t.type;return 2==a&&(o&&i&&"http://"!=i&&(t.content=t.content.replace(new RegExp(s),'<a href="'+c({sceneId:n,url:i})+'" target=_blank data-event="1120203">'+o+"</a>")),o?t.content=t.content.replace(new RegExp(s),o):/易企秀技术支持/.test(t.content)&&(Object.assign(t.css,{zIndex:1e3,height:33,width:129,left:97}),t.content='<div style="text-align: center;">'+t.content+"</div>")),t.css.top+=r,t.css.zIndex=200,t}var g=n(31),v=n(51).AD_TYPE,m=n(72),y=n(56).$getPageInfo,b=n(57).$getYqcTail,w=n(32).isApp,x=n(30).redirectUrl();e.exports={addEqAdInfo:o,getLastPage:r,getDefaultBottom:p,getCustomBottomLabel:h}},function(e,t,n){"use strict";function i(e){var t=e.sceneId,n=void 0===t?16060:t,i=e.pageId,r=e.top,o=e.pageIndex,s=f.SERVER_1+"eqs/link?id="+n+"&url="+encodeURIComponent(d),a='\n<div style="text-align: center;transform: translateY(-2px);-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="'+s+'" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">'+g+"</font>\n    </a>\n</div>";return{id:m(),pageId:i,sceneId:n,num:o,type:2,content:a,status:1,css:{zIndex:"1000",height:"20",width:"129",left:"97px",top:418+r+"px",backgroundColor:"rgba(0,0,0,0.6)",borderBottomLeftRadius:20,borderBottomRightRadius:20,borderTopRightRadius:20,borderTopLeftRadius:20,borderRadius:20},properties:{anim:{type:0,direction:0,duration:2,delay:0}}}}function r(e){var t=e.pageId,n=void 0===t?1:t,i=e.sceneId,r=void 0===i?1:i,o=e.pageIndex,s=void 0===o?1:o,a=e.center,c='\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b>举报</b></font>\n    </span>\n</div>';return{id:m(),pageId:n,sceneId:r,num:s,type:299,content:c,status:1,css:{zIndex:999,height:36,width:60,left:a?130:10,top:420},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}}function o(){return{id:m(),pageId:"",sceneId:"",num:1,type:"4",isInput:0,title:null,content:null,status:1,css:{borderRadius:"0",borderStyle:"solid",height:"158",zIndex:"1000",borderColor:"rgba(0,0,0,1)",boxShadow:"0 0px 0px #333333",color:"#000000",backgroundColor:"white",borderWidth:"0px",width:"158",left:"84px",paddingTop:"11px",paddingLeft:"10px",top:"170px"},properties:{height:"100px",imgStyle:{width:139,height:136,marginTop:"0px",marginLeft:"0px"},width:"100px",src:"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"}}}function s(){return{id:m(),pageId:129810,sceneId:16060,num:1,type:2,isInput:0,title:null,content:'\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',status:1,css:{height:"257",width:"257",left:"78px",top:"175px"},properties:{}}}function a(){return{id:m(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-eqxiu"></em>\n</div>',status:1,css:{height:"158",width:"158",left:"84px",top:"170px",backgroundColor:"white"},properties:{}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"点击此处进行编辑";return{id:m(),pageId:"",sceneId:"",num:1,type:"2",isInput:0,title:null,content:'<div style="text-align: center;"><font color="#ffffff" size="3">'+e+"</font></div>",status:1,css:{zIndex:"102",height:"65",width:"320",left:"0px",top:"70px"},properties:{}}}function u(){var e='<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>';return{id:m(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:e,status:1,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}}}function l(){var e='<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>';return{id:m(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:e,status:1,css:{height:257,width:257,left:"78px",top:"175px"},properties:{}}}function p(e){var t=e.id,n=void 0===t?16060:t,i=e.name,r=e.num,o=e.cover,s=void 0===o?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":o,a=(e.code,e.isDeepShare);i||(i="");var c=129810,u=n,l=v()?"":f.SERVER_1+"eqs/link?id="+n+"&url="+encodeURIComponent(d),p="点我免费制作易企秀",h="#23a3d3",g="",y='<div style="text-align: center;"><span style="line-height: 1; background-color: initial;"><font size="4" color="#888888"><b>'+i+"</b></font></span></div>",b='<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);\n        cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>',w='<div style="text-align: center;padding-top: 0;"><span style="font-size: small; line-height: 1; background-color: initial;">\n         <a href="'+l+'" target="_blank"><font color="#888888">'+g+'</font><font color="'+h+'">'+p+"</font></a></span></div>",x='<div style="text-align: center;padding-top: 0;"><span style="font-size: small; line-height: 1; background-color: initial;">\n        <a class="deepShareHref" target="_blank"><font color="#888888">'+g+'</font><font color="#23a3d3">'+p+"</font></a></span></div>",P='<a class="element comp_anchor editable-text deepShareHref" style="cursor: default; width: 100px; height: 36px; display: block;\nbackground: #08c3fd; color:#ffffff;font-size:13px;border-radius: 4px;" data-event="1120601">使用该模板</a>';return{id:"",sceneId:u,num:r,name:i,properties:{},elements:[{id:m(),pageId:c,sceneId:u,num:0,type:"3",css:{},properties:{bgColor:"#E6E9EE"}},{id:m(),pageId:c,sceneId:u,num:1,type:"2",content:y,css:{height:"65",zIndex:"10",width:"320",left:"0px",top:"77px"},properties:{}},{id:m(),pageId:c,sceneId:u,num:2,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"141",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"142.13709677419354",left:"92px",paddingBottom:"0px",top:"177px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:s}},{id:m(),pageId:129810,sceneId:u,num:1,type:"2",content:b,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}},{id:m(),pageId:c,sceneId:u,num:1,type:a&&!v()?"298":"2",content:a?P:"",css:{height:"36",width:"120",left:"98px",top:"350px",zIndex:"13"},properties:{}},{id:439885,pageId:c,sceneId:u,num:1,type:a&&!v()?"298":"2",content:a?x:w,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320",left:"1px",bottom:"36px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}}]}}function h(){return{id:849219621,sceneId:87910723,num:1,name:null,properties:{},elements:[{css:{top:-132,left:-270,width:873,height:692,zIndex:1,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",imgStyle:{width:873,height:1376.3390625,marginTop:-342.16953125,marginLeft:0},maskSrc:"",originSrc:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",anim:[],initType:0},type:4,id:4791539496,pageId:849219621,sceneId:87910723,num:1,name:"图片1"},{css:{top:-197.5,left:-118,width:579.5,height:388,zIndex:2,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fie_7zLKX1jFwnowjnupl0uxuRzf",imgStyle:{width:579.5,height:388,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"Fie_7zLKX1jFwnowjnupl0uxuRzf",anim:[{type:0,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1200"}],initType:0},type:4,id:2648920976,pageId:849219621,sceneId:87910723,num:2,name:"图片2"},{css:{top:283.5,left:78,width:165,height:50.5,zIndex:5,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",imgStyle:{width:165,height:50.5,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",anim:[{type:24,direction:0,duration:1,delay:.2,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1336"}],initType:0},type:4,id:6696803295,pageId:849219621,sceneId:87910723,num:5,name:"图片4"},{css:{top:118.5,left:86,width:148,height:148,zIndex:4,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FvqrpftukXbdDhFScUbzUuFZEIkz",imgStyle:{width:148,height:148,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FvqrpftukXbdDhFScUbzUuFZEIkz",anim:[{type:4,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1268"}],initType:0},type:4,id:8888432263,pageId:849219621,sceneId:87910723,num:4,name:"图片5"}],price:null,isPaid:null,forms:null}}var f=n(31),d=n(30).redirectUrl(),g="易企秀技术支持",v=n(32).isApp,m=n(48).randomId;n(73),e.exports={bottomLabel:i,report:r,image1:o,image2:s,eqxLogo:a,title:c,line:u,shadow:l,lastPage:p,bizType40Page:h}},function(e,t){},function(e,t,n){"use strict";function i(e){return s({type:"POST",url:a.SERVER_1+"eqs/wx/component",data:e})}function r(){return s({type:"GET",url:a.SERVER_1+"eqs/wx/user/cache"})}function o(){var e=c(window.location.href),t="eqs/wx/ticket?time="+Date.now(),n=[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/];return n.some(function(t){return t.test(e)})||(t+=/eqxiu\.cn/.test(e)?"&domain=eqxiu.cn":"&domain="+e),console.log("getWxTicket",t),s({type:"GET",url:a.SERVER_1+t})}var s=n(34).ajax,a=n(31),c=n(30).getUrlHost;e.exports={$postWxComp:i,$getUserWxInfo:r,$getWxTicket:o}},function(e,t,n){"use strict";function i(e,t){d().then(function(){if(v="",m=e.obj.name,y=_.FILE+e.obj.cover,q=e.obj.description||"",x=e.obj.property,b=e.obj.dsAppId||"",w=t,x.shareDes&&"string"==typeof x.shareDes){var n=x.shareDes;x.shareDes={description:{type:"position",description:n}}}if(!x.shareDes)return c();x.shareDes.avatar&&(y=A.headimgurl);var i=e.obj.id;r(x.shareDes,i).then(function(){return c()}).catch(function(e){return console.error(e)})})}function r(e,t){var n=function(){return Promise.resolve(null)},i=function(){return Promise.resolve(null)};return e.title&&e.title.type&&(n=function(){return s(e.title,t).then(function(e){m=e})}),e.description&&e.description.type&&(i=function(){return s(e.description,t).then(function(e){q=e})}),n().then(function(){i()})}function o(e){return void 0!==P?Promise.resolve(P):T(e).then(function(e){return P=e||""}).catch(function(){return P=""})}function s(e,t){var n="";return new Promise(function(i,r){switch(e.type){case"myself":n+="我是"+A.nickname+","+e.description,i(n);break;case"position":o(t).then(function(t){n+="我是第"+t+"位"+e.description,i(n)});break;case"selfAndPosition":o(t).then(function(t){n+="我是"+A.nickname+", 我是第"+t+"位 "+e.description,i(n)})}})}function a(){v=Date.now()+""+Math.floor(1e5*Math.random()),w=$("userKey",v,w),c()}function c(){d().then(function(){var e=S("toPage",w),t=b?DS.linkChange(e):e;wx.onMenuShareTimeline({title:m,link:t,imgUrl:y,success:function(){b&&DS.sendRepost("appMessage"),u()},cancel:function(){}}),wx.onMenuShareAppMessage({title:m,desc:q,link:e,imgUrl:y,success:function(){b&&DS.sendRepost("appMessage"),u(),I(window.scene.id,4,null,7,"浏览完毕转发操作")},cancel:function(){}}),wx.onMenuShareQQ({title:m,desc:q,link:e,imgUrl:y,success:function(){},cancel:function(){}}),wx.onMenuShareWeibo({title:m,desc:q,link:e,imgUrl:y,success:function(){},cancel:function(){}}),wx.onMenuShareQZone({title:m,desc:q,link:e,imgUrl:y,success:function(){},cancel:function(){}})})}function u(){if(v){var e={userKey:v};A&&A.headimgurl&&(j.shareUserHeader=A.headimgurl),A&&A.nickname&&(j.shareUserName=A.nickname),e.data=JSON.stringify(j),O(e).catch(function(e){alert(JSON.stringify(e))})}}function l(e){Object.assign(A,e)}function p(){return A}function h(e){j=e}function f(e,t){j[e]=t}function d(){return C.initWx()}function g(){var e=window.location.href.split("?")[0],t=E("userKey",window.location.href),n=E("toPage",window.location.href);t&&(e=$("userKey",t,e)),n&&(e=$("toPage",n,e)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+k+"&redirect_uri="+encodeURIComponent(_.SERVER_1+"eqs/wx/user/info")+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(e)+"#wechat_redirect"}var v,m,y,b,w,x,P,_=n(31),k=n(76).APP_ID,E=n(30).getUrlParam,$=n(30).addUrlParam,S=n(30).removeUrlParam,O=n(74).$postWxComp,T=n(77).$getPvCount,I=n(78).bigDataXBData,C=n(79),q="",A={},j={};e.exports={initWeChat:i,shareWidthSDK:c,setWeChatUser:l,getWeChatUser:p,setWxCompData:h,saveWxCompData:f,generateUserKey:a,getWxJSSDK:d,hrefToWxAuth:g}},function(e,t,n){"use strict";var i=n(17);e.exports={APP_ID:i.WX_APP_ID}},function(e,t,n){"use strict";function i(e){return o({type:"GET",url:s.SERVER_1+"eqs/scene/pv?sceneId="+e})}function r(e){var t=e.id,n=e.param,i=e.ad,r=s.SERVER_1+"eqs/pv/"+t;return n&&(r+="?1=1",r+=/\?.*/.test(n)?"&"+n.substring(1):/&.*/.test(n)?n:"&"+n),r+=(/\?/.test(r)?"&":"?")+"ad="+i,o({type:"GET",url:r})}var o=n(34).ajax,s=n(31);e.exports={$getPvCount:i,$postPVCount:r}},function(e,t,n){"use strict";function i(e,t,n,i,a){var c={ua:navigator.userAgent.toLowerCase(),netType:navigator.connection?navigator.connection.type:"unknown",eqxPlatformType:"view",eqxPlatformVersion:window.eqxVersion,categoryOne:"scene_preview",categoryOneId:"11",categoryTwoId:i,categoryTwo:a,itemType:"内容页",itemId:scene.id,pageSizeTotal:app.sceneJson.list.length.toString(),pageCurrentNum:null,itemMaps:n,pubOwner:e,mediaType:navigator.platform,refer:null,actionType:t,actionTime:(new Date).getTime()},u=r.BIG_DATA+"logserver/v0.1/push";s("exemplarReview")||o({withCredentials:!0,method:"POST",url:u,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:JSON.stringify(c)})}var r=n(31),o=n(34).ajax,s=n(30).getUrlParam;e.exports={bigDataXBData:i}},function(e,t,n){"use strict";function i(e,t,n){window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(t+"eqs/rel-account/wechat-mp?appId="+e)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(n)+"#wechat_redirect"}function r(e){if(document.title=e,/ip(hone|od|ad)/i.test(navigator.userAgent)){var t=document.createElement("iframe");t.src="http://lib.eqh5.com/images/favicon.ico",t.style.display="none",t.onload=function(){setTimeout(function(){t.remove()},9)},document.body.appendChild(t)}}function o(){var e=f(window.location.href),t="eqs/wx/ticket?time="+Date.now(),n=[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/];return n.some(function(t){return t.test(e)})||(t+=/eqxiu\.cn/.test(e)?"&domain=eqxiu.cn":"&domain="+e),console.log("getWxTicket",t),c({type:"GET",url:u.SERVER_1+t})}function s(){return v?Promise.resolve():v=Promise.all([p(),o(),h()]).then(function(e){var t=e[1].obj,n=t.appId,i=t.ticket;return new Promise(function(e,t){if(n&&i&&i!==-1){var r=location.href.split("#")[0],o="eqxiuview",s=Date.now(),a="jsapi_ticket="+i+"&noncestr="+o+"&timestamp="+s+"&url="+r,c=new jsSHA("SHA-1","TEXT");c.update(a);var u=c.getHash("HEX");console.log("wx config appId "+n+", sign "+a+", hash "+u),wx.config({debug:!1,appId:n,timestamp:s,nonceStr:o,signature:u,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice"]}),wx.ready(function(){e()})}else t()})})}function a(e){var t=e.title,n=e.desc,i=e.link,r=e.imgUrl,o=e.success,a=e.cancel;return s().then(function(){wx.onMenuShareTimeline({title:t,link:i,imgUrl:r,success:function(){g(o)&&o()},cancel:function(){g(a)&&a()}}),wx.onMenuShareAppMessage({title:t,desc:n,link:i,imgUrl:r,success:function(){g(o)&&o()},cancel:function(){g(a)&&a()}}),wx.onMenuShareQQ({title:t,desc:n,link:i,imgUrl:r,success:function(){g(o)&&o()},cancel:function(){g(a)&&a()}}),wx.onMenuShareWeibo({title:t,desc:n,link:i,imgUrl:r,success:function(){g(o)&&o()},cancel:function(){g(a)&&a()}}),wx.onMenuShareQZone({title:t,desc:n,link:i,imgUrl:r,success:function(){g(o)&&o()},cancel:function(){g(a)&&a()}})})}var c=n(34).ajax,u=n(31),l=n(35),p=l.$loadJWeixin,h=l.$loadSHA,f=n(30).getUrlHost,d=n(80),g=d.isFunction,v=null;e.exports={register:i,setDocumentTitle:r,initWx:s,setWxShareInfo:a}},function(e,t){"use strict";function n(e){return e&&"function"==typeof e}function i(){}e.exports={isFunction:n,noop:i}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(32).mobilecheck,c=n(61).perfectPage,u=n(82),l=n(272),p=n(274),h=n(290),f=n(294),d=n(295),g=n(297),v=n(298),m=n(299),y=n(301),b=n(49).perfectMeta,w=n(302),x=w.diff,P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.sceneJson=t,this.config=Object.assign({toPageIndex:0,selector:"#nr",mode:"view",disablePageEffect:!1,disableCompEvent:!1,disableSubmit:!1,disableTrigger:!1,disableArrow:!1,disableCommentManager:!1,disableProgressBar:!1,disableCompAnim:!1,disableReport:!1,disablePageScroll:!1,initManagers:!0,disableQiniuZoom:!1,mobileEdit:!1,disableBigData:!0,EqxGravity:{disableGravityMotion:!1}},n),this.meta=b(this.sceneJson.meta),this.eqxPageList=[],this.eqxPageList.length=0,
this.currentPage=null,this.soundManager=null,this.statManager=null,this.commentManager=null,this.formManager=null,this.pageScroll=null,this.progressBar=null,this.config.initManagers&&this.initManagers()}return s(e,[{key:"setPageList",value:function(e){var t;this.sceneJson.list.length=0,(t=this.sceneJson.list).push.apply(t,i(e)),this.eqxPageList=[],this.eqxPageList.length=e.length}},{key:"getMetaWx",value:function(){var e=this.meta.property;return{wxCount:e.wxCount,wxClickFarmerCount:e.wxClickFarmerCount}}},{key:"calMetaWx",value:function(){return this.eqxPageList.reduce(function(e,t){return e.wxCount+=t.getWxCompCount(),e.wxClickFarmerCount+=t.getWxClickFarmerCompCount(),e},{wxCount:0,wxClickFarmerCount:0})}},{key:"syncMetaWx",value:function(){var e=this.calMetaWx();console.log("wxObj",e),this.setProps({property:e})}},{key:"toJson",value:function(){var e=JSON.parse(JSON.stringify(this.sceneJson));for(var t in e)e.hasOwnProperty(t)&&t.startsWith("$")&&delete e[t];return e}},{key:"renderScene",value:function(e){this.initContainer(e||this.config.selector),this.renderBgm(),this.renderPages(),this.initPageScroll(),this.initProgressBar()}},{key:"updateMeta",value:function(e){e=b(e);var t=JSON.parse(JSON.stringify(this.meta));delete t.property.wxAuth,Object.assign(this.meta,e);var n=JSON.parse(JSON.stringify(this.meta));delete n.property.wxAuth;var i=x(t,n);console.log(JSON.stringify(i))}},{key:"setProps",value:function(e){var t=JSON.parse(JSON.stringify(this.meta)),n=this.meta;Object.keys(e).filter(function(e){return"property"!==e}).forEach(function(t){n[t]=e[t]}),e.property&&("string"==typeof e.property&&(e.property=JSON.parse(e.property)),Object.keys(e.property).forEach(function(t){n.property[t]=e.property[t]}));var i=JSON.parse(JSON.stringify(this.meta)),r=x(t,i);console.log(JSON.stringify(r))}},{key:"getMeta",value:function(e){return this.meta[e]}},{key:"getMetaProperty",value:function(e){return this.meta.property[e]}},{key:"initContainer",value:function(e){$(this.$ele).is(e)||(this.$ele=$(e));var t=this.$ele;"static"===t.css("position")&&t.css({position:"relative"}),a()&&t.css({width:"100%",height:"100%"}),this.width=t.width(),this.height=t.height()}},{key:"createBgm",value:function(e){var t=e||this.meta.bgAudio;if(t)return this.bgm=new h(t,this),this.bgm}},{key:"renderBgm",value:function(){this.bgm||this.createBgm(),this.bgm&&this.$ele.append(this.bgm.$bgmBtn)}},{key:"updateBgm",value:function(e){return this.meta.bgAudio=e,e?void(this.bgm?this.bgm.updateJson(e):(this.createBgm(e),this.renderBgm())):void(this.bgm&&(this.bgm.hide(),this.bgm.stopPlay(),this.bgm=null))}},{key:"renderPages",value:function(){var e=this;this.sceneJson.list.forEach(function(t,n){e.initEqxPage(n),e.renderPage(n)})}},{key:"initEqxPages",value:function(){var e=this;this.sceneJson.list.forEach(function(t,n){return e.initEqxPage(n)})}},{key:"initEqxPage",value:function(e){var t=this.sceneJson.list[e];if(t){c(t,this.sceneJson);var n=u.get(t),i=new n(t,this);return this.eqxPageList[e]=i,i}throw new Error("Invalid Page Index: "+e)}},{key:"renderPage",value:function(e){var t=this,n=this.eqxPageList[e];if(n){var i=n.$section;return i||(i=n.create$section(),"edit"!==this.config.mode&&n.addEventListener()),this.$ele.append(i),this.sceneJson.list.length>1&&n.renderArrow(),0===e&&n.arrow&&n.arrow.updateCss({bottom:"30px"}),n.addEffect().then(function(){e===t.config.toPageIndex&&(t.currentPage=n,n.active().then(function(e){return n.deactive().show()}))})}return console.error("no eqxPage at index "+e),Promise.reject(new Error("no eqxPage at index "+e))}},{key:"changePageMode",value:function(e){this.eqxPageList.forEach(function(t){t.arrow?t.arrow.updatePageMode(e):t.renderArrow(e)})}},{key:"initProgressBar",value:function(){this.progressBar=new l(this.sceneJson.list.length),this.$ele.append(this.progressBar.$progress),this.updateProgressBar()}},{key:"updateProgressBar",value:function(e){if(e||(e=this.currentPage),e)t=e.pageJson.num;else var t=this.eqxPageList[0].pageJson.num;var n=this.sceneJson.list.length;this.progressBar.update(t,n);var i=this.meta.property.slideNumber&&!this.config.disableProgressBar;i?this.progressBar.show():this.progressBar.hide()}},{key:"initPageScroll",value:function(){this.config.disablePageScroll||(this.pageScroll=new p(this))}},{key:"initManagers",value:function(){this.initSoundManager(),this.initPageEffectManager(),this.initStatManager(),this.config.disableCommentManager||this.initCommentManager(),this.initEventManager(),this.initFormManager()}},{key:"initSoundManager",value:function(){this.soundManager=new m}},{key:"initStatManager",value:function(){return this.statManager=new v(this.sceneJson),this.statManager.iterate(),this.statManager}},{key:"initCommentManager",value:function(){this.commentManager=new d(this.meta.id),this.commentManager.loadMoreComments()}},{key:"initEventManager",value:function(){this.eventManager=new f}},{key:"initFormManager",value:function(){this.formManager=new g}},{key:"initPageEffectManager",value:function(){this.pageEffectManager=new y}},{key:"replaceEqxPage",value:function(e,t){var n=this.eqxPageList[e];n.destroy(),this.sceneJson.list.splice(e,1,JSON.parse(JSON.stringify(t))),this.updatePageNum(),this.eqxPageList[e]=null;var i=this.initEqxPage(e);return this.currentPage&&this.currentPage.pageJson.num==e+1&&(this.currentPage=i),i}},{key:"updatePageNum",value:function(){this.sceneJson.list.forEach(function(e,t){e.num=t+1})}},{key:"insertPage",value:function(e,t){var n=this.sceneJson.list;return n.splice(e+1,0,t),this.updatePageNum(),this.eqxPageList.splice(e+1,0,null),this.initEqxPage(e+1)}},{key:"deletePage",value:function(e){var t=this.sceneJson.list,n=this.eqxPageList[e];n.destroy(),t.splice(e,1),this.updatePageNum(),this.eqxPageList.splice(e,1)}},{key:"destroy",value:function(){this.eqxPageList.forEach(function(e){return e.destroy()})}},{key:"sortPage",value:function(e,t){var n=this.sceneJson.list,i=n.length;if(e===t||e<0||e>i-1||t<0||t>i-1)return console.error("invalid sortPage arguments");if(e>t){var r=n.splice(e,1),s=o(r,1),a=s[0];n.splice(t,0,a);var c=this.eqxPageList.splice(e,1),u=o(c,1);a=u[0],this.eqxPageList.splice(t,0,a)}else{var l=n.splice(e,1),p=o(l,1);a=p[0],n.splice(t,0,a);var h=this.eqxPageList.splice(e,1),f=o(h,1);a=f[0],this.eqxPageList.splice(t,0,a)}this.updatePageNum()}},{key:"getEqxPageByIndex",value:function(e){var t=this.eqxPageList[e];return t||(t=this.initEqxPage(e)),t}},{key:"getEqxPageById",value:function(e){return this.getEqxPageByKeyValue("id",e)}},{key:"getEqxPageByKeyValue",value:function(e,t){var n=this.sceneJson.list.findIndex(function(n){return n[e]===t});if(n>-1)return this.getEqxPageByIndex(n)}}]),e}();e.exports=P},function(e,t,n){"use strict";var i=n(83),r=n(270),o=n(271);e.exports={get:function(e){var t=e.properties,n=t.longPage,s=t.xb;return s?o:n?r:i}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(63).COMP_TYPE,s=n(63).FORM_COMPS,a=n(63).WX_COMPS,c=n(63).FIX_INDEX_COMPS,u=n(63).WX_CLICK_FARMER_COMPS,l=n(64),p=l.perfectComp,h=l.perfectBg,f=n(48).randomId,d=n(84),g=n(86),v=n(32).isPc,m=n(32).isSafari,y=n(32).isIOS,b=n(109),w=n(112),x=n(257),P=n(262),_=n(117).hasShakeEvent,k=n(202),E=n(264),S=n(265),O=n(269),T=n(78).bigDataXBData,I=function(){function e(t,n){i(this,e),this.pageJson=t,this.eqxScene=n,this.eqxCompList=[],this.displayed=!1,this.hasCoverEffect=!1,this.destroyed=!1;var r=this.eqxScene.sceneJson,o=r.meta,s=o.pageMode,a=o.property.forbidHandFlip,c=this.eqxScene,u=c.width,l=c.height;this.width=u,this.height=l,this.pageMode=s,this.forbidHandFlip=a,this.bgm=this.eqxScene.bgm,this.eqxStatManager=null,this.pv=0}return r(e,[{key:"toPageJson",value:function(e){e=Object.assign({transformText:!0,addForms:!0},e);var t=JSON.parse(JSON.stringify(this.pageJson)),n=t.id,i=t.sceneId,r=t.forms=[];if(t.elements.forEach(function(e){var t=e.type+"";if("EqxText"==o[t]&&e.content&&(e.content=e.content.replace(/(^\s*)|(\s*$)/g,"")),s.concat("i").includes(t)){var a={id:e.id,pageId:n,sceneId:i,type:t,fieldType:t,title:e.title,num:e.num};/^[rc]/.test(t)&&(e.choices&&"string"!=typeof e.choices&&(e.choices=JSON.stringify(e.choices)),a.choices=e.choices),r.push(a)}if(e.trigger){var c=e.trigger;c.sends&&0===c.sends.length&&delete c.sends,c.receives&&0==c.receives.length&&delete c.receives,c.sends||c.receives||delete e.trigger}"EqxTelephone"!=o[t]&&"EqxLink"!=o[t]&&"EqxSubmitButton"!=o[t]||e.properties.title&&(e.properties.title=e.properties.title.replace(/ /g,"&nbsp;"))}),t.trigger){var a=t.trigger;a.sends&&0===a.sends.length&&delete a.sends,a.receives&&0==a.receives.length&&delete a.receives,a.sends||a.receives||delete t.trigger}return t}},{key:"getWxCompCount",value:function(){return this.pageJson.elements.reduce(function(e,t){return a.includes(t.type+"")&&(e+=1),e},0)}},{key:"getWxClickFarmerCompCount",value:function(){return this.pageJson.elements.reduce(function(e,t){var n=t.type+"";return u.includes(n)&&t.properties.clickFarmer&&(e+=1),e},0)}},{key:"getCompName",value:function(e){if(e.name)return _DEBUG_,e.name;var t=O.find(function(t){return t.types.includes(e.type+"")});if(!t)return _DEBUG_&&console.error("Lack Name for Type",e.type),null;var n=t.types,i=this.pageJson.elements.filter(function(e){return n.includes(e.type+"")}),r=0;i.forEach(function(e){if(e.name){var n=new RegExp(t.name+"(\\d+)"),i=parseInt((n.exec(e.name)||[])[1]);i&&i>r&&(r=i)}});var o=t.name+(r+1);return _DEBUG_,o}},{key:"setProps",value:function(e){var t=this.pageJson.properties;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"isLongPage",value:function(){return"longPage"in this.pageJson.properties}},{key:"getPageWidth",value:function(){return 320}},{key:"getPageHeight",value:function(){var e=this.pageJson.properties;return e.longPage||486}},{key:"toString",value:function(){return"page-"+this.pageJson.id}},{key:"initStatManager",value:function(){return this.statManager=new E(this.pageJson.elements),this.statManager.iterate(),this.statManager}},{key:"show",value:function(){if(this.displayed=!0,this.triggerEventAgent&&this.triggerEventAgent.addEventListener(),this.$section.addClass("z-current"),window.scene){var e=window.scene.property.activityPageId;!e||this.pv||this.eqxScene.config.disableBigData||(this.pv+=1,T(window.scene.id,"3",{activityPageId:e},"32","活动页面"))}return this}},{key:"hide",value:function(){return this.displayed=!1,this.triggerEventAgent&&this.triggerEventAgent.removeEventListener(),this.eqxCompList.forEach(function(e){return e.eleHide()}),this.effect&&this.effect.stopEffect&&this.effect.stopEffect(),this.$section&&this.$section.removeClass("z-current"),this}},{key:"showElements",value:function(){var e=this;this.eqxCompList.forEach(function(t){var n=t.compJson.css.top;t.compJson.properties.anim&&t.compJson.properties.anim[0]&&30===t.compJson.properties.anim[0].type&&(n-=t.compJson.css.height),t.compJson.properties.anim&&t.compJson.properties.anim[0]&&(2===t.compJson.properties.anim[0].type||19===t.compJson.properties.anim[0].type)?t.eleShow():n&&parseFloat(n)<=e.height?t.eleShow():n||t.eleShow()}),this.eqxBackground&&this.eqxBackground.eleShow()}},{key:"active",value:function(){function e(e){e.hasCoverEffect?(e.bgm&&e.bgm.hide(),e.eqxScene.progressBar&&e.eqxScene.progressBar.hide()):e.showElements(),e.effect&&e.effect.startEffect&&e.effect.startEffect(),e.$section.addClass("z-active")}function t(e){var t=[],n=e.eqxCompList;return n.forEach(function(e){e.anim.forEach(function(e){e.sound&&e.soundAgent&&t.push(e.soundAgent.audio)})}),t}var n=this,i=new Promise(function(i,r){var o=t(n),s=o.length;o&&o.length?o.forEach(function(t){4===t.readyState?0===--s&&(e(n),i()):(t.load(),$(t).on("canplay",function(){0===--s&&(e(n),i())}).on("error",function(){0===--s&&(e(n),i())}))}):(e(n),i())});return i}},{key:"deactive",value:function(){if(this.$section)return this.$section.removeClass("z-active"),this}},{key:"destroy",value:function(){this.hide(),this.eqxCompList.forEach(function(e){return e.destroy()}),this.eqxCompList=[],this.$ul&&(this.$ul.remove(),this.$ul=null),this.$editDiv&&(this.$editDiv.remove(),this.$editDiv=null),this.$pageDiv&&(this.$pageDiv.remove(),this.$pageDiv=null),this.$section&&(this.$section.remove(),this.$section=null),this.destroyed=!0}},{key:"create$section",value:function(){var e=this,t=this.pageJson,n=t.num,i=t.id,r=t.elements,s=void 0===r?[]:r;this.$section=$(d.section()),this.section=this.$section[0],this.$pageDiv=$(d.pageDiv(n)),this.$editDiv=$(d.editDiv(i)),this.$ul=$(d.ul(i)),this.$editDiv.append(this.$ul),this.$pageDiv.append(this.$editDiv),this.$section.append(this.$pageDiv),s.map(function(t){return t.name=e.getCompName(t),t}).filter(function(e){var t=e.type;return"EqxBackground"!==o[t]&&"EqxGravity"!==o[t]}).sort(function(e,t){var n=e.css.zIndex,i=t.css.zIndex;return n-i}).map(function(e,t){return e.num=t+1,e.css.zIndex=t+1,e}).forEach(function(t){p(t,e.eqxScene.sceneJson,e.pageJson);var n=e.initEqxCompByJson(t);e.renderEqxComp(n)});for(var a=-1,c=0;c<s.length;c++)"EqxBackground"===o[s[c].type]&&(a=c);if(a>-1){var u=s[a];h(u),this.eqxBackground=this.initEqxBgByJson(u),this.renderBg(this.eqxBackground)}var l=-1;for(c=0;c<s.length;c++)"EqxGravity"===o[s[c].type]&&(l=c);if(l>-1){var f=s[l];this.eqxGravity=this.initEqxGravityByJson(f),this.renderGravity(this.eqxGravity)}var g=this.eqxScene.config;return g.disableTrigger||this.addTriggerEvent(),v()||(window.top===window?this.setUlTopAndLeft():this.setIframeUlTopAndLeft()),this.$section}},{key:"addEventListener",value:function(){}},{key:"renderGravity",value:function(e){e.$gravity?console.error("gravity already rendered"):this.$editDiv.prepend(e.create$gravity())}},{key:"addGravityJson",value:function(e){return this.deleteGravity(),this.addCompJson(e)}},{key:"deleteGravity",value:function(){var e=this;if(this.eqxGravity){var t=this.pageJson.elements.findIndex(function(t){return t.id===e.eqxGravity.compJson.id});t>-1&&this.pageJson.elements.splice(t,1),this.eqxGravity.delete$gravity(),this.eqxGravity=null}}},{key:"renderBg",value:function(e){e.$bg?console.error("background already rendered"):e.create$bg(this.$editDiv,this.width,this.height)}},{key:"addBgJson",value:function(e){return this.deleteBg(),this.addCompJson(e)}},{key:"deleteBg",value:function(){var e=this;if(this.eqxBackground){var t=this.pageJson.elements.findIndex(function(t){return t.id===e.eqxBackground.compJson.id});t>-1&&this.pageJson.elements.splice(t,1),this.eqxBackground.delete$bg(),this.eqxBackground=null}}},{key:"addCompJson",value:function(e){var t=JSON.parse(JSON.stringify(e));return this.addPageInfo(t),p(t,this.eqxScene.sceneJson,this.pageJson),this.pageJson.elements.push(t),t}},{key:"deleteEqxComp",value:function(e){var t=this.pageJson.elements.findIndex(function(t){return t.id===e.compJson.id});t>-1&&this.pageJson.elements.splice(t,1),t=this.eqxCompList.findIndex(function(t){return t===e}),t>-1&&(e.destroy(),this.eqxCompList.splice(t,1)),this.deleTriggerSends(e),this.deleTriggerReceives(e)}},{key:"deleTriggerSends",value:function(e){var t=this;if(e.compJson.trigger&&e.compJson.trigger.sends){var n=e.compJson.trigger.sends;n.forEach(function(n){n.handles.forEach(function(n){n.ids.forEach(function(i){var r=t.getEqxCompById(i);r&&3!=n.type?r.deleReceiveId(e.compJson.id):r&&t.deleteEqxComp(r)})})})}}},{key:"deleTriggerReceives",value:function(e){var t=this;if(e.compJson.trigger&&e.compJson.trigger.receives){var n=e.compJson.trigger.receives;n.forEach(function(n){n.ids.forEach(function(n){if(n==t.pageJson.id)t.deleSendId(e.compJson.id);else{var i=t.getEqxCompById(n);i&&i.deleSendId(e.compJson.id)}})})}}},{key:"reEffectJson",value:function(e){this.pageJson.properties.effect=e}},{key:"getCopyJson",value:function(){var e=JSON.parse(JSON.stringify(this.pageJson));return e.elements.forEach(function(e){(""+e.id).includes("wx")||(e.id=f())}),e}},{key:"addPageInfo",value:function(e){var t=this.pageJson,n=0;return c.indexOf(""+e.type)==-1&&(this.eqxCompList.forEach(function(e){var t=e.getCss("zIndex");t>n&&(n=t)}),e.css.zIndex=n+1),(""+e.id).includes("wx")||(e.id=f()),Object.assign(e,{id:e.id,pageId:t.id,sceneId:t.sceneId,num:n+1}),delete e.name,e.name=this.getCompName(e),e}},{key:"initEqxCompById",value:function(e){var t=this.pageJson.elements.find(function(t){return t.id===e});return this.initEqxCompByJson(t)}},{key:"initEqxBgByJson",value:function(e){return this.eqxBackground=new k(e,this),this.eqxBackground}},{key:"initEqxGravityByJson",value:function(e){return this.eqxGravity=new S(e,this),this.eqxGravity}},{key:"updateEqxComp",value:function(e,t){t=JSON.parse(JSON.stringify(t)),p(t,this.eqxScene.sceneJson,this.pageJson);var n=this.pageJson.elements.find(function(t){return t.id===e});return n?(delete t.id,delete t.num,delete t.pageId,delete t.sceneId,delete t.type,Object.assign(n,t),this.getEqxCompById(e)):void console.error("invalid comp Id")}},{key:"initEqxCompByJson",value:function(e){if(e){var t=this.getCompJsonById(e.id);t||(e=this.addCompJson(e));var n=this.getEqxCompById(e.id);if(n)return void console.error("already init",e,n);var i=b[e.type];if(!(i&&i.prototype instanceof w))return void console.error("In Valid Type: "+e.type+" @Page"+this.pageJson.id,e);var r=new i(e,this);return this.eqxCompList.push(r),r}}},{key:"getEqxCompById",value:function(e){return this.eqxCompList.find(function(t){return t.compJson.id==e})}},{key:"getCompJsonById",value:function(e){return this.pageJson.elements.find(function(t){return t.id===e})}},{key:"renderEqxComp",value:function(e){if(e&&e instanceof w){var t=e.$li;return t&&(e.$li.remove(),e.$li=null),t=e.create$li(),this.eqxScene.config.disableCompEvent||e.addEventListeners(),"view"===this.eqxScene.config.mode&&e.updateDisplyStatus(),this.$ul.append(t),t}console.error("invalid eqxComp")}},{key:"renderEqxCompById",value:function(e){return this.renderEqxComp(this.getEqxCompById(e))}},{key:"renderArrow",value:function(e){var t=this.eqxScene.config;e||(e=this.pageMode),this.forbidHandFlip||t.disableArrow||(this.arrow=new x(e),this.$section.append(this.arrow.$arrow))}},{key:"setUlTopAndLeft",value:function(){var e,t;this.width/this.height>=320/486?e=(this.width/(this.height/486)-320)/2:t=(this.height/(this.width/320)-486)/2,e&&this.$ul.css({marginLeft:e}),t&&this.$ul.css({marginTop:t})}},{key:"setIframeUlTopAndLeft",value:function(){var e,t=(this.width-320)/2,n=(this.height-486)/2;return e=this.width/this.height<=320/486?"scale("+this.width/320+")":"scale("+this.height/486+")",this.$ul.css({marginTop:n,marginLeft:t,transform:e}),{marginLeft:t,marginTop:n}}},{key:"addEffect",value:function(){var e=this,t=this.pageJson,n=t.num,i=t.properties.effect,r=this.eqxScene.config;return new Promise(function(t,o){if(!i||r.disablePageEffect||"gravity"===i.name)t();else{var s=e,a=function(){if(s.hasCoverEffect=!0,1===n){var e=s.eqxScene.progressBar;e.hide(),s.bgm&&(s.bgm.hide(),s.bgm.stopPlay())}},c=function(){s.hasCoverEffect=!1;var e=s.eqxScene.progressBar;e&&e.show(),s.bgm&&s.bgm.show(),1===n&&s.bgm&&s.bgm.resumePlay(),s.showElements()},u=i.name,l=e;g.load(u).then(function(e){l.effect=new e(i,l.$pageDiv,l.width,l.height,a,c),l.eqxScene.pageEffectManager.add(l.effect),l.effect.init(),t()}).catch(function(){o()})}})}},{key:"addTriggerEvent",value:function(){var e=this.pageJson.properties.trigger;e&&_(e.sends)&&(window.shake=this.triggerEventAgent=new P(this,e,this.eqxScene.eventManager))}},{key:"updateCompZIndex",value:function(e,t){function n(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function i(e){for(var t=e.length,n=t-1;n>=0;n--){var i=e[n];i.compJson.css.zIndex=t-n,i.update$li({zIndex:i.compJson.css.zIndex})}}function r(e){return e.compJson.css.zIndex}var o=this.eqxCompList.map(function(e){return e}).sort(function(e,t){var n=r(e),i=r(t);return n<i?1:n==i?0:-1}),s=o.length;if(t.startsWith("-")){var a=(/-(\d+|-)/.exec(t)||[])[1];if("-"===a)o=o.filter(function(t){return t!==e}),o.push(e),i(o);else{for(a=parseInt(a);a-- >0;)for(var c=0;c<s;c++)if(o[c]===e&&c!==s-1){n(o,c,c+1);break}i(o)}}else if(t.startsWith("+")){var u=(/\+(\d+|\+)/.exec(t)||[])[1];if("+"===u)o=o.filter(function(t){return t!==e}),o.unshift(e),i(o);else{for(u=parseInt(u);u-- >0;)for(var l=0;l<s;l++)if(o[l]===e&&0!==l){n(o,l,l-1);break}i(o)}}}},{key:"deleSendId",value:function(e){if(this.pageJson.properties.trigger&&this.pageJson.properties.trigger.sends){var t=this.pageJson.properties.trigger.sends;t.forEach(function(n,i){n.handles.forEach(function(t,i){t.ids.indexOf(e)!=-1&&t.ids.splice(t.ids.indexOf(e),1),0===t.ids.length&&n.handles.splice(i,1)}),0===n.handles.length&&t.splice(i,1)}),0===t.length&&delete this.pageJson.properties.trigger}}}]),e}();e.exports=I,function(){if(m()||y()){var e=Array.prototype.sort;Array.prototype.sort=function(t){if(t&&"function"==typeof t){if(this.length<2)return this;for(var n,i=0,r=i+1,o=this.length,s=!1,a=0;i<o;i++)for(r=i+1;r<o;r++)a=t.call(this,this[i],this[r]),s=("number"==typeof a?a:a?1:0)>0,s&&(n=this[i],this[i]=this[r],this[r]=n);return this}return e.call(this)}}}(window)},function(e,t,n){"use strict";function i(){return'<section class="main-page"></section>'}function r(e){return'<div class="m-img" id="page'+e+'"></div>'}function o(e){return'<div class="edit_wrapper" data-scene-id="'+e+'" style="position: relative; z-index: 1"></div>'}function s(e){return'<ul id="edit_area'+e+'" class="edit_area weebly-content-area weebly-area-active"></ul>'}n(85),e.exports={section:i,pageDiv:r,editDiv:o,ul:s}},function(e,t){},function(e,t,n){"use strict";e.exports={load:function(e){return new Promise(function(t,i){switch(e){case"finger":n.e(1,function(){return t(n(87))});break;case"money":n.e(2,function(){return t(n(92))});break;case"scratch":n.e(3,function(){return t(n(96))});break;case"snowFly":n.e(4,function(){return t(n(98))});break;case"fallingObject":n.e(5,function(){return t(n(100))});break;case"fireWorks":n.e(6,function(){return t(n(101))});break;case"gradient":n.e(7,function(){return t(n(102))});break;case"glassBreak":n.e(8,function(){return t(n(105))});break;default:var r="Invalid Effect name: "+e;console.error(r),i(r)}})}}},,,function(e,t,n){"use strict";function i(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){t(this)},i.onerror=i.onabort=function(){n(new Error("download image fail"))},i.src=e})}function r(e,t,n){if(!e)return"";if("string"!=typeof e)throw new Error("Typeof src is not string");var i=o(e);if(/\.(ico|svg)$/i.test(e.split("?")[0]))return encodeURI(i);if(!t)return encodeURI(/\?imageMogr2/.test(e)?i:i+"?imageMogr2/auto-orient");var r=window.devicePixelRatio||1;t=h(t),n=h(n),t&&n?(t*=r,n*=r):(t*=r,n=t);var s=9999;t>n?t>s&&(n*=1-(t-s)/t,t=s):t<n?n>s&&(t*=1-(n-s)/n,n=s):t>s&&(t=n=s);var a="imageMogr2/auto-orient/thumbnail/"+Math.round(t)+"x"+Math.round(n)+">";return i+=/\?imageMogr2/.test(e)?"|"+a:"?"+a,encodeURI(i)}function o(e){if(!e)return void console.error("add prefix invalid src");var t=window.location.protocol;if(e.startsWith("//")&&"file:"!==t&&(e=t+e),!e.startsWith("/")&&!e.startsWith("file://"))if(/^https?:\/\//.test(e)){for(var n,i=[p.BIND_USER_FILE,p.FREE_USER_FILE,p.VIP_USER_FILE],r=0;r<i.length;r++)if(n=i[r],e.startsWith(n)){e=e.replace(n,p.FILE);break}}else e=p.FILE+e;return e}function s(e){return/^http.*/.test(e)||e.startsWith("//")?e:p.FILE+e}function a(e){var t=window.URL||window.webkitURL;try{var n=t.createObjectURL(e)}catch(e){return Promise.reject(new TypeError("不支持URL.createObjectURL"))}return c(n)}function c(e){return i(e).then(function(e){return{width:e.width,height:e.height,ratio:e.width/e.height}})}function u(e,t){if(e.shape)return Promise.resolve(e.shape);var n=r(e.path,t||115),o=p.FILE+e.path,s=0;return i(o).then(function(e){return s=e.width/e.height,i(n)}).then(function(e){var t=window.devicePixelRatio||1,n=e.height/t;return{width:n*s,height:n,ratio:s}})}function l(e){var t=o(e);return t=t.replace(/\?.*$/,""),t+="?imageInfo",f({method:"GET",url:t})}var p=n(31),h=Number.parseInt,f=n(34).$ajax;e.exports={loadImg:i,qiniuZoom:r,addPrefix:o,initEffectImgPath:s,getImgShapeByNativeFile:a,getImgShape:u,getImgShapeBySrc:c,getQiniuImgInfo:l}},,,,,,,,,,,,,,,function(e,t){"use strict";function n(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":void 0}function i(){var e={Chrome:"-webkit-",FF:"-moz-",Opera:"-o-",Safari:"-webkit-"};return e[n()]||"-webkit-"}function r(e){return e in document.documentElement.style}e.exports={getBrowserPrefix:i,isSupportStyle:r}},,,,,function(e,t,n){"use strict";var i=n(110),r=n(125),o=n(140),s=n(144),a=n(146),c=n(148),u=n(152),l=n(158),p=n(160),h=n(167),f=n(170),d=n(174),g=n(177),v=n(189),m=n(195),y=n(199),b=n(200),w=n(202),x=n(206),P=n(209),_=n(210),k=n(215),E=n(217),$=n(221),S=n(224),O=n(225),T=n(226),I=n(230),C=n(231),q=n(235),A=n(238),j=n(242),D=n(244),M=n(245),R=n(247),L=n(249),F=n(255);e.exports={EqxNewText:k,7:k,EqxText:x,2:x,x:x,EqxDeepShare:P,298:P,EqxReport:_,299:_,EqxBackground:w,3:w,EqxImage:r,4:r,EqxTelephone:p,8:p,EqxComment:g,b:g,EqxShape:c,h:c,EqxCount:v,i:v,EqxLink:o,l:o,EqxChart:i,t:i,EqxVideo:u,v:u,EqxInteractiveVideo:l,o:l,EqxImageSlider:a,p:a,EqxMap:s,m:s,EqxRandom:d,n:d,EqxSound:h,s:h,EqxPv:f,d:f,EqxAdvertise:b,g:b,EqxDownTime:m,e:m,EqxUpTime:y,f:y,EqxScore:T,a:T,EqxCheckbox:I,c:I,EqxRadio:C,r:C,EqxDropDownList:E,z:E,EqxInput:$,5:$,501:$,EqxInputPhone:O,502:O,EqxInputEmail:S,503:S,504:$,EqxSubmitButton:q,6:q,601:q,EqxWxNickName:D,201:D,EqxWxProfile:M,401:M,EqxWxUploadImage:R,403:R,EqxWxSoundPlay:A,w01:A,EqxWxSoundRecord:j,w02:j,EqxTextVote:L,k:L,EqxImgVote:F,j:F}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(111);var a=n(35).$loadChart,c=n(112),u=n(70).toGoodStr,l=n(70).isBadStr,p=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this,t=this.compJson,n=$('<div class="create-chart" id="chart-'+t.id+'"></div>');this.perfectJson(t);var i=document.createElement("h5");i.setAttribute("class","chart-title"),n.append(i);var r=this.canvas=document.createElement("canvas");r.id=t.id,r.setAttribute("ctype",t.type),n.append(r);var o=document.createElement("div");return o.id="legend-"+t.id,n.append(o),a().then(function(){e.initChart(o,r,i,t)}).catch(function(e){return console.error(e)}),n}},{key:"perfectJson",value:function(e){function t(e){n(e),i(e),r(e)}function n(e){e&&e.chartTitle&&(e.chartTitle=u(e.chartTitle))}function i(e){e&&e.segments&&e.segments.length&&e.segments.forEach(function(e){l(e.label)&&(e.label=u(e.label))})}function r(e){e&&e.lengends&&e.lengends.length&&e.lengends.forEach(function(t,n){l(t)&&(e.lengends[n]=u(t))})}var o=e.properties;n(o),t(o.pieChart),t(o.barChart),t(o.lineChart)}},{key:"initChart",value:function(e,t,n,i){var r,o=i.properties.chartType,s=t.getContext("2d"),a=parseFloat(i.css.width),c=parseFloat(i.css.height);$(t).css("width",a+"px"),$(t).css("height",c/2+"px"),t.width=parseInt(window.getComputedStyle(t).width),t.height=parseInt(window.getComputedStyle(t).height),"pie"===o?r=this.pieChart=this.createPieChart(s):"bar"===o?r=this.barChart=this.createBarChart(s):"line"!==o&&"curve"!==o||(r=this.lineChart=this.createLineChart(s,o)),i.properties.chartTitle&&(n.innerHTML=i.properties.chartTitle),"pie"===o&&i.properties.pieChart&&(r=this.pieChart=this.setPieChartView(i,s,r),$(t).data("pieChart",r)),"bar"===o&&i.properties.barChart&&(r=this.barChart=this.setBarChartView(i,s,r),$(t).data("barChart",r)),"line"!==o&&"curve"!==o||!i.properties.lineChart||(r=this.lineChart=this.setLineChartView(i,s,r),$(t).data("lineChart",r)),e.innerHTML=r.generateLegend();var u=i.properties.legPosition;"position-align"===u?$(e).addClass("position-align"):"position-right"===u?$(e).addClass("position-right"):"position-none"===u&&$(e).addClass("position-none")}},{key:"setLineChartView",value:function(e,t,n){var i,r=e.properties.lineChart,o=[],s="",a="",c="",u=[],l=[],p=[],h=[],f=[];n.datasets.forEach(function(e){h.push(e.strokeColor),f.push(e.fillColor)});for(var d=0;d<h.length;d++)"line"===r.chartType?h[d]=r.fillColors[d]:f[d]=r.fillColors[d];for(var g=r.segments,v=0;v<g.length;v++)i=g[v],s=isNaN(i.value1)||i.value1<0?0:i.value1,a=isNaN(i.value2)||i.value2<0?0:i.value2,c=isNaN(i.value3)||i.value3<0?0:i.value3,(i.label||s||a||c)&&(o.push(i.label),u.push(s),l.push(a),p.push(c));var m={labels:o,datasets:[{label:r.lengends[0],fillColor:f[0],strokeColor:h[0],pointColor:h[0],pointStrokeColor:"#fff",data:u},{label:r.lengends[1],fillColor:f[1],strokeColor:h[1],pointColor:h[1],pointStrokeColor:"#fff",data:l},{label:r.lengends[2],fillColor:f[2],strokeColor:h[2],pointColor:h[2],pointStrokeColor:"#fff",data:p}]},y=n.options;return r.options&&r.options.scaleFontColor&&(y.scaleFontColor=r.options.scaleFontColor),n.destroy(),n=new Chart(t).Line(m,y),n.datasets.forEach(function(e){var t=!0;e.points.forEach(function(e){e.value&&(t=!1)}),t?e.points.length=0:e.points.forEach(function(e){e.value||(e.value=0)})}),n.update(),n}},{key:"setBarChartView",value:function(e,t,n){for(var i,r=n.options,o=e.properties.barChart,s=[],a="",c="",u="",l=[],p=[],h=[],f=o.segments,d=0;d<f.length;d++)i=f[d],a=isNaN(i.value1)||i.value1<0?"":i.value1,c=isNaN(i.value2)||i.value2<0?"":i.value2,u=isNaN(i.value3)||i.value3<0?"":i.value3,(i.label||a||c||u)&&(s.push(i.label),l.push(a),p.push(c),h.push(u));var g={labels:s,datasets:[{fillColor:o.fillColors[0],strokeColor:"rgba(0,0,0,0)",data:l,label:o.lengends[0]},{fillColor:o.fillColors[1],strokeColor:"rgba(0,0,0,0)",data:p,label:o.lengends[1]},{fillColor:o.fillColors[2],strokeColor:"rgba(0,0,0,0)",data:h,label:o.lengends[2]}]};return o.options&&o.options.scaleFontColor&&(r.scaleFontColor=o.options.scaleFontColor),n.destroy(),new Chart(t).Bar(g,r)}},{key:"setPieChartView",value:function(e,t,n){var i=n.options,r="#000",o=e.properties.pieChart;o.options&&o.options.scaleFontColor&&(r=o.options.scaleFontColor),i.scaleFontColor=r,i.onAnimationComplete=function(){var e=this.chart.ctx,t=this.segments;e.textAlign="start",e.textBaseline="middle";for(var n=0,i=0;i<t.length;i++)n+=parseFloat(t[i].value);e.fillText(n,e.width/2-20,e.height/2,100);for(var o=0;o<t.length;o++){var s=t[o].startAngle+(t[o].endAngle-t[o].startAngle)/2,a=(t[o].outerRadius-t[o].innerRadius)/1.5+t[o].innerRadius,c=t[o].x+Math.cos(s)*a,u=t[o].y+Math.sin(s)*a;e.textAlign="center",e.textBaseline="middle",e.fillStyle=r,e.font="normal 12px Helvetica",e.fillText(t[o].value,c,u)}};var s=o;o.segments&&(s=o.segments);
for(var a=0;a<s.length;a++)(isNaN(s[a].value)||s[a].value<0)&&(s[a].value="");return n.destroy(),new Chart(t).Pie(s,i)}},{key:"getPixelRatio",value:function(e){var t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}},{key:"createPieChart",value:function(e){var t=[{value:300,color:"#57c7d4",label:"1月"},{value:150,color:"#3aa99e",label:"2月"},{value:100,color:"#f2a654",label:"3月"},{value:140,color:"#f96868",label:"4月"},{value:120,color:"#926dde",label:"5月"}],n={segmentShowStroke:!1,showTooltips:!1,scaleFontColor:"#000",legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx,t=this.segments;e.textAlign="start",e.textBaseline="middle";for(var n=0,i=0;i<t.length;i++)n+=parseFloat(t[i].value);e.fillText(n,e.width/2-20,e.height/2,100);for(var i=0;i<t.length;i++){var r=t[i].startAngle+(t[i].endAngle-t[i].startAngle)/2,o=(t[i].outerRadius-t[i].innerRadius)/1.5+t[i].innerRadius,s=t[i].x+Math.cos(r)*o,a=t[i].y+Math.sin(r)*o;e.textAlign="center",e.textBaseline="middle",e.fillStyle="#000",e.font="normal 12px Helvetica",e.fillText(t[i].value,s,a)}}},i=new Chart(e).Pie(t,n);return i}},{key:"createBarChart",value:function(e){var t={labels:["1月","2月","3月","4月","5月"],datasets:[{fillColor:"#62a8ea",strokeColor:"rgba(0,0,0,0)",data:[60,70,80,56,40],label:"图例1"},{fillColor:"#926dde",strokeColor:"rgba(0,0,0,0)",data:[80,56,40,93,112],label:"图例2"},{fillColor:"#f2a654",strokeColor:"rgba(0,0,0,0)",data:[160,86,140,123,23],label:"图例3"}]},n={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.fillStyle=this.scale.textColor,e.font="normal 12px Helvetica",e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach(function(t){t.bars.forEach(function(t){e.fillText(t.value,t.x,t.y)})})}},i=new Chart(e).Bar(t,n);return i}},{key:"createLineChart",value:function(e,t){var n=["rgba(255,255,255,0)","rgba(255,255,255,0)","rgba(255,255,255,0)"],i=["rgba(146,109,222,1)","rgba(87,199,212,1)","rgba(242,166,84,1)"],r=!1,o='<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>';"curve"===t&&(n=["rgba(146, 109, 222,0.2)","rgba(87,199,212,0.2)","rgba(242,166,84,0.2)"],r=!0,o='<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>');var s={labels:["1月","2月","3月","4月","5月"],datasets:[{label:"图例1",fillColor:n[0],strokeColor:i[0],pointColor:i[0],pointStrokeColor:"#fff",data:[28,24,40,19,27]},{label:"图例2",fillColor:n[1],strokeColor:i[1],pointColor:i[1],pointStrokeColor:"#fff",data:[123,132,146,118,189]},{label:"图例3",fillColor:n[2],strokeColor:i[2],pointColor:i[2],pointStrokeColor:"#fff",data:[201,232,256,215,278]}]},a={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,bezierCurve:r,legendTemplate:o,animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.font=this.scale.font,e.fillStyle=this.scale.textColor,e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach(function(t){t.points.forEach(function(n,i){0===i?e.fillText(n.value,n.x+10,n.y-5):i===t.points.length-1?e.fillText(n.value,n.x-10,n.y-5):e.fillText(n.value,n.x,n.y-5)})})}},c=new Chart(e).Line(s,a);return c}},{key:"updateSize",value:function(e,t){var n=parseFloat(t.width),i=parseFloat(t.height),r=this.canvas,o=r.getContext("2d"),s=this.compJson,a=s.properties.chartType,c=null;$(r).css("width",n+"px"),$(r).css("height",i/2+"px"),r.width=parseInt(window.getComputedStyle(r).width),r.height=parseInt(window.getComputedStyle(r).height),"pie"===a?c=this.pieChart=this.createPieChart(o):"bar"===a?c=this.barChart=this.createBarChart(o):"line"!==a&&"curve"!==a||(c=this.lineChart=this.createLineChart(o,a)),"pie"===a&&s.properties.pieChart&&(c=this.pieChart=this.setPieChartView(s,o,c),$(r).data("pieChart",c)),"bar"===a&&s.properties.barChart&&(c=this.barChart=this.setBarChartView(s,o,c),$(r).data("barChart",c)),"line"!==a&&"curve"!==a||!s.properties.lineChart||(c=this.lineChart=this.setLineChartView(s,o,c),$(r).data("lineChart",c))}}]),t}(c);e.exports=p},function(e,t){},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(113),a=n(66),c=n(39).parse,u=n(89).qiniuZoom,l=n(114),p=n(115),h=n(119),f=n(121),d=n(123),g=n(124).isPhoneNumber,v=n(30).openUrl,m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.$ability={style:{self:!0,base:{self:!0,backgroundColor:!0,color:!0,opacity:!0,paddingTop:!0,lineHeight:!0,lock:!0},border:{self:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,rotate:!0},compFont:{self:!1,fontFamily:!1},boxShadow:{self:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0},compStyle:{self:!0},commonStyle:{self:!0,title:!0,display:!1,status:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0,zIndex:!0},advanceStyle:{self:!0,paddingTop:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0,lock:!0}},anim:!0,trigger:!0,sound:!0,link:!0,flexLine:"n,ne,e,se,s,sw,w,nw,r"},this.compJson=t,this.type=this.compJson.type,this.displayed=!1,"string"==typeof this.compJson.properties&&(this.compJson.properties={}),this.compJson.properties.initType=this.compJson.properties.initType||0,this.anim=this.compJson.properties.anim||[],this.eqxPage=n,this.eqxScene=n.eqxScene}return o(e,[{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this.compJson))}},{key:"isEditLock",value:function(){return this.getProp("editLock")}},{key:"updateDisplyStatus",value:function(){}},{key:"getImgSrc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.eqxScene.config.disableQiniuZoom,i=t.width,r=t.height;return n?u(e):u(e,i,r)}},{key:"getName",value:function(){var e=this.compJson.name;return e||_DEBUG_&&console.error("comp has no name",this),e}},{key:"getCss",value:function(e){var t=this.compJson.css;return e?t[e]:t}},{key:"toString",value:function(){var e=this.compJson,t=e.pageId,n=e.id,i=e.num;return"page-"+t+"-comp-"+n+"-num-"+i}},{key:"getProp",value:function(e){return this.compJson.properties[e]}},{key:"setProps",value:function(e){var t=this,n=this.compJson.properties;Object.keys(e).forEach(function(i){var r=e[i];"sound"===i?t.compJson.sound=r:null===r||void 0===r||""===r?delete n[i]:n[i]=r})}},{key:"setProp",value:function(e,t){this.setProps(i({},e,t))}},{key:"update$li",value:function(e){this.updateCss(e),this.$li.css(e)}},{key:"update$boxDiv",value:function(e){var t=this;this.updateCss(e),this.$boxDiv.css(e),Object.keys(e).forEach(function(n){"fontSize"===n&&t.$boxDiv.css({"font-size":e[n]+"px"}).find("#"+t.compJson.id).css({"font-size":e[n]+"px"})})}},{key:"updateCss",value:function(e){var t=this.compJson.css;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"updatePos",value:function(e,t){var n=this.compJson.css;this.update$li({left:e+n.left,top:t+n.top})}},{key:"updatePos2",value:function(e,t){this.update$li({left:e,top:t})}},{key:"updateSize",value:function(e,t){}},{key:"resetStyle",value:function(){var e={opacity:1,transform:"rotateZ(0deg)"};this.update$li(e);var t={fontSize:"24px",color:"#676767",backgroundColor:"",fontWeight:"normal",fontStyle:"normal",textAlign:"left",textDecoration:"none",letterSpacing:0,borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0,transform:"none",opacity:1};this.update$boxDiv(t)}},{key:"create$li",value:function(){var e=this.compJson,t=e.id,n=e.num,i=e.type,r=e.css,o=e.properties.lock,a=r.width,u=r.height,l=r.left,p=r.top,h=r.zIndex,f=r.bottom,d=r.transform,g=r.display,v=r.opacity,m=$(c(s,{id:t,num:n,type:i}));o&&m.addClass("alock"),m.css({width:a,height:u,left:l,top:p,zIndex:h,bottom:f,transform:d,display:g,opacity:v}),this.$li=m,this.addClassToLi(this.$li);var y=Object.assign({},r,{width:"100%",height:"100%",transform:"none",fontFamily:"",opacity:"",marginTop:"0px",marginBottom:"0px"});return this.$boxDiv=this.$li.find(".element-box").css(y),this.compJson.sound&&this.compJson.sound.id&&"edit"===this.eqxScene.config.mode&&this.addSoundIcon(),this.$contentsDiv=this.$boxDiv.find(".element-box-contents"),this.$context=this.create$context(),this.$contentsDiv.append(this.$context),this.$li}},{key:"removeSoundIcon",value:function(){this.$soundIcon&&(this.$soundIcon.remove(),this.$soundIcon=null)}},{key:"addSoundIcon",value:function(){this.removeSoundIcon(),this.$soundIcon=$('<div class="sound-icon eqf-music"></div>'),this.$boxDiv.after(this.$soundIcon)}},{key:"destroy",value:function(){this.eleHide(),this.$li.remove(),this.$li=null}},{key:"create$context",value:function(){return $()}},{key:"addClassToLi",value:function(e){}},{key:"addEventListeners",value:function(){this.bindAfterRenderEvent(this.$li,this.compJson),this.addTriggerEvent(),this.addSoundEvent(),this.addAnimSoundEvent()}},{key:"eleHide",value:function(){this.$li&&this.compJson.properties.anim&&this.compJson.properties.anim.length&&this.$li.css({display:"none"}),this.soundAgent&&this.soundAgent.update(new l("hide")),this.anim&&this.anim.length&&this.anim.forEach(function(e){e.sound&&e.soundAgent&&e.soundAgent.update(new l("stop"))}),this.displayed=!1,this.stopAnimation()}},{key:"stopAnimation",value:function(){a.stopAnimation(this)}},{key:"startAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=e.maxCount;if(e.reset)var i=this,r=function(){i.stopAnimation()};a.startAnimation(this,{animIndex:t,maxCount:n,callback:r})}},{key:"eleShow",value:function(){if(this.eqxScene.config.disableCompAnim){var e=this.compJson.properties.anim;e[0]&&"typer"==e[0].type&&this.$context.css({opacity:1})}else this.startAnimation();this.$li&&this.compJson.properties.anim&&this.compJson.properties.anim.length&&this.$li.css("display","block"),this.displayed=!0,this.receiveEventAgent&&this.receiveEventAgent.preHandle(),this.triggerEventAgent&&this.triggerEventAgent.preHandle()}},{key:"addSoundEvent",value:function(){this.compJson.sound&&(this.soundAgent=new f(this,this.eqxScene.soundManager))}},{key:"addTriggerEvent",value:function(){var e=this.compJson.trigger,t=this.eqxScene.eventManager;e&&(e.sends&&(this.triggerEventAgent=new p(this,e,t)),e.receives&&(this.receiveEventAgent=new h(this,e,t)))}},{key:"deleSendId",value:function(e){if(this.compJson.trigger&&this.compJson.trigger.sends){var t=this.compJson.trigger.sends;t.forEach(function(n,i){n.handles.forEach(function(t,i){t.ids.indexOf(e)!==-1&&t.ids.splice(t.ids.indexOf(e),1),0===t.ids.length&&n.handles.splice(i,1)}),0===n.handles.length&&t.splice(i,1)}),0===t.length&&delete this.compJson.trigger.sends,this.compJson.trigger.sends||this.compJson.trigger.receives||delete this.compJson.trigger}}},{key:"deleReceiveId",value:function(e){if(this.compJson.trigger&&this.compJson.trigger.receives){var t=this.compJson.trigger.receives;t.forEach(function(n,i){n.ids.indexOf(e)!==-1&&n.ids.splice(n.ids.indexOf(e),1),0===n.ids.length&&t.splice(i,1)}),0===t.length&&delete this.compJson.trigger.receives,this.compJson.trigger.sends||this.compJson.trigger.receives||delete this.compJson.trigger}}},{key:"addAnimSoundEvent",value:function(){var e=this,t=this.anim;t&&t.length&&t.forEach(function(t){t.sound&&(t.soundAgent=new d(e,t,e.eqxScene.soundManager))})}},{key:"autoAdjustSize",value:function(){return{}}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.properties,r=i.url,o=i.number,s=t.pageId;if(r)$(e).click(function(){Number.isInteger(+r)?n.eqxScene.pageScroll.goToPageById(r):v(r,s)});else if(o&&g(o)){var a=$('<a class="telphone" href="tel:'+o+'"></a>');$(e).on("click",function(){$(document.body).append(a),setTimeout(function(){a[0].click(),a.remove()})})}}}]),e}();e.exports=m},function(e,t){e.exports='<li id="inside_#{id}" num="#{num}" ctype="#{type}"><div class="element-box" style="width: 100%; height: 100%"><div class="element-box-contents" style="width: 100%; height: 100%"></div></div></li>'},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.type=t,this.data=i};e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(116),u=n(118).RAW_EVENT,l=n(118).INIT_EVENT,p=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o))}return o(t,e),s(t,[{key:"addEventListener",value:function(){var e=this,n=this.triggerJson.sends,i=this.master.compJson.id;n.forEach(function(n){n.type===u.click?e.master.$li.on("click",function(){e.publish(i,n)}):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListener",e).call(e)})}},{key:"preHandle",value:function(){var e=this.master.compJson.properties.initType;e==l.show?this.master.$li.show():e==l.hide&&this.master.$li.hide()}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(117).getHash,s=function(){function e(t,n,r){i(this,e),this.triggerJson=n,this.master=t,this.manager=r,this.addEventListener()}return r(e,[{key:"addEventListener",value:function(){}},{key:"preHandle",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"publish",value:function(e,t){var n=this;t.handles.forEach(function(i){var r=o(e,i.type);n.manager.publish(r,{sender:n.master,delay:1e3*t.delay})})}}]),e}();e.exports=s},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some(function(e){return e.type===o.shake})}function r(e,t){return"sender-"+e+"-type-"+t+"-"+s[t]}var o=n(118).RAW_EVENT,s=n(118).EQX_EVENT;e.exports={hasShakeEvent:i,getHash:r}},function(e,t){"use strict";var n={click:1,shake:2},i={show:1,hide:2,random:3,play:4},r={show:1,hide:2,default:0};e.exports={RAW_EVENT:n,EQX_EVENT:i,INIT_EVENT:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(120),u=n(118).EQX_EVENT,l=n(118).INIT_EVENT,p=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o))}return o(t,e),s(t,[{key:"getPreHandler",value:function(e,n){if(n!=l.default)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPreHandler",this).call(this,e,n);switch(e){case u.show:return function(e){e.$li.hide()};case u.hide:return function(e){e.$li.show()};default:return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPreHandler",this).call(this,e,n)}}},{key:"getHandler",value:function(e){switch(e){case u.show:return function(e,t){setTimeout(function(){return e.$li.show()},t.delay)};case u.hide:return function(e,t){setTimeout(function(){return e.$li.hide()},t.delay)};case u.play:return function(e,t){setTimeout(function(){return e.playVideo()},t.delay)};default:return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getHandler",this).call(this,e)}}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(80).noop,s=n(117).getHash,a=function(){function e(t,n,r){i(this,e),this.master=t,this.triggerJson=n,this.manager=r,this.events=[],this.subscribe(),this.preHandle()}return r(e,[{key:"subscribe",value:function(){var e=this;this.triggerJson.receives.forEach(function(t){(t.ids||[]).forEach(function(n){var i=s(n,t.type);e.manager.subscribe(i,e);var r=e.events.findIndex(function(e){return e.hash===i});r>-1&&e.events.splice(r,1);var o={hash:i,preHandler:e.getPreHandler(t.type,e.master.compJson.properties.initType),handler:e.getHandler(t.type)};e.events.push(o)})})}},{key:"update",value:function(e){var t=e.type,n=e.data,i=this.events.find(function(e){return e.hash===t});i&&i.handler.call(this,this.master,n)}},{key:"preHandle",value:function(){var e=this;this.events.forEach(function(t){return t.preHandler.call(e,e.master)})}},{key:"getHandler",value:function(e){return o}},{key:"getPreHandler",value:function(e){return o}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(30).resolveUrl,c=n(31),u=n(122),l=n(32).mobilecheck,p=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.manager=n,o.soundJson=o.master.compJson.sound,o.type=1,o.init(),o.addEventListeners(),o.register(),o}return o(t,e),s(t,[{key:"init",value:function(){this.audio=new window.Audio,this.audio.src=a(c.FILE,this.soundJson.src)}},{key:"update",value:function(e){switch(e.type){case"stop":case"hide":this.stopPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1;break;case"reset":this.audio.currentTime=0}}},{key:"addEventListeners",value:function(){var e=this,t=l()?"touchend":"click";this.master.$li.on(t,function(){return e.audio.paused?e.startPlay():e.stopPlay()}),$(this.audio).on("ended",function(){return e.manager.onEnd(e)})}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.manager.onEnd(this))}}]),t}(u);e.exports=p},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this.master=t,this.manager=i}return i(e,[{key:"register",value:function(){this.manager.add(this)}},{key:"deregister",value:function(){this.manager.remove(this)}},{key:"update",value:function(e){}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(122),c=n(30).resolveUrl,u=n(31),l=function(e){function t(e,n,o){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return s.manager=o,s.soundJson=n.sound,s.type=2,s.init(),s.addEventListeners(),s.register(),s}return o(t,e),s(t,[{key:"init",value:function(){this.audio=new Audio,this.audio.src=c(u.FILE,this.soundJson.path),this.audio.loop=!0}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.audio.currentTime=0,this.manager.onEnd(this))}},{key:"addEventListeners",value:function(){var e=this;$(e.audio).on("AnimSound.start",function(t,n){e.startPlay()}).on("AnimSound.end",function(t,n){e.stopPlay()})}},{key:"update",value:function(e){switch(e.type){case"stop":this.stopPlay();break;case"play":this.startPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1}}}]),t}(a);e.exports=l},function(e,t){"use strict";function n(e){var t=/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/;return t.test(e)}function i(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}e.exports={isPhoneNumber:n,isEmail:i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(126),u=n(112),l=n(104).isSupportStyle,p=n(129),h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!0},imageStyle:!0}}),o}return o(t,e),s(t,[{key:"getImgSrc",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.eqxScene.config.mobileEdit&&(n.width&&(n.width*=2),n.height&&(n.height*=2)),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getImgSrc",this).call(this,e,n)}},{key:"updateSize",value:function(e,n){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$width&&this.$height){var i=this.$width/this.$height;this.updateImageSize(i,e,n)}}},{key:"updateImageSize",value:function(e,t,n){e||(this.$width&&this.$height?e=this.$width/this.$height:console.error("no imageRatio!")),t||(t=this.compJson.css),n||(n=this.compJson.css),void 0===n.height&&(n.height=t.height),void 0===n.width&&(n.width=t.width),void 0===n.borderWidth&&(n.borderWidth=parseInt(t.borderWidth||this.compJson.css.borderWidth||0));var i=this.compJson,r=i.properties,o=(n.width-2*n.borderWidth)/(n.height-2*n.borderWidth),s=r.imgStyle;if(o>e){var a=n.width-2*n.borderWidth,c=a/e,u=-(c+2*n.borderWidth-n.height)/2,l=0;s={width:a,height:c,marginTop:u,marginLeft:l}}else{var p=n.height-2*n.borderWidth,h=e*p,f=-(h+2*n.borderWidth-n.width)/2,d=0;s={width:h,height:p,marginLeft:f,marginTop:d}}this.$context.css(s),r.imgStyle=s}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.src,o=i.imgStyle,s=i.maskSrc,a=i.filter;a=void 0===a?{}:a;var u=a.type;if(o&&(r=this.getImgSrc(r,{width:o.width,height:o.height})),Number.isInteger(u))var p=$(c.filterImg({id:t,type:n,src:r,filterType:u}));else p=$(c.img({id:t,type:n,src:r}));return l("WebkitMaskBoxImage")&&s&&this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image":"url("+s+")"}),o&&p.css(o),p}}],[{key:"getImageStyles",value:function(){return p}}]),t}(u);e.exports=h},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.src,r=e.filterType,c=void 0===r?a[0].value:r,u="filter-"+t,l=a.find(function(e){return e.value===c})||c[0],p=l.path;return s(o,{id:t,type:n,filterId:u,src:i,path:p})}function r(e){var t=e.id,n=e.type,i=e.src;return'<img id="'+t+'" ctype="'+n+'" class="element comp_image editable-image"  draggable="false" src="'+i+'">'}n(127);var o=n(128),s=n(39).parse;e.exports={img:r,filterImg:i};var a=[{value:1,path:"1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"},{value:2,path:"2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"},{value:3,path:"1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"},{value:4,path:"1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"},{value:5,path:"1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"},{value:6,path:"0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"},{value:7,path:"0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"},{value:8,path:"0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"},{value:9,path:"0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"},{value:10,path:"0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"},{value:11,path:"4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]},function(e,t){},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_image editable-image"><svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{src}" filter="url(##{filterId})" draggable="false"></image><defs><filter id="#{filterId}"><feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix" values="#{path}"></feColorMatrix></filter></defs></g></svg></div>'},function(e,t,n){"use strict";var i=[{name:"圆形",path:n(130)},{name:"菱形",path:n(131)},{name:"心形",path:n(132)},{name:"矩形2",path:n(133)},{name:"矩形3",path:n(134)},{name:"矩形4",path:n(135)},{name:"星形1",path:n(136)},{name:"星形2",path:n(137)},{name:"星形3",path:n(138)},{name:"三角形",path:n(139)}];e.exports=i},function(e,t,n){e.exports=n.p+"images/circle-6daa4d.svg"},function(e,t,n){e.exports=n.p+"images/diamond-a61c24.svg"},function(e,t,n){e.exports=n.p+"images/heart-d692b9.svg"},function(e,t,n){e.exports=n.p+"images/rect2-007f3e.svg"},function(e,t,n){e.exports=n.p+"images/rect3-896f69.svg"},function(e,t,n){e.exports=n.p+"images/rect4-fb3aef.svg"},function(e,t,n){e.exports=n.p+"images/star1-42a9b6.svg"},function(e,t,n){e.exports=n.p+"images/star2-b75251.svg"},function(e,t,n){e.exports=n.p+"images/star3-343bf6.svg"},function(e,t,n){e.exports=n.p+"images/triangle-170329.svg"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.title,r=void 0===i?"":i,o=e.imgSrc,s=void 0===o?"":o,a=e.width,u=void 0===a?0:a,h=e.height,f=void 0===h?0:h;u=c(u),f=c(f);var d=r.replace(/ /g,"&nbsp;"),g=s?'<img style="width: 100%; height: 100%;" src="'+s+'">':d;return p(l,{id:t,type:n,width:u,height:f,content:g})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,
"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(141);var c=n(142).addSuffixPx,u=n(112),l=n(143),p=n(39).parse,h=n(30).openUrl,f=n(78).bigDataXBData,d=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),a(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.imgSrc,o=i.title,a=e.css,c=a.width,u=a.height,l=a.lineHeight;return r&&(r=this.getImgSrc(r,{width:c,height:u})),l||this.$boxDiv.css({lineHeight:u+"px"}),this.$context=$(s({id:t,type:n,imgSrc:r,title:o,width:c,height:u})),this.$context}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.id,r=t.properties.url,o=t.pageId;return r&&$(e).find("#"+i).click(function(){n.eqxPage.eqxScene.config.disableBigData||f(window.scene.id,4,null,10,"互动链接"),Number.isInteger(+r)?n.eqxScene.pageScroll.goToPageById(r):h(r,o)}),!!r}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}}]),t}(u);e.exports=d},function(e,t){},function(e,t){"use strict";function n(e){var t=document.getElementsByTagName("style")[0];if(!t){t=document.createElement("style");var n=document.head||document.getElementsByTagName("head")[0];t.type="text/css",n.appendChild(t)}var i=document.createTextNode(e);t.appendChild(i)}function i(e){return e=""+e,e.indexOf("px")===-1&&(e+="px"),e}e.exports={addGlobalStyle:n,addSuffixPx:i}},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-link editable-text" style="cursor: default; width: 100%; height: 100%">#{content}</a>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(35).$loadQQMap,c=n(112),u=n(39).parse,l=n(78).bigDataXBData,p=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,i=t.type,r=t.content,o=t.properties,s=o.lat,c=void 0===s?39.916527:s,l=o.lng,p=void 0===l?116.397128:l,h=o.zoom,f=void 0===h?11:h,d='<div id="#{id}" ctype="#{type}" class="element"></div>',g=$(u(d,{id:n,type:i})).css({width:"100%",height:"100%"}).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend",function(e){e.stopPropagation()});return a().then(function(){e.initQQMap({$context:g,content:r,lat:c,lng:p,zoom:f})}),g}},{key:"initQQMap",value:function(e){var t=e.$context,i=e.content,r=e.lat,o=e.lng,s=e.zoom,a=new qq.maps.LatLng(r,o),c={disableDefaultUI:!0,center:a,zoom:parseFloat(s)},u=this.map=new qq.maps.Map(t[0],c);i&&(this.label=new qq.maps.Label({position:a,map:u,content:i}));var l=new qq.maps.Point(25,5),p=new qq.maps.Size(34,34),h=new qq.maps.Point(0,0),f=new qq.maps.MarkerImage(n(145),p,h,l),d=new qq.maps.Marker({map:u,position:u.getCenter()});d.setIcon(f),t.data("marker",d)}},{key:"bindAfterRenderEvent",value:function(e){var t=this,n=$(e);n.click(function(){t.eqxPage.eqxScene.config.disableBigData||l(window.scene.id,4,null,13,"互动地图")})}}]),t}(c);e.exports=p},function(e,t,n){e.exports=n.p+"images/marker-15820e.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p[0].value;return p.find(function(t){var n=t.value;return n===e})}function a(e){var t=e.imgW,n=e.imgH,i=e.containerW,r=e.containerH,o={},s=t/n,a=i/r;return s>a?(o.width=i,o.height=i/s):(o.height=r,o.width=r*s),o.margin=(r-n)/2+"px "+(i-t)/2+"px",o}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(147);var u=n(35).$loadFlux,l=n(112),p=[{value:1,desc:"轮播",name:"slide"},{value:2,desc:"下落",name:"bars"},{value:3,desc:"百页窗",name:"blinds"},{value:4,desc:"消隐",name:"blocks"},{value:5,desc:"渐变",name:"blocks2"},{value:9,desc:"梳理",name:"zip"},{value:11,desc:"翻转",name:"bars3d"},{value:13,desc:"立方体",name:"cube"},{value:14,desc:"棋盘",name:"tiles3d"},{value:16,desc:"飞出",name:"explode"}],h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.intervalObj={},$.extend(!0,o.$ability,{style:{self:!1},anim:!1,trigger:!1,sound:!1,link:!1}),o}return o(t,e),c(t,[{key:"updateSize",value:function(e,t){this.$context.find(".fluxslider, .images, .image1, .image2").css({width:t.width,height:t.height})}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,i=t.type,r=t.properties;r=void 0===r?{}:r;var o=r.children,s=void 0===o?[]:o,c=r.bgColor,u=t.css,l=u.width,p=u.height,h=$('<div id="'+n+'" class="element" ctype="'+i+'"></div>').css("background-color",c);if(s.length){var f=s.map(function(t){var n=t.width,i=t.height,r=t.src,o=a({imgW:n,imgH:i,containerW:l,containerH:p});return r=e.getImgSrc(r,{width:l,height:p}),$('<img src="'+r+'">').css(o)});h.append(f),this.deleteInterval(n),this.initFlux(h)}return h}},{key:"initFlux",value:function(e){var t=this,n=this.compJson,i=n.id,r=n.properties,o=r.autoPlay,a=r.interval,c=r.picStyle,l=n.css,p=l.width,h=l.height,f=l.bgColor;this.deleteInterval(i),u().then(function(){var n=flux.slider;t.flux=new n(e,{autoplay:o,delay:a,pagination:!1,transitions:[s(c).name],width:p,height:h,bgColor:f,onStartEnd:function(e){return t.addInterval(i,e)}})})}},{key:"bindAfterRenderEvent",value:function(){return!1}},{key:"addInterval",value:function(e,t){this.intervalObj[e]=t}},{key:"deleteInterval",value:function(e){this.intervalObj[e]&&(clearInterval(this.intervalObj[e]),delete this.intervalObj[e])}},{key:"clearInterval",value:function(){for(var e in this.intervalObj)this.deleteInterval(e)}}]),t}(l);e.exports=h},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return new Promise(function(t,i){n.e(9,function(){var r=n(151),o=r[e];/^<path.*>$/.test(o)?t(o):i(e+" does not match <path />")})})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(33).$getSvg,u=n(149),l=n(150),p=n(112),h="http://www.w3.org/2000/svg",f=(n(30).openUrl,function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!0}}}),o}return o(t,e),a(t,[{key:"create$context",value:function(){var e=this.compJson;this.$contentsDiv.css({position:"relative"});var t=e.id,n=e.properties,i=n.viewBox,r=void 0===i?"0 0 64 64":i,o=n.type,a=void 0===o?"":o,p=n.src,f=n.items,d=e.css.color,g=void 0===d?"#555":d;if(p){var v=document.createElementNS(h,"svg");return v.setAttribute("class","element svg-element"),c(p).then(function(n){var i=n.getElementsByTagName("svg"),r=i[0].viewBox.baseVal,o=parseFloat($(i).attr("width"))||r.width,s=parseFloat($(i).attr("height"))||r.height,a=$(i).find("[fill], [style*='fill']")||[];if(f)if(a.length==f.length)for(var c=0;c<f.length;c++)a.eq(c).css({fill:f[c].fill});else $.each(a,function(e,t){for(var n=0;n<f.length;n++)for(var i=f[n].elements||[],r=0;r<i.length;r++)e==i[r]&&(""!=f[n].fill?a.eq(e).css({fill:f[n].fill}):a.eq(e).css({fill:"none"}))});else{var u=[],l={};$.each(a,function(e,t){var n=$(t).attr("style");if(n){for(var i=n.split(";")||[],r=0,o=i.length;r<o;r++)if(i[r].includes("fill:")){u.push(i[r].split(":")[1]);break}}else u.push($(t).attr("fill"))});for(var p=0;p<u.length;p++)l[u[p]]||(l[u[p]]=1,"none"!=u[p]?f.push({fill:u[p],svgFill:u[p]}):f.push({fill:"",svgFill:"none"}));for(var h=0;h<f.length;h++){var d=[];$.each(a,function(e,t){var n,i=$(t).attr("style");if(i){for(var r=i.split(";"),o=0,s=r.length;o<s;o++)if(r[o].includes("fill:")){n=r[o].split(":")[1];break}}else n=$(t).attr("fill");n==f[h].svgFill&&d.push(e)}),f[h].elements=d}e.properties.items=f}var g="0 0 "+o+" "+s,m=v.parentNode;m.removeChild(v),v=i[0],m.appendChild(v),v.setAttribute("viewBox",g),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.id=t,v.setAttribute("class","element svg-element")}).catch(function(){var e;return(e=console).error.apply(e,arguments)}),$(v)}var m=r.split(" "),y=m[2]||64,b=m[3]||64;if(a.includes("symbols")){var w=$(l.svg({id:t,viewBox:r}))[0];return s(a.replace(/^symbols-/,"")).then(function(e){w.innerHTML=l.g({id:t,color:g,path:e})}).catch(function(){var e;(e=console).error.apply(e,arguments)}),$(w)}var x=a.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});if(u[x]){var P=$(u[x](y,b)).attr("fill",g);return $(l.svg({id:t,viewBox:r,content:P[0].outerHTML}))}console.error("shape#"+t+" does not match any!")}}]),t}(p));e.exports=f},function(e,t){"use strict";function n(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function i(e){for(var t=[];e.length>=2;)t.push(e.shift()+","+e.shift());return t.join(" ")}function r(e,t){var i=n("rect");return i.setAttribute("width",e),i.setAttribute("height",t),i}function o(e,t){var i=n("ellipse");return i.setAttribute("rx",e/2),i.setAttribute("ry",t/2),i.setAttribute("cx",e/2),i.setAttribute("cy",t/2),i}function s(e,t){var r=n("polygon");return r.setAttribute("points",i([e/2,0,e,t,0,t])),r}function a(e,t){var r=n("polygon");return r.setAttribute("points",i([0,0,e,0,e/2,t])),r}function c(e,t){var r=n("polygon");return r.setAttribute("points",i([0,t/2,e,0,e,t])),r}function u(e,t){var r=n("polygon");return r.setAttribute("points",i([e,t/2,0,t,0,0])),r}function l(e,t){var r=n("polygon");return r.setAttribute("points",i([.5*e,0,e,.5*t,.7*e,.5*t,.7*e,t,.3*e,t,.3*e,.5*t,0,.5*t,.5*e,0])),r}function p(e,t){var r=n("polygon");return r.setAttribute("points",i([.5*e,t,e,.5*t,.7*e,.5*t,.7*e,0,.3*e,0,.3*e,.5*t,0,.5*t,.5*e,t])),r}function h(e,t){var r=n("polygon");return r.setAttribute("points",i([e,.3*t,.5*e,.3*t,.5*e,0,0,.5*t,.5*e,t,.5*e,.7*t,e,.7*t,e,.3*t])),r}function f(e,t){var r=n("polygon");return r.setAttribute("points",i([0,.3*t,.5*e,.3*t,.5*e,0,e,.5*t,.5*e,t,.5*e,.7*t,0,.7*t])),r}function d(e,t,r){var o=n("polygon"),s=[];if(3===r)s=[e/2,0,e,t,0,t];else if(r>3)for(var a=e/2,c=t/2,u=0;r>u;u++){var l=a+a*Math.cos(2*Math.PI*u/r),p=c+c*Math.sin(2*Math.PI*u/r);l=Math.round(10*l)/10,p=Math.round(10*p)/10,s.push(l),s.push(p)}return o.setAttribute("points",i(s)),o}function g(e,t){return d(e,t,4)}function v(e,t){return d(e,t,8)}e.exports={rect:r,ellipse:o,circle:o,triangleUp:s,triangleDown:a,triangleLeft:c,triangleRight:u,arrowUp:l,arrowDown:p,arrowLeft:h,arrowRight:f,diamond:g,octagon:v};var m=n("rect");m.attr=m.setAttribute},function(e,t){"use strict";function n(e){var t=e.color,n=e.id,i=e.path;return'<g fill="'+t+'" id="path_'+n+'">'+i+"</g>"}function i(e){var t=e.id,n=e.viewBox,i=e.content,o=void 0===i?"":i;return'\n<svg id="'+t+'" class="element svg-element" xmlns="'+r+'" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="'+n+'">\n    '+o+"\n</svg>"}var r="http://www.w3.org/2000/svg";e.exports={g:n,svg:i}},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(153),u=n(112),l=n(155),p=n(157),h=n(39).parse,f=n(78).bigDataXBData,d={POP:0,INLINE:1},g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.bgm=o.eqxScene.bgm,o.$close=null,o.$video=null,$.extend(!0,o.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1,flexLine:"r,ne,se,sw,nw"}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties.cover,r=e.css,o=r.width,s=r.height;if(i){i=this.getImgSrc(i,{width:o,height:s});var a=$(h(l,{id:t,type:n,cover:i}))}else a=$(h(p,{id:t,type:n}));return a}},{key:"addClassToLi",value:function(e){e.addClass("wsite-video")}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.hide()}},{key:"update",value:function(e){switch(e.type){case"hide":this.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.properties.style;return e.click(function(){switch(n.eqxPage.eqxScene.config.disableBigData||f(window.scene.id,4,null,2,"视频播放"),n._isPlayingVideo=!0,n.bgm&&n.bgm.hide&&n.bgm.hide(),n.eqxScene.soundManager.stopAll(),i){case d.INLINE:n.initInlineVideo();break;case d.POP:default:n.initPopVideo()}}),!0}},{key:"initInlineVideo",value:function(){var e=this.compJson,t=e.properties.src,n=e.css,i=this.$iframe=$(t).css({width:n.width,height:n.height,zIndex:3,position:"absolute",top:0,left:0});$(this.context).find("img").css("display","none"),this.$li.find(".inline-video").append(i)}},{key:"initPopVideo",value:function(){var e=this,t=this.compJson,n=t.id,i=t.properties.src,r=this.$li;r.hide();var o=this.$video=$(c.videoDiv(n)),s=this.$close=$(c.close(n)),a=$(i).css({position:"absolute",top:"50%",left:"50%",width:"100%",transform:"translate(-50%, -50%)"});o.append(a),r.parent().append(o,s),s.bind("click",function(){e.hide()})}},{key:"hide",value:function(){if(this._isPlayingVideo){this._isPlayingVideo=!1,this.bgm&&this.bgm.show&&this.bgm.show(),this.eqxScene.soundManager.restoreAll();var e=this.compJson.properties.style,t=void 0===e?0:e;switch(t){case d.INLINE:this.$iframe&&(this.$iframe.remove(),this.$iframe=null);break;case d.POP:this.$close&&(this.$li.show(),this.$close.unbind("click"),this.$video.remove(),this.$close.remove(),this.$video=null,this.$close=null)}}}}]),t}(u);g.STYLE=d,e.exports=g},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type;return'<a class="element video_area" id="'+t+'" ctype="'+n+'" style="width:100%;height:100%;"></a>'}function r(e){return'<div class="video_mask page_effect lock" id="mask_'+e+'"></div>'}function o(e){return'<a class="close_mask eqf-wrong" id="close_'+e+'"></a>'}n(154),e.exports={compDiv:i,videoDiv:r,close:o}},function(e,t){},function(e,t,n){e.exports='<div class="inline-video" id="#{id}" ctype="#{type}"><img class="cover" alt="video-cover" src="#{cover}"> <img class="center play" src="'+n(156)+'" alt="video-play-button"></div>'},function(e,t,n){e.exports=n.p+"images/play-a830cb.svg"},function(e,t){e.exports='<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%"></a>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(112),u=n(159),l=n(75).getWxJSSDK,p=n(32).isWeixin,h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{commonStyle:{self:!1},advanceStyle:{self:!1}},anim:!1,trigger:!1,sound:!1,link:!1}),o.wxJssdk=l(),o}return o(t,e),s(t,[{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height})}},{key:"create$context",value:function(){var e=this.compJson,t=e.css,n=t.width,i=t.height;this.$source=$('<source type="video/mp4">');var r=$('<video webkit-playsinline playsinline width="'+n+'" \n                             height="'+i+'" \n                             poster="'+u+'"></video>');return r.append(this.$source),r}},{key:"eleShow",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),"1"==this.compJson.autoplay&&this.playVideo()}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.$context[0].pause(),this.$li.hide()}},{key:"playVideo",value:function(){if(this.compJson.src&&this.$source.attr("src"))try{this.$li.show();var e=this.$context[0];e.currentTime=0,p()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e.play()}})}):e.play()}catch(e){this.$li.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){return t.src&&this.$source.attr("src",t.src),this.$boxDiv.css({borderWidth:0}),this.$li.hide(),!0}}]),t}(c);e.exports=h},function(e,t,n){e.exports=n.p+"images/play-32e9c9.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(161);var a=n(162).$postDialRecord,c=n(163),u=n(124).isPhoneNumber,l=n(112),p=n(78).bigDataXBData,h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.css,r=i.width,o=i.height,s=i.lineHeight,a=e.properties,u=a.title,l=a.imgSrc,p=a.number;return l&&(l=this.getImgSrc(l,{width:r,height:o})),s||this.$boxDiv.css({lineHeight:o+"px"}),this.$context=$(c.compDiv({id:t,title:u,type:n,imgSrc:l,number:p})),this.$context}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.id,r=t.sceneId,o=t.properties.number,s=u(o);return s&&e.find("#"+i).attr("href","tel:"+o).click(function(){n.eqxPage.eqxScene.config.disableBigData||p(window.scene.id,4,null,11,"互动电话"),a({id:r,num:o})}),s}}]),t}(l);e.exports=h},function(e,t){},function(e,t,n){"use strict";function i(e){return r({type:"POST",url:o.SERVER_1+"eqs/dial",data:e})}var r=n(34).ajax,o=n(31);e.exports={$postDialRecord:i}},function(e,t,n){"use strict";function i(e){return e.imgSrc?o(e):r(e)}function r(e){var t=e.id,n=e.number,i=e.title,r=e.type;return i=i.replace(/ /g,"&nbsp;"),c(s,{id:t,number:n,title:i,type:r})}function o(e){var t=e.id,n=e.number,i=e.imgSrc,r=e.type,o=i;return c(a,{id:t,number:n,src:o,type:r})}n(164);var s=n(165),a=n(166),c=n(39).parse;e.exports={compDiv:i}},function(e,t){},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" href="tel:#{number}" style="cursor: default; width: 100%">#{title}</a>'},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" href="tel:#{number}" style="cursor: default; width: 100%;height: 100%"><img style="width: 100%; height: 100%" src="#{src}"></a>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(168);var a=n(169),c=n(112),u=n(39).parse,l=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.imgSrc,o=i.title,s=e.css,c=s.height,l=s.width;if(r){r=this.getImgSrc(r,{width:l,height:c});var p='<img style="width: 100%; height: 100%;" src="'+r+'"></a>'}return o&&(p=o.replace(/ /g,"&nbsp;")),$(u(a,{id:t,type:n,content:p}))}}]),t}(c);e.exports=l},function(e,t){},function(e,t){e.exports='<div class="element" style="width: 100%; height: 100%"><a id="#{id}" ctype="#{type}" class="element eqx-sound editable-text" style="cursor: default; width: 100%;height: 100%">#{content}</a></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.layout,r=e.size,o=e.icon,s=e.color,a=$(f(h,{layout:i,size:r,id:t,type:n,icon:o}));return a.find("i, span").css("color",s),a}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(171);var u=n(77).$getPvCount,l=n(172).fixedNum,p=n(112),h=n(173),f=n(39).parse,d=n(78).bigDataXBData,g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),a(t,[{key:"eleShow",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),this.getPvCount()}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.layout,o=i.size,a=i.icon,c=i.color,u=e.css,l=u.lineHeight,p=u.width,h=u.height,f=s({id:t,type:n,layout:r,size:o,icon:a,color:c,css:{width:p,height:h,lineHeight:l}});return this.getPvCount(),f}},{key:"getPvCount",value:function(){var e=this;if("view"==this.eqxScene.config.mode)return this.eqxPage.eqxScene.config.disableBigData||d(window.scene.id,4,null,20,"统计阅读量"),u(this.compJson.sceneId).then(function(e){return l(e)||0}).then(function(t){e.$li.find(".counter-number").text(t)})}}]),t}(p);e.exports=g},function(e,t){},function(e,t){"use strict";function n(e){var t;return e<1e4?t=e:e>=1e4&&e<1e8?t=(e/1e4).toFixed(2)+"万":e>=1e8&&(t=(e/1e8).toFixed(2)+"亿"),t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*e)%e+t}e.exports={fixedNum:n,random:i}},function(e,t){e.exports='<div class="element comp_counter editable-text #{layout} #{size}" id="#{id}" ctype="#{type}"><div class="counter-container"><i class="counter-elem counter-icon #{icon}" style="#{c}"></i><span class="counter-elem counter-number" style="#{c}">0</span></div></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.pics,r=i.map(function(e){return a(e.path)}).join("");return $('\n<div id="'+t+'" class="random-event element comp_image editable-image" ctype="'+n+'"\n     style="width: 100%; height: 100%;">\n     '+r+"\n</div>")}function a(e){return'<img src="'+(l.FILE+e)+'" style="width: 100%; height: 100%; display: none;">'}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(175);var u=n(112),l=n(31),p=n(115),h=n(176),f=n(172).random,d=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.randomIndex=-1,o.busy=!1,$.extend(!0,o.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),c(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties.pics;return this.randomMax=i.length,s({id:t,type:n,pics:i})}},{key:"addTriggerEvent",value:function(){var e=this.compJson.trigger,t=this.eqxScene.eventManager;e&&(e.sends&&(this.triggerEventAgent=new p(this,e,t)),e.receives&&(this.receiveEventAgent=new h(this,e,t)))}},{key:"showRandomImg",value:function(){var e=this.$context.find("img");e.css("display","none");var t=this.randomIndex;if(1!=this.randomMax){do t=f(this.randomMax);while(t==this.randomIndex)}else t=0;$(e[t]).css("display","block"),this.randomIndex=t}}]),t}(u);e.exports=d},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(119),u=n(118).EQX_EVENT,l=n(80).noop,p=function(e){function t(e,n,o){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o))}return o(t,e),s(t,[{key:"getHandler",value:function(e){return e===u.random?function(e,t){var i=n(174);if(!(e instanceof i)){if(_DEBUG_)throw new Error("Expect EqxRandom, Invalid element type: "+e);return l}e.busy||(e.busy=!0,setTimeout(function(){e.showRandomImg(),e.busy=!1;
},t.delay))}:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getHandler",this).call(this,e)}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(178),u=n(112),l=n(75).getWeChatUser,p=n(78).bigDataXBData,h=n(32).isWeixin,f=n(74).$getUserWxInfo,d=n(75).setWeChatUser,g=n(75).hrefToWxAuth,v=n(30).setUrlHistory,m=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.commentManager=o.eqxScene.commentManager,o.commentManager&&o.commentManager.register(o),$.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"setProps",value:function(e){e.style&&this.getProp("style")!=e.style&&this.updateStyle(e.style),"meslabel"in e&&this.getProp("mesLabel")!=e.meslabel&&this.updateMesLabel(e.meslabel),"morelabel"in e&&this.getProp("morelabel")!=e.morelabel&&this.updateMoreLabel(e.morelabel),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setProps",this).call(this,e)}},{key:"getStyles",value:function(){return n(188)}},{key:"updateStyle",value:function(e){this.$boards&&this.$boards.removeClass().addClass("boards-"+e)}},{key:"updateMesLabel",value:function(e){this.$context.find("a.replay").html(e||"")}},{key:"updateMoreLabel",value:function(e){this.$context.find("a.more").html(e||"")}},{key:"eleShow",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),this.$panel.parent().length||(this.$panel.hide(),this.$panel.insertBefore(this.$li.parent().parent()));var e=this.compJson.properties.style;if(this.commentManager)var n=this.commentManager.getComments().slice(0,5).map(function(e){return c.record(e)});else n=[];n.length?(this.$boards.find(".empty-boards").length&&this.$boards.find(".empty-boards").remove(),this.$boards.find(".record").remove(),this.$boards.prepend(n)):this.$boards.append(c.emptyBoards(e))}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.$boards.find(".record").remove(),this.$boards.find(".empty-boards").remove(),this.$panel.hide()}},{key:"addClassToLi",value:function(e){e.addClass("wsite-boards"),e.attr("min-h",60).attr("min-w",230)}},{key:"updateComments",value:function(){this.$boards&&this.$panel&&this.eleShow()}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.meslabel,o=i.morelabel,s=i.style,a=this.$ele=$(c.compDiv({id:t,type:n,style:s})),u=this.$boards=a.find(".boards-"+s);u.append(c.tool({meslabel:r||"",morelabel:o||""})),this.$trigger=u.find(".tool a");var l=this.$panel=$(c.panel({style:s}));if(this.$close=l.find(".eqf-wrong"),this.$contentText=l.find(".content-text"),this.$contentTip=l.find(".content-tip"),this.$submit=l.find(".record-btn"),this.$more=l.find(".more-mes"),this.$panelList=l.find(".list"),this.maxLength=this.$contentText.attr("maxLength"),this.eqxScene.config.disableCommentManager){var p=(new Date).getTime(),h=[1,2,3].map(function(e){return c.record({content:"赞一个！好多新功能哦~",name:"匿名用户",createTime:p+1e4*e,isEditor:!0})});u.append(h)}return a}},{key:"bindAfterRenderEvent",value:function(e,t){function n(){var e=u.commentManager.getComments().map(function(e){return c.record(e)});u.$panelList.find(".record").remove(),u.$panelList.prepend(e),u.$panel.show(),m()}var i=this,r=t.sceneId,o=t.pageId,s=l(),a=f,u=this,m=function(){i.commentManager&&i.commentManager.loadMoreComments().then(function(e){var t=e.map(function(e){return c.record(e)});i.$more.before(t)}).catch(function(){i.$more.html("没有更多"),i.$more.unbind("click")})};this.$trigger.on("click",function(){h()&&!s.nickname?a().then(function(e){e.obj?(d(e.obj),n()):(v(o),g())}).catch(function(){n()}):n()}),this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove",function(e){e.stopPropagation()}),this.$contentText.on("input",function(e){var t=e.target.value,n=t.length+t.split("\n").length-1;i.$contentTip.html(n+"/"+i.maxLength)});var y=!1;return this.$submit.on("click",function(){if(i.eqxPage.eqxScene.config.disableBigData||p(window.scene.id,4,null,26,"留言板留言"),!y){y=!0,i.$submit.addClass("submit-disabled");var e=$.trim(i.$contentText.val())||i.$contentText.attr("placeholder"),t=e.length+e.split("\n").length-1;t>i.maxLength&&(e=e.slice(0,i.maxLength));var n={sceneId:r,content:e,url:s.headimgurl||"",name:s.nickname||"匿名用户"};i.commentManager.postComment(n).then(function(e){window.alert("留言成功，谢谢参与！"),i.$contentText.val("");var t=c.record(e);i.$panelList.parent().scrollTop(0),i.$panelList.prepend(t),i.$contentTip.html("0/"+i.maxLength)}).catch(function(e){window.alert("提交失败，请重新提交")}).finally(function(){var e=10,t=function t(){e?(i.$submit.text("提交留言("+e+"秒)"),e--,setTimeout(function(){t()},1e3)):(i.$submit.text("提交留言"),i.$submit.removeClass("submit-disabled"),y=!1)};t()})}}),this.$close.on("click",function(){i.$panel.hide(),i.eleShow()}),this.$more.on("click",function(){return m()}),!0}}]),t}(u);e.exports=m},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.style,r=void 0===i?"default":i;return f(h,{id:t,type:n,style:r})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=n(182)("./"+e+"_boards.png");return'<div class="empty-boards"><img style="margin-top:-20px;" src="'+t+'"></div>'}function o(e){var t=e.meslabel,n=e.morelabel;return'<div class="tool"><a class="replay">'+t+'</a><a class="more">'+n+"</a></div>"}function s(e){return'<div class="headimg" style="background-image:url('+e+')"></div>'}function a(){return'<div class="headimg headimg-bg"><em class="eqf-logo2"></em></div>'}function c(e){var t=e.url,n=e.name,i=e.content,r=e.createTime,o=t?s(t):a();if((new Date).getTime()-r<6e4)var c="刚刚";else c=l(new Date(r),"MM月dd日 hh:mm");return'\n<div class="record">\n    '+o+'\n    <div class="name ellipsis">'+n+'</div>\n    <div class="mes">'+i+'</div>\n    <div class="time">'+c+"</div>\n</div>"}function u(e){var t=e.style,n=void 0===t?"default":t;return f(p,{style:n})}n(179);var l=n(38).dateFormat,p=n(180),h=n(181),f=n(39).parse;e.exports={compDiv:i,emptyBoards:r,tool:o,headImgUser:s,headImgEqxView:a,record:c,panel:u}},function(e,t){},function(e,t){e.exports='<div class="boards-panel boards-#{style}"><div class="boards-top"><div class="head">留言板<em class="eqf-wrong"></em></div><div class="boards-form"><textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea><span class="content-tip">0/140</span> <a class="record-btn">提交留言</a></div><div class="spline-con"><span>更多留言</span> <span class="spline"></span></div></div><div class="boards-con ios-boards-con"><div class="list"><div class="more-mes">查看更多</div></div></div></div>'},function(e,t){e.exports='<div class="element-box-contents eqx-comp-comment" style="width: 100%; height: 100%"><div id="#{id}" class="element boards-#{style}" ctype="#{type}"></div></div>'},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./black_boards.png":183,"./blue_boards.png":184,"./default_boards.png":185,"./pink_boards.png":186,"./yellow_boards.png":187};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=182},function(e,t,n){e.exports=n.p+"images/black_boards-ba4922.png"},function(e,t,n){e.exports=n.p+"images/blue_boards-f58067.png"},function(e,t,n){e.exports=n.p+"images/default_boards-f58067.png"},function(e,t,n){e.exports=n.p+"images/pink_boards-a2ae42.png"},function(e,t,n){e.exports=n.p+"images/yellow_boards-f58067.png"},function(e,t){"use strict";e.exports=[{name:"默认",value:"default"},{name:"简约黑",value:"black"},{name:"少女粉",value:"pink"},{name:"邮票风",value:"blue"},{name:"便签风",value:"yellow"}]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(171);var c=n(190).$postCount,u=n(172).fixedNum,l=n(191),p=n(112),h=n(32).isWeixin,f=n(193),d=n(78).bigDataXBData,g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"updateSize",value:function(e,n){n.height&&(n.lineHeight=n.height+"px",this.$context.css({lineHeight:n.lineHeight})),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n)}},{key:"bindAfterRenderEvent",value:function(e){var t=this,n=this.compJson,i=n.id,r=n.sceneId,o=n.pageId,s=this.$context;this.eqxScene.statManager.getCounterValues().then(function(e){var t=e[i]||0;s.find(".counter-number").attr("data-counter-number",t).html(u(t))});var a=this.$li.find(".comp_counter"),l=a.find(".counter-number"),p="rating-l";return a.click(function(){if(!t.eqxPage.eqxScene.config.disableBigData&&t.compJson.properties){var n,s,g=t.compJson.properties.icon;switch(g){case"eqf-love":n=15,s="互动计数喜欢";break;case"eqf-good":n=16,s="互动计数顶起";break;case"eqf-flower2":n=17,s="互动计数送花";break;case"eqf-vote":n=18,s="互动计数投票";break;default:n=19,s="互动计数自定义"}d(window.scene.id,4,null,n,s)}t.compJson.properties&&t.compJson.properties.clickFarmer?h()?c({sceneId:r,elementId:i,pageId:o}).then(function(){a.unbind("click").removeClass("not-voted");var e=Number.parseInt(l.attr("data-counter-number"))||0,t=e+1;l.attr("data-counter-number",t).text(u(t))}).catch(function(t){120504===t.code?f.modal(e,p,!1,null,"请到微信中打开使用"):120505===t.code?f.modal(e,p,!1,null,"请不要重复提交"):window.alert("服务器异常!")}):f.modal(e,p,!1,null,"请到微信中打开使用"):c({sceneId:r,elementId:i,pageId:o}).then(function(){a.unbind("click").removeClass("not-voted");var e=Number.parseInt(l.attr("data-counter-number"))||0,t=e+1;l.attr("data-counter-number",t).text(u(t))}).catch(function(){window.alert("服务器异常!")})}),!0}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.layout,o=i.imgSrc,s=i.color,a=i.icon,c=i.size,u=e.css.textAlign,p=l.$compDiv({id:t,layout:r,size:c,type:n,icon:a,color:s,imgSrc:o});return"center"===u&&p.find("img").css("margin","0 auto"),p}},{key:"update$img",value:function(e){this.$context.find("img").attr("src",e)}},{key:"iconToImg",value:function(e){this.$context.find("i").remove().prepend(l.img(e))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"update$iconColor",value:function(e){this.$context.find(".counter-container").css({color:e})}}]),t}(p);e.exports=g},function(e,t,n){"use strict";function i(e){return o({type:"POST",url:s.SERVER_1+"eqs/scene/count",data:e})}function r(e){return o({type:"GET",url:s.SERVER_1+"eqs/scene/counter/values",data:e})}var o=n(34).ajax,s=n(31);e.exports={$postCount:i,$getCountValues:r}},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.layout,i=e.size,s=e.type,u=e.icon,l=e.color,p=e.imgSrc,h=p?o(p):r(u),f=$(c(a,{layout:n,size:i,id:t,type:s,i:h}));return f.find(".counter-container").css({color:l}),f}function r(e){return'<i class="counter-elem counter-icon '+e+'" ></i>'}function o(e){var t=s.FILE+e;return'<img class="counter-elem counter-icon"\n             style="width: 115px; height: 115px;" src="'+t+'">'}var s=n(31),a=n(192),c=n(39).parse;e.exports={$compDiv:i}},function(e,t){e.exports='<div class="element comp_counter not-voted editable-text #{layout} #{size}" id="#{id}" ctype="#{type}" name="eq[f_#{id}]"><div class="counter-container" style="white-space: nowrap">#{i} <span class="counter-elem counter-number" data-counter-number="0">0</span></div></div>'},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.src,r=(e.css,'<button style="display: block;width: 100%;height: 100%;" \n                        id="'+t+'" ctype="'+n+'" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="'+i+'">\n                </button>');return $(r)}function r(e){var t=e.id,n=e.type,i=e.title,r=(e.css,i.replace(/ /g,"&nbsp;")),o='<button style="display: block;width: 100%;height: 100%;" \n                        id="'+t+'" ctype="'+n+'" \n                        class="element comp_button editable-text" >'+r+"</button>";return $(o)}function o(e){var t=e.layout,n=e.hasLink,i=e.src,r=e.text,o=e.link,s=$('<div class="feedback-content"><span>'+r+"</span></div>"),a=$('<div class="feedback-btn"></div>');return i&&("rating-m"===t?s.prepend('<img class="up" src="'+i+'"/>'):"rating-s"===t?s.append('<img class="down" src="'+i+'"/>'):"rating-l"===t&&s.prepend('<img class="up ico" src="'+i+'"/>')),n?a.append('<a class="feedback-close left">关闭</a><a class="right" href="'+o+'">查看详情</a>').addClass("line"):a.append('<a class="feedback-close">关闭</a>'),$('<div class="feedback-box">').append($('<div class="feedback-form">').append(s,a))}function s(e,t,n,i,r,s){var a=o({layout:t,hasLink:n,src:i,text:r,link:s}).insertBefore($(e).parent().parent()),c=a.find(".feedback-form"),u=a.find(".feedback-close"),l=-Number.parseInt(c.height()+80)/2;c.css({marginTop:l+"px"}),u.on("click",function(){a.animate({opacity:0},{duration:300,complete:function(e){return a.remove()}})})}n(194),e.exports={$img:i,$btn:r,modal:s}},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(196),c=n(197).formatTime,u=n(198).getServiceTime,l=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"renderTime",value:function(e){var n=this,i=(new Date).getTime(),r=this.compJson.properties,o=r.endTime,s=r.arriveTips,a=r.arriveTipsContent;u().then(function(e){return i=e.obj},function(){return i=(new Date).getTime()}).then(function(i){var r=setInterval(function(){i+=1e3,n.$li||clearInterval(r),i>=o?(s?e.html(a||t.defaultArriveTipsContent):e.html(c(i,i)),clearInterval(r)):e.html(c(o,i))},1e3)})}}]),t}(a);l.defaultArriveTipsContent="开始啦!",e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(112),c=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=document.createElement("div");return e.id=this.compJson.id,e.setAttribute("ctype",this.compJson.type),e.setAttribute("class","element comp_paragraph editable-text"),this.renderTime($(e)),$(e)}},{key:"renderTime",value:function(e){return null}}]),t}(a);e.exports=c},function(e,t){"use strict";function n(e,t){var n=e-t,r=Math.floor(n/864e5),o=n%864e5,s=Math.floor(o/36e5),a=o%36e5,c=Math.floor(a/6e4),u=a%6e4,l=Math.round(u/1e3);return i(r)+"天"+i(s)+"小时"+i(c)+"分钟"+i(l)+"秒"}function i(e){return e=e.toString(),e.length<2?"0"+e:e}e.exports={formatTime:n}},function(e,t,n){"use strict";function i(){var e=new Date,t="eqs/serviceTime/get?time"+e.getTime();return r({type:"GET",url:o.SERVER_1+t})}var r=n(34).ajax,o=n(31);e.exports={getServiceTime:i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(196),c=n(197).formatTime,u=n(198).getServiceTime,l=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"renderTime",value:function(e){var n=this,i=(new Date).getTime(),r=this.compJson.properties,o=r.startTime,s=r.arriveTips,a=r.arriveTipsContent;u().then(function(e){return i=e.obj},function(){return i=(new Date).getTime()}).then(function(i){var r=setInterval(function(){i+=1e3,n.$li||clearInterval(r),i<=o?s?e.html(a||t.defaultArriveTipsContent):e.html(c(i,i)):e.html(c(i,o))},1e3)})}}]),t}(a);l.defaultArriveTipsContent="还没开始!",e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(112),u=n(201),l=n(31),p=n(30).url2https,h=p(l.YQC),f=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.iframePromise=null,o.iframe=null,$.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},compStyle:{self:!0},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},anim:!1,trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"eleShow",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this);var n=this.eqxPage,i=this.eqxPage.eqxScene,r=i.meta.id,o=n.pageJson.num;this.iframePromise.then(function(){e.iframe&&e.iframe.contentWindow.postMessage({sceneId:r,pageNum:o,eventType:"pageShow"},h)})}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,r=e.css,o=r.width,s=r.height,a=this.eqxPage,c=this.eqxPage.eqxScene,l=c.meta.id,p=a.pageJson.num,f=$(u.compDiv({id:t,type:n})),d=$(u.iframeDiv({sceneId:l,pageNum:p,content:i,width:o,height:s})),g=this.iframe=d.get(0);return this.iframePromise=new Promise(function(e){g.onload=function(){i&&g.contentWindow.postMessage({sceneId:l,pageNum:p,eventType:"adCode",content:i},h),e()}}),f.append(d),this.$li.css("zIndex",999),f}}]),t}(c);e.exports=f},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type;return'<div style="width: 100%; height: 100%" class="element" id="'+t+'" ctype="'+n+'"></div>'}function r(e){var t=e.sceneId,n=e.pageNum,i=e.content,r=e.width,a=e.height;return'<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="'+s(o.YQC)+"yqc/gg/gg.html?sceneId="+t+"&pageNum="+n+(i?"&content=true":"")+"&width="+r+"&height="+a+'"></iframe>'}var o=n(31),s=n(30).url2https;e.exports={compDiv:i,iframeDiv:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(65).BG_CROP_TYPE,s=n(32).mobilecheck,a=n(203),c=n(204),u=n(205),l=n(39).parse,p=n(89).qiniuZoom,h=n(89).loadImg,f=n(68).ANIMATION_TYPE;n(69);var d=function(){function e(t,n){i(this,e),this.compJson=t,this.eqxPage=n,this.eqxScene=n.eqxScene}return r(e,[{key:"updateBgHeight",value:function(e){this.$bgEle.css({height:e})}},{key:"updateBgOpacity",value:function(e){this.$bgEle&&this.$bgEle.css({opacity:e})}},{key:"create$bg",value:function(e,t,n){var i=this;this.$container=e;var r=this.compJson,f=r.id,d=r.css.opacity,g=r.properties,v=g.bgColor,m=g.croptype,y=g.imgSrc,b=g.pageLength,w="100%";if(v||y||(v="rgba(0,0,0,0)"),v){b&&(w=(b<10?486*b:b)-486+(s()?$(document).height():486)+"px");var x=$(l(c,{id:f,bgColor:v,height:w}));this.$bgEle=x,this.animate(),this.updateBgOpacity(d),this.$container.prepend(x),!s()&&this.updateBgHeight(this.eqxPage.getPageHeight())}if(y){var P=y;if(m===o["全屏背景模式"]?(w=(b<10?486*b:b)-486+(s()?$(document).height():486)+"px",P=p(P,320,w)):(w=s()?"100%":"486px",P=p(P,320,486)),/\.gif/.test(y))var _=h(P).then(function(e){var r,a={};if(t=s()?document.documentElement.clientWidth||document.body.clientWidth:t||i.eqxPage.getPageWidth(),n=s()?document.documentElement.clientHeight||document.body.clientHeight:n||i.eqxPage.getPageHeight(),m===o["全屏背景模式"]){var c=parseInt(w);e.width/e.height>=t/c?(a.width=e.width*(c/e.height),a.height=c,a.marginLeft=-(a.width-t)/2):(a.width=t,a.height=e.height*(t/e.width),a.marginTop=-(a.height-c)/2)}else e.width/e.height>=t/n?(a.width=e.width*(n/e.height),a.height=n,a.marginLeft=-(a.width-t)/2):(a.width=t,a.height=e.height*(t/e.width),a.marginTop=-(a.height-n)/2);return r=$(l(u,{id:f,src:P,height:w})),r.css(a),r});else _=Promise.resolve($(l(a,{id:f,src:P,height:w})));_.then(function(e){i.$bgEle=e,i.animate(),i.updateBgOpacity(d),i.$container.prepend(i.$bgEle),!/\.gif/.test(y)&&!s()&&i.updateBgHeight(i.eqxPage.getPageHeight())})}}},{key:"eleShow",value:function(){var e=this.compJson.properties.imgSrc;if(e&&/.gif/.test(e)&&this.$bgEle){var t=this.$bgEle.find("img")[0],n=t.src;setTimeout(function(){t.src=n},200)}}},{key:"animate",value:function(){var e=this.compJson.effect;e=void 0===e?{}:e;var t=e.type;if(this.$bgEle&&(t||0==t)&&t!=-1){var n=this.$bgEle.find(".eqx-bg");n.css({animation:"none"}),setTimeout(function(){if("scaleUp"===t)n.css({animation:"scaleUp 7s ease 1s","animation-fill-mode":"both"});else if("scaleDown"===t)n.css({animation:"scaleDown 7s ease 1s","animation-fill-mode":"both"});else{var e=f[t];n.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),n.css({"animation-name":e[0],"animation-duration":"1s","animation-timing-function":"liner","animation-delay":"1s","animation-iteration-count":1,"animation-direction":"both","animation-fill-mode":"both","animation-play-state":"initial"})}},0)}}},{key:"delete$bg",value:function(){this.$bgEle&&this.$bgEle.remove()}},{key:"update$bg",value:function(){}}]),e}();e.exports=d},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg eqx-bg-img" style="width: 100%; height: #{height};\n         background-image: url(\'#{src}\');\n         background-size: cover; background-position: 50% 50%;\n         background-origin: content-box"></div></div>'},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden;position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg" style="width: 100%; height: #{height}; background-color: #{bgColor}"></div></div>'},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><img id="wrapper-background#{id}" src="#{src}" style="z-index: -1; width: 100%; position: absolute"></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,i,r){return"url('"+l.FONT+"fonts/"+e+"_"+t+"/"+n+"."+i+"') format('"+r+"')"}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.publishTime;if(t&&!b[t]){var r=[s(n,i,t,"woff","woff"),s(n,i,t,"ttf","truetype")].join(", "),o="@font-face{font-family: '"+t+"'; src: "+r+";}";h(o),b[t]=!0}}function c(e){var t=e.id,n=e.type,i=e.css,r=e.content,o=void 0===r?"":r;return i.cursor="default",i.fontSize&&(i.fontSize=f(i.fontSize)),i.minHeight="inherit",$(v(d,{id:t,type:n,content:o})).css(i)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(207);var l=n(31),p=n(142),h=p.addGlobalStyle,f=p.addSuffixPx,d=n(208),g=n(112),v=n(39).parse,m=n(30).openUrl,y=n(78).bigDataXBData,b={defaultFont:!0,moren:!0,null:!0,undefined:!0},w=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{backgroundColor:!0,color:!1},compStyle:{backgroundColor:!0,color:!0}},link:!1}),o}return o(t,e),u(t,[{key:"updateContent",value:function(e){this.compJson.content=e;var t=this.create$context();this.$context.replaceWith(t),this.$context=t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,r=e.sceneId,o=e.publishTime,s=e.css,u=s.fontSize,l=s.width,p=s.height,h=s.writingMode,f=e.properties.anim,d=void 0===f?[]:f,g={fontSize:u,width:l,height:p,textRendering:"optimizeLegibility"};h&&(g["-webkit-writing-mode"]=h,g.writingMode=h);var v=c({id:t,type:n,content:i,css:g});return"view"==this.eqxScene.config.mode&&v.find("*").toArray().map(function(e){return $(e).css("font-family")}).forEach(function(e){return a({fontFamily:e,sceneId:r,publishTime:o})}),d[0]&&"typer"==d[0].type&&v.css({opacity:0}),v}},{key:"updateSize",value:function(e,t){this.$context.css(t)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.pageId;return"x"==t.type&&t.properties.url?$(e).click(function(){var e=t.properties.url;Number.isInteger(+e)?n.eqxScene.pageScroll.goToPageById(e):m(e,i)}):$(e).find("a[href]").toArray().forEach(function(e){var t=$(e).attr("href");$(e).removeAttr("href").css("cursor","pointer").on("touchstart mousedown",function(){n.eqxPage.eqxScene.config.disableBigData||(129810===i?y(window.scene.id,"4",{url:t},"3","技术支持尾页"):t.toString().indexOf("16060")>0?y(window.scene.id,"4",{url:t},"4","技术支持底标"):129811===i?y(window.scene.id,"4",{url:t},"5","品牌联合底标"):y(window.scene.id,"4",{url:t},"9","组件链接")),Number.isInteger(+t)?n.eqxScene.pageScroll.goToPageById(t):m(t,i)})}),!0}},{key:"addClassToLi",value:function(e){e.addClass("wsite-text")}},{key:"clearRichText",value:function(){this.compJson.content=this.$context.text(),this.compJson.css.writingMode="horizontal-tb",this.$context.html(this.compJson.content),this.$context.css("writingMode","horizontal-tb")}},{key:"settingGroupStyle",value:function(e){Object.assign(this.compJson.css,e),this.update$boxDiv(e)}},{key:"adjustHeight",value:function(){this.$li.css({height:"",width:""}),this.$context.css({height:"",width:""});var e=this.$boxDiv.height(),t=this.$boxDiv.width();this.update$li({height:e,width:t}),this.$context.css({height:e,width:t})}}]),t}(g);e.exports=w},function(e,t){},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_paragraph editable-text" style="cursor: default">#{content}</div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(35).$loadMLink,u=n(206),l=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"create$context",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create$context",this).call(this),n=window.scene,i=n.isTemplate,r=n.sourceId,o=n.id,s={sceneId:o};return i&&(s.isTemplate=i),r&&(s.sourceId=r),439885===this.compJson.id?e.click(function(){window.open("http://wapeqxiu.wqdian.cn/selected.html","_blank")}):c().then(function(){var t={mlink:"AK00",button:e.find("a.deepShareHref")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:s};console.log("mlink",t),new Mlink(t)}),e}}]),t}(u);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.imgSrc,n=e.reasonList,i=n.map(function(e,t){var n=e.id,i=e.name,r=(e.value,0==t?'class="active"':"");return'<li value="'+n+'" '+r+"><span>"+i+"</span></li>"}).join("");return $(f(p,{imgSrc:t,reasons:i}))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(211);var u=n(212).$getReportOptions,l=n(212).$postReport,p=n(213),h=n(206),f=n(39).parse,d=n(78).bigDataXBData,g=[],v=[{id:14258,name:"内容涉及违规",value:1},{id:14259,name:"诱导浏览者分享",value:2},{id:14260,name:"场景内容侵权",value:3},{id:14302,name:"内容夸大宣传",value:4},{id:14303,name:"违背易企秀用户协议",value:5},{id:14304,name:"其它原因",value:6}],m=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.show=!o.eqxPage.eqxScene.config.disableReport,o.$report=null,o}return o(t,e),a(t,[{key:"eleHide",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.hide()}},{key:"eleShow",value:function(){return this.show?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this):this}},{key:"hide",value:function(){this.$report&&this.$report.hide()}},{key:"addClassToLi",value:function(e){this.show||this.$li.css("display","none")}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;$(e).on("click",function(e){e.stopPropagation(),n.eqxPage.eqxScene.config.disableBigData||d(window.scene.id,4,null,6,"举报"),n.openReportModal()})}},{key:"openReportModal",value:function(){var e=this;if(this.$report)return this.$report.show();var t=this.compJson.sceneId;this.getSelectOption().then(function(i){var r=s({imgSrc:n(214),reasonList:i});e.$report=r;var o=e.$li.parent();r.appendTo(o),r.find("li").click(function(e){e.stopPropagation(),$(this).siblings().removeClass("active"),$(this).addClass("active")}),$("#reportSubmit").click(function(n){n.stopPropagation();var i=r.find("li.active").val();l({sceneId:t,type:i}).then(function(){return alert("举报成功！")}).finally(function(){return e.hide()})}),o.on("click",function(t){var n=r.find(t.target).length>0;n||e.hide()})})}},{key:"getSelectOption",value:function(){return new Promise(function(e,t){return g.length?e(g):u().then(function(n){g=n.list,g.length?e(g):t()}).catch(function(){return g=v,e(g)})})}}]),t}(h);e.exports=m},function(e,t){},function(e,t,n){"use strict";function i(){var e=s.SERVER_1+"eqs/class/expose_types";return o({type:"GET",url:e})}function r(e){var t=e.sceneId,n=e.type;return o({type:"POST",url:s.SERVER_0+"eqs/expose",data:{sceneId:t,type:n}})}var o=n(34).ajax,s=n(31);e.exports={$getReportOptions:i,$postReport:r}},function(e,t,n){e.exports='<div id="report0"><div id="report1"><div id="report2"><p><img src="'+n(214)+'" width="50px;"></p><h1>请选择举报原因</h1></div><div id="report3"><ul id="reportList">#{reasons}</ul></div><div id="report4"><a id="reportSubmit">提交举报</a></div></div></div>'},function(e,t,n){e.exports=n.p+"images/jubao_03-db9a15.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.marginTop,r=e.marginBottom,o=e.css,s=e.content,a=void 0===s?"":s;return o.cursor="default",o.minHeight="inherit",o.fontSize&&(o.fontSize=h(o.fontSize)),$(d(f,{id:t,type:n,content:a,marginTop:i,marginBottom:r})).css(o)}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.mode;if("view"===i&&window.scene&&t&&!v[t]){var r="@font-face{font-family:'"+t+"';src: url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".woff') format('woff'),url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".ttf') format('truetype');}";p(r),v[t]=!0}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(112),l=n(142),p=l.addGlobalStyle,h=l.addSuffixPx,f=n(216),d=n(39).parse,g=n(31),v={},m=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0},compStyle:{backgroundColor:!0}},link:!0,flexLine:"w,e,r"}),o}return o(t,e),c(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,r=e.sceneId,o=e.css,c=o.fontFamily,u=o.fontSize,l=o.writingMode,p=o.marginTop,h=void 0===p?"0px":p,f=o.marginBottom,d=void 0===f?"0px":f,g=e.properties.anim,v=void 0===g?[]:g,m=s({id:t,type:n,content:i,marginTop:h,marginBottom:d,css:{fontFamily:c,fontSize:u,writingMode:l}});return a({mode:this.eqxScene.config.mode,fontFamily:c,sceneId:r}),v[0]&&"typer"===v[0].type&&m.css({opacity:0}),m}},{key:"updateContent",value:function(e){this.$context.children().html(e)}},{key:"autoAdjustSize",value:function(){var e=this.$context,t=this.$context.children(),n=parseInt(e.css("padding")),i=t.height(),r={height:i+2*n};return this.update$li(r),{height:parseInt(this.$li.css("height")),width:parseInt(this.$li.css("width"))}}}]),t}(u);e.exports=m},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(218),u=n(112),l=n(78).bigDataXBData,p=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,i.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compStyle:{self:!1},commonStyle:{self:!1},advanceStyle:{self:!1}},trigger:!1,sound:!1,link:!1}),i.eqxScene.formManager.add(i),i}return s(t,e),a(t,[{key:"check",value:function(){var e=this.$select.val(),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&e===this.placeholder&&(t.success=!1,t.message="下拉框 '"+this.showText+"' 为必选项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.required,s=e.placeholderText,a=e.showText,u=e.choices||{},l=u.options||[];this.name="eq[f_"+t+"]",this.required=o,this.placeholder=s,this.showText=a,this.pageId=n;var p=c.$compDiv({id:t,type:r,required:o,showText:a}),h=this.$select=p.find("select"),f=p.find("#selectedSpan"+t),d=[{label:s}].concat(i(l)).map(function(e){var t=e.label;return c.$option({selected:t===a,label:t})});return h.append(d).change(function(){return f.text(h.val())}),p}},{key:"bindAfterRenderEvent",value:function(){var e=this;return this.$li.bind("touchstart mousedown",function(t){e.eqxPage.eqxScene.config.disableBigData||l(window.scene.id,4,null,29,"下拉列表"),t.stopPropagation()}),!0}}]),t}(u);e.exports=p},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.required,r=void 0===i?null:i,a=e.showText,c=$(s(o,{id:t,type:n,showText:a}));return c.find("#"+t).attr("required",r),c}function r(e){var t=e.selected,n=void 0===t?null:t,i=e.label;return $('<option value="'+i+'">'+i+"</option>").attr("selected",n)}var o=n(219);n(220);var s=n(39).parse;e.exports={$compDiv:i,$option:r}},function(e,t){e.exports='<div style="width:100%;height:100%" id="#{id}" ctype="#{type}"><button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" aria-expanded="false"><span class="filter-option pull-left" id="selectedSpan#{id}">#{showText}</span>&nbsp; <span class="bs-caret"><span class="caret"></span></span></button><select style="width:100%;height:100%" name="eq[f_#{id}]" ctype="#{type}"></select></div>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(32).mobilecheck,c=n(32).isAndroidPhone,u=n(112),l=n(222),p=n(39).parse;n(223);var h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{compFont:{self:!0,fontFamily:!1},compStyle:{backgroundColor:!0}},trigger:!1,link:!1}),o.eqxScene.formManager.add(o),o}return o(t,e),s(t,[{key:"check",value:function(){var e=this.$li.find("#"+this.id).val(),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message=this.placeholder+" 为必填项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,r=e.css,o=r.textDecoration,s=r.fontFamily,a=r.textAlign,c=r.lineHeight,u=e.properties,h=u.required,f=void 0===h?null:h,d=u.placeholder,g=void 0===d?null:d;return this.required=f,this.name="eq[f_"+t+"]",this.pageId=n,this.placeholder=g,this.id=t,$(p(l,{id:t,type:i})).attr({required:f,placeholder:g}).css({textDecoration:o,fontFamily:s,textAlign:a,lineHeight:c})}},{key:"setInputTitle",value:function(e){this.$context.attr("placeholder",e)}},{key:"bindAfterRenderEvent",value:function(e,n){var i=a();return t.touchStartMouseDownStopPropagation($(e).find("textarea")),this.onFocusBlurWhenFlip($(e).find("textarea")),i&&parseFloat(n.css.top)>=200&&c()&&$(e).find("textarea").click(function(e){setTimeout(function(){e.target.scrollIntoViewIfNeeded()},500)}),!0}},{key:"onFocusBlurWhenFlip",value:function(e){var t=this;e.focus(function(){t.eqxScene.pageScroll.pauseAutoFlip()}).blur(function(){$(document).trigger("startAutoFlip")})}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}}],[{key:"touchStartMouseDownStopPropagation",value:function(e){$(e).bind("touchstart mousedown",function(e){e.stopPropagation()})}}]),t}(u);e.exports=h},function(e,t){e.exports='<textarea id="#{id}" ctype="#{type}" class="element comp_input editable-text" maxlength="300" name="eq[f_#{id}]" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none">\n</textarea>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(221),u=n(124).isEmail,l=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"check",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"check",this).call(this);return e.success?(e.value&&!u(e.value)&&(e.success=!1,e.message=this.placeholder+" 格式不对"),e):e}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(221),u=n(124).isPhoneNumber,l=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"check",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"check",this).call(this);return e.success?(e.value&&!u(e.value)&&(e.success=!1,e.message=this.placeholder+" 格式不对"),e):e}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(227),c=n(112),u=n(78).bigDataXBData,l=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),o.eqxScene.formManager.add(o),o}return o(t,e),s(t,[{key:"check",value:function(){var e=this.$score.val(),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message="评分项: "+this.title+" 为必填项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,r=e.title,o=e.properties,s=o.required,c=o.icon,u=o.size,l=o.color,p=a.$compDiv({id:t,type:i,required:s,title:r});this.required=s,this.title=r,this.name="eq[f_"+t+"]",this.pageId=n;var h=[1,2,3,4,5].map(function(){return a.icon({icon:c,size:u})});return p.find(".rating-icons").append(h).css({color:l}),this.$score=p.find('input[type="hidden"]'),this.$titleDiv=p.find(".rating-title"),p}},{key:"update$iconColor",value:function(e){this.$context.find(".rating-icons").css({color:e})}},{key:"update$titleDiv",value:function(e){this.$titleDiv.text(e)}},{key:"updateAttrRequire",value:function(e){this.$context.attr("required",e)}},{key:"update$icon",value:function(e,t){this.$context.find("i").removeClass().addClass(e+" "+t+"-line")}},{key:"bindAfterRenderEvent",value:function(e,t){function n(e){o.each(function(t,n){$(n).removeClass(a).addClass(a+"-line"),t<=e&&$(n).removeClass(a+"-line").addClass(a)})}var i=this,r=$(e),o=r.find("i"),s=r.find("input"),a=t.properties.icon;return o.each(function(e,t){$(t).bind("click",function(){n(e),s.val(e+1)}).bind("mouseenter",function(){return n(e)})}),r.find(".rating-icons").bind("mouseleave",function(){return n(~~s.val()-1)}).bind("touchstart mousedown",function(e){i.eqxPage.eqxScene.config.disableBigData||u(window.scene.id,4,null,30,"评分"),e.stopPropagation()}),!0}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.title,r=e.required,a=void 0===r?null:r;return $(s(o,{id:t,type:n,title:i})).attr("required",a)}function r(e){var t=e.icon,n=e.size;return'<i class="'+n+" "+t+'-line"></i>'}n(228);var o=n(229),s=n(39).parse;e.exports={$compDiv:i,icon:r}},function(e,t){},function(e,t){e.exports='<div class="element comp_rating editable-text" style="width: 100%;height:100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><div class="rating-title">#{title}</div><div class="rating-icons"></div><input type="hidden" name="eq[f_#{id}]" value=""></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(231),u=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"$compDiv",value:function(e){return e.title+="(可多选)",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$compDiv",this).call(this,e)}},{key:"$option",value:function(e){return e.inputType="checkbox",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$option",this).call(this,e)}},{key:"updateTitle",value:function(){var e=this.compJson.title+"(可多选)";return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateTitle",this).call(this,e)}}]),t}(c);e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(232);var a=n(112),c=n(233),u=n(234),l=n(39).parse,p=n(78).bigDataXBData,h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!1},compFont:{self:!0,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),o.eqxScene.formManager.add(o),o}return o(t,e),s(t,[{key:"check",value:function(){var e=this.$options.find("input.option[name]").toArray().filter(function(e){return e.checked}).map(function(e){return $(e).val()}).filter(function(e){return!!e}).join(","),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message=this.title+" 为必填项"),t}},{key:"$compDiv",value:function(e){var t=e.id,n=e.required,i=void 0===n?null:n,r=e.title,o=e.type,s=e.css;return $(l(u,{id:t,title:r,type:o,css:s})).attr({required:i})}},{key:"$option",value:function(e){var t=e.compId,n=e.index,i=e.optionId,r=e.optionLabel,o=e.inputType,s=void 0===o?"radio":o,a=""+t+n;return $(l(c,{id:a,inputType:s,compId:t,optionId:i,optionLabel:r}))}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,r=e.properties.required,o=e.title,s=e.css,a=s.height,c=s.textDecoration;this.title=o,this.pageId=n,this.name="eq[f_"+t+"]",this.required=r;var u=this.$compDiv({id:t,required:r,title:o,type:i,css:{height:a,width:"100%"}});u.css("textDecoration",c);var l=this.$options=u.find(".options");return l.html(this.create$options()),u}},{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,i=t.choices,r=$("<div>");i.options.length-1;return i.options.forEach(function(t,i){var o=e.$option({compId:n,index:i,optionId:t.id,optionLabel:t.label});r.append(o)}),r.html()}},{key:"bindAfterRenderEvent",value:function(){var e=this;return this.$li.find("label").bind("touchstart mousedown",function(t){e.eqxPage.eqxScene.config.disableBigData||("radio"==$(e).find("input").attr("type")?p(window.scene.id,4,null,27,"单选"):p(window.scene.id,4,null,28,"多选")),t.stopPropagation()}),!0}},{key:"updateTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.compJson.title;this.$li.find(".radio-title").text(e)}},{key:"updateOptions",value:function(){var e=this.create$options();this.$options.html(e),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"updateOptionsLabel",value:function(){var e=this.$li.find(".option-label").find("span");this.compJson.choices.options.forEach(function(t,n){$(e[n]).text(t.label)})}},{key:"updateOptionsType",value:function(){var e="c"===this.compJson.type,t=e?"checkbox":"radio";this.$li.find("input").attr("type",t),e?this.updateTitle(this.compJson.title+"(可多选)"):this.updateTitle()}}]),t}(a);e.exports=h},function(e,t){},function(e,t){e.exports='<div class="option-group"><label class="option-label" for="#{id}"><input class="option" id="#{id}" type="#{inputType}" name="eq[f_#{compId}]" value="#{optionId}"> <span>#{optionLabel}</span></label></div>'},function(e,t){e.exports='<div class="element comp_radio editable-text" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]" style="width: 100%;height: 100%"><div class="radio-title">#{title}</div><div class="options"></div></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(236).$postForm,c=n(31),u=n(193),l=n(112),p=n(32).isWeixin,h=n(89).qiniuZoom,f=n(237),d=n(78).bigDataXBData,g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,r=e.properties,o=r.title,s=r.styleImgSrc,a=e.css,l=a.width,p=a.height,h=a.lineHeight,f=""+c.FILE+s;return h||this.$boxDiv.css({lineHeight:p+"px"}),this.pageId=n,this.$context=s?u.$img({id:t,type:i,src:f,css:{width:l,height:p,lineHeight:h}}):u.$btn({id:t,type:i,title:o,css:{width:l,height:p,lineHeight:h}}),this.$context}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=!0;$(e).click(function(){n.eqxPage.eqxScene.config.disableBigData||d(window.scene.id,4,null,1,"提交表单");var r=n.eqxScene.formManager,o=r.check(),s=t.sceneId,c=t.id,l=t.pageId,g=t.properties,v=g.layout,m=void 0===v?"rating-l":v,y=g.imgSrc,b=g.text,w=g.link,x=g.checkedLink,P=g.clickFarmer,_=g.endTime,k=new Promise(function(){});if(r.submited)k=Promise.reject({code:120505});else if(_&&_<Date.now())k=Promise.reject({code:120602});else if(P&&!p())k=Promise.reject({code:120504});else if(o.success)i&&(n.eqxScene.config.disableSubmit?k=Promise.resolve():(_&&(o.form.endTime=_),k=a(o.form,s,l,c)),i=!1);else if(o.pageId&&n.pageId!=o.pageId){var E=confirm(o.message+" 是否前往修改？");E&&n.eqxScene.pageScroll.goToPageById(o.pageId)}else k=Promise.reject({msg:o.message});k.then(function(){r.submited=!0,i=!0;var t=!!x,n=y?h(y,240):f;b=b?b.trim():"谢谢您的参与！",u.modal(e,m,t,n,b,w)}).catch(function(e){i=!0,120505===e.code||120603===e.code?window.alert("请不要重复提交！"):120504===e.code?window.alert("请到微信中打开使用！"):120602===e.code?window.alert("当前表单已截止提交！"):window.alert(e.msg)})})}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.styleImgSrc||(this.$context[0].innerText=e)}}]),t}(l);e.exports=g},function(e,t,n){"use strict";function i(e,t,n,i){return s({type:"POST",url:o.SERVER_1+"eqs/r/"+t+"/"+n+"/"+i,data:e})}function r(e,t,n){return s({type:"POST",url:o.SERVER_1+"eqs/promotion/order/data/r/"+e+"/"+n,data:t})}var o=n(31),s=n(34).ajax;e.exports={$postForm:i,$submitXiuForm:r}},function(e,t,n){e.exports=n.p+"images/ok-941be2.svg"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(32).isWeixin,u=n(112),l=n(239),p=n(240),h=n(39).parse,f=n(241),d=n(75).getWxJSSDK,g=n(78).bigDataXBData,v=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},sound:!1,link:!1}),o.wxJssdk=d(),o.soundKey=e.id.toString().substring(3),l[o.soundKey]=l[o.soundKey]||{},l[o.soundKey].wxpId=e.id,o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.css,r=i.width,o=i.height,s=i.lineHeight;
return $(h(p,{id:t,type:n})).css({width:r,height:o,lineHeight:s,display:"inline-block"})}},{key:"bindAfterRenderEvent",value:function(e){var t=this;return $(e).on("mousedown touchstart",function(e){t.eqxPage.eqxScene.config.disableBigData||g(window.scene.id,4,null,23,"互动微信声音"),window.event.stopPropagation(),e.preventDefault(),c()?t.soundPlay():t.playDefaultSound()}),!0}},{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height,lineHeight:n.height+"px"}),this.compJson.css.lineHeight=n.height+"px"}},{key:"soundPlay",value:function(){var e=this,t=this;if(l[this.soundKey].soundId){var n=l[this.soundKey].soundId;this.eqxScene.soundManager.onPlay({type:4}),this.wxJssdk.then(function(){wx.playVoice({localId:n})})}else this.compJson.serverId?this.wxJssdk.then(function(){wx.downloadVoice({serverId:e.compJson.serverId,success:function(n){var i=n.localId;e.eqxScene.soundManager.onPlay({type:4}),wx.playVoice({localId:i}),l[t.soundKey].soundId=i},error:function(){e.playDefaultSound()}})}):this.playDefaultSound();this.wxJssdk.then(function(){wx.onVoicePlayEnd({success:function(){e.eqxScene.soundManager.onEnd({type:4})}})})}},{key:"playDefaultSound",value:function(){var e=this;this.defaultSound||(this.defaultSound=document.createElement("audio"),this.defaultSound.src=n(241)),this.defaultSound.paused?(this.eqxScene.soundManager.onPlay({type:4}),this.defaultSound.play(),$(this.defaultSound).bind("ended",function(){e.eqxScene.soundManager.onEnd({type:4})})):(this.eqxScene.soundManager.onEnd({type:4}),this.defaultSound.pause())}}],[{key:"getDefaultSound",value:function(){return f}}]),t}(u);e.exports=v},function(e,t){"use strict";e.exports={}},function(e,t){e.exports='<a id="#{id}" class="element comp_wechat_play" ctype="#{type}"><span style="font-size:16px" class="eqf-nosy"></span></a>'},function(e,t,n){e.exports=n.p+"images/wexin_sound-d41d8c.mp3"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(243);var c=n(32).isWeixin,u=n(75).saveWxCompData,l=n(75).generateUserKey,p=n(112),h=n(239),f=n(75).getWxJSSDK,d=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.wxJssdk=f(),o.soundKey=e.id.toString().substring(3),h[o.soundKey]=h[o.soundKey]||{},h[o.soundKey].wxrId=e.id,$.extend(!0,o.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=document.createElement("a");return t.innerHTML=e.properties.title,t.id=e.id,t.setAttribute("class","element comp_wechat_hear"),t.setAttribute("ctype",e.type),$(t).css({width:e.css.width,height:e.css.height,display:"inline-block"}),$(t)}},{key:"bindAfterRenderEvent",value:function(e){var t=this;return $(e).on("mousedown touchstart",function(e){window.event.stopPropagation(),e.preventDefault(),c()?t.soundRecord():window.alert("请在微信中点我！")}).on("mouseup touchend",function(){c()&&t.calculateTime&&t.soundStopRecord()}),!0}},{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height,lineHeight:n.height+"px"}),this.compJson.css.lineHeight=n.height+"px"}},{key:"soundRecord",value:function(){var e=this;this.wxJssdk.then(function(){e.eqxScene.soundManager.stopAll(),wx.startRecord({success:function(){e.second=0,e.openPlayState()}}),e.$context.addClass("recording").text("松开 结束")})}},{key:"openPlayState",value:function(){var e=this,t="<div class='voice-panel'><span class='icon eqf-voice'></span><div class='voice-tip'>松开手指 停止录音</div></div>";this.voicePanel=$(t).prependTo(this.$li.parent()),this.calculateTime=setInterval(function(){e.second++,e.second>=50&&$(e.voicePanel).text(60-e.second),60===e.second&&e.soundStopRecord()},1e3)}},{key:"soundStopRecord",value:function(){var e=this;clearInterval(this.calculateTime),this.calculateTime=null,this.$context.removeClass("recording").text("按住 说话"),this.eqxScene.soundManager.restoreAll(),$(this.voicePanel).remove(),wx.stopRecord({success:function(t){e.second=0,e.wechatUploadVoice(t.localId)}})}},{key:"wechatUploadVoice",value:function(e){var t=this;h[this.soundKey].soundId=e,wx.uploadVoice({localId:e,isShowProgressTips:1,success:function(e){var n=e.serverId;l(),u(h[t.soundKey].wxpId,n)}})}}]),t}(p);e.exports=d},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(206),c=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},border:{self:!1},boxShadow:{self:!1}},trigger:!1,sound:!1,link:!1}),o}return o(t,e),s(t,[{key:"updateContent",value:function(e){this.compJson.content=e,this.$context.text(e)}}]),t}(a);e.exports=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(125),c=n(246),u=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{color:!1,opacity:!1,lineHeight:!1,paddingTop:!1},border:{self:!1},boxShadow:{self:!1}},trigger:!1}),o}return o(t,e),s(t,null,[{key:"getDefaultImg",value:function(){return c}}]),t}(a);e.exports=u},function(e,t,n){e.exports=n.p+"images/wx_default-454286.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){m.push(e),y||a()}function a(){if(y=!0,m.length>0){var e=m.shift();e().then(function(){a()})}else y=!1}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},l=n(32).isWeixin,p=n(125),h=n(75).saveWxCompData,f=n(75).generateUserKey,d=n(248),g=n(75).getWxJSSDK,v=n(78).bigDataXBData,m=[],y=!1,b=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{paddingTop:!1,lineHeight:!1}},link:!1,sound:!1,trigger:!1}),o.wxJssdk=g(),o}return o(t,e),c(t,[{key:"create$context",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create$context",this).call(this),n=this.compJson.serverId,i=this;return n&&l()&&(e.css("display","none"),s(function(){return new Promise(function(e){i.wxJssdk.then(function(){wx.downloadImage({serverId:n,success:function(t){i.responsiveImage(t.localId),e()}})})})})),e}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return l()?$(e).click(function(){n.eqxPage.eqxScene.config.disableBigData||v(window.scene.id,4,null,22,"互动微信照片"),n.uploadImage()}):$(e).click(function(){n.eqxPage.eqxScene.config.disableBigData||v(window.scene.id,4,null,22,"互动微信照片"),window.alert("请在微信中点击我")}),!0}},{key:"uploadImage",value:function(){var e=this;this.wxJssdk.then(function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var n=t.localIds;setTimeout(function(){wx.uploadImage({localId:n.toString(),isShowProgressTips:1,success:function(t){e.responsiveImage(n.toString());var i=t.serverId;f(),h(e.compJson.id,i)}})},100)}})})}},{key:"responsiveImage",value:function(e){var t=this;window.__wxjs_is_wkwebview?this.wxJssdk.then(function(){console.log("responsiveImage getLocalImgData start",e),wx.getLocalImgData({localId:e,fail:function(e){console.error("responsiveImage getLocalImgData Error",e)},success:function(e){console.log("responsiveImage getLocalImgData");var n=e.localData;t._responsiveImage(n)}})}):this._responsiveImage(e)}},{key:"_responsiveImage",value:function(e){var t=new Image;t.src=e;var n=this;t.onload=function(){var i,r,o=window.parseInt(n.compJson.css.width,10),s=window.parseInt(n.compJson.css.height,10);t.width/t.height>=o/s?(i=o,r=t.height*(o/t.width)):(r=s,i=t.width*(s/t.height)),n.$context.css({display:"block",width:i+"px",height:r+"px","margin-top":(window.parseInt(n.$li.height(),10)-r)/2+"px","margin-left":(window.parseInt(n.$li.width(),10)-i)/2+"px"}).attr("src",e)}}}],[{key:"getDefaultImg",value:function(){return d}}]),t}(p);e.exports=b},function(e,t,n){e.exports=n.p+"images/wechat_image-f8aa1a.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(250);var c=n(32).isWeixin,u=n(112),l=n(251).textVoteTpl,p=n(252).alertTpl,h=n(254).$isVoted,f=n(254).$postVote,d=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},compStyle:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1,flexLine:"e,w,r"}),o.ids=[],o}return o(t,e),s(t,[{key:"getMinWidth",value:function(){return 300}},{key:"updateSize",value:function(e,t){var n=this.getMinWidth();t.width&&t.width<e.width&&(!t.left||t.left===e.left)&&t.width<n&&this.$li.css({width:n}),t.left&&t.left>e.left&&t.width&&t.width<n&&this.$li.css({left:e.left,width:n});var i=this.$context.height();i!=t.height&&this.$li.height(i)}},{key:"update$li",value:function(e){var n=this.compJson.css,i=this.getMinWidth();e.width&&e.width<n.width&&(!e.left||e.left===n.left)&&e.width<i&&(e.width=i),e.left&&e.left>n.left&&e.width&&e.width<i&&(delete e.left,delete e.width),e.height&&(e.height=this.$context.height()),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update$li",this).call(this,e)}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,r=i.title,o=i.selectType,s=i.children,a=void 0===s?[]:s;o="single"==o?"单选":"多选";var c=l({id:t,type:n,title:r,selectType:o}),u=$(c);if(a.length){this.$options=$('<ul class="vote-view-options"></ul>');var h=a.map(function(e){var t=e.id,n=e.label;return $('<li class="vote-view-option" id="'+t+'"><span><em class="eqf-yes2" style="display: none"></em></span><div class="vote-view-text">'+n+"</div></li>")});this.$submit=$('<div class="vote-view-button">投票</div>'),this.$options.append(h),u.append(this.$options),u.append(this.$submit);var f=p();this.$tpl=$(f).appendTo(u)}return u}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;c()?this.isVoted().then(function(){n.$options.children().on("click",function(e){var i=$(e.currentTarget).find(".eqf-yes2");i.is(":hidden")?"single"==t.properties.selectType&&1==n.ids.length?(n.$options.find(".eqf-yes2").hide(),n.ids[0]=e.currentTarget.id,i.show()):"multi"==t.properties.selectType&&n.ids.length==t.properties.selectCount?n.alertTpl("最多选择"+t.properties.selectCount+"项"):(i.show(),n.ids.push(e.currentTarget.id)):(i.hide(),n.ids.splice(n.ids.indexOf(e.currentTarget.id),1))}),n.$submit.on("click",function(){var e=t.sceneId,i=t.pageId;n.ids.length?f(e,t.id,{pageId:i,data:JSON.stringify(n.ids)}).then(function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then(function(){n.showVoted(e.map),n.$submit.off(),n.$options.children().off()})}):n.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise(function(n,i){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:2}),window.setTimeout(function(){t.$tpl.css({opacity:0,zIndex:-2}),n()},2e3)})}},{key:"showVoted",value:function(e){var t=this;this.$options.find(".eqf-yes2").hide();var n=[],i=0;this.compJson.properties.children.forEach(function(r){var o=r.id;n.push({id:o,count:e[o]||0}),i+=e[o]||0,e[o]&&t.ids.push(o)}),n.forEach(function(e){$('<em style="float:right">'+e.count+"  ("+(e.count/i*100).toFixed(2)+" % 100)</em>").prependTo(t.$options.find("#"+e.id))}),this.$li.height(""),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"isVoted",value:function(){var e=this;return new Promise(function(t,n){var i=e.compJson.properties.endTime;if(i&&i<Date.now())e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),n();else if(c()){var r=e.compJson,o=r.sceneId,s=r.pageId,a=r.id;h(a,{sceneId:o,pageId:s}).then(function(i){i.obj?(e.showVoted(i.map),n()):t()})}else n()})}}]),t}(u);e.exports=d},function(e,t){},function(e,t){"use strict";function n(e){var t=e.id,n=e.type,i=e.title,r=e.selectType;return'<div  id="'+t+'" ctype="'+n+'" class="vote-view">\n        <div class="vote-view-title">'+i+"（"+r+"）</div>\n    </div>"}e.exports={textVoteTpl:n}},function(e,t,n){"use strict";function i(){return'<div class="vote-alert">\n              <span></span>\n            </div>'}n(253),e.exports={alertTpl:i}},function(e,t){},function(e,t,n){"use strict";function i(e,t){return s({type:"POST",url:o.SERVER_1+"eqs/vote/verify/"+e,data:t})}function r(e,t,n){return s({type:"POST",url:o.SERVER_1+"eqs/vote/"+e+"/"+t,data:n})}var o=n(31),s=n(34).ajax;e.exports={$isVoted:i,$postVote:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)};n(256);var c=n(31),u=n(35).$loadSliders,l=n(112),p=n(32).isWeixin,h=n(252).alertTpl,f=n(254).$isVoted,d=n(254).$postVote,g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.intervalObj={},o.descIds=[],$.extend(!0,o.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},compStyle:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1,flexLine:"r"}),o}return o(t,e),s(t,[{key:"updateSize",value:function(e,t){this.$slider.width(t.width),this.plugin.update()}},{key:"create$context",value:function(){var e=this;this.descArr=[];var t=this.compJson,n=t.id,i=t.type,r=t.css.width,o=t.properties;o=void 0===o?{}:o;var s=o.title,a=o.selectType,u=o.children,l=void 0===u?[]:u,p=o.bgColor;a="single"==a?"单选":"多选";var f=$('<div id="'+n+'" ctype="'+i+'" class="vote-img"></div>').css("background-color",p);if(l.length){var d=[];l.forEach(function(t){var n=t.src,i=t.desc,r=t.id;d.push($('<div style="background-image:url('+c.FILE+n+'); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>')),e.descArr.push($('<li id="'+r+'">'+i+"</li>"))}),f.append('<div class="vote-img-prev-title"><h1>'+s+'</h1><span class="vote-img-sing-double">('+a+")</span></div>"),this.$slider=$('<div class="slides" style="width: '+r+'px;"></div>');var g=$('<ul class="vote-img-desc"></ul>');g.append(this.descArr),this.$slider.append(d),this.initSlider(g),f.append(this.$slider),this.$submit=$('<a class="btn-main">提交</a>'),f.append(this.$submit);var v=h();this.$tpl=$(v).appendTo(f)}return f}},{key:"initSlider",value:function(e){var t=this;this.$em=$('<span class="eqf-glyphicon-ok"></span>'),u().then(function(){t.$slider.slidesjs({width:300,height:329,navigation:{active:!1},callback:{loaded:function(){e.children().css({display:"none"}),t.descArr[0].css({display:"inline-block"}),t.$slider.append(e),t.$slider.find(".slidesjs-container").append(t.$em)},start:function(n){n=n===t.descArr.length?0:n,e.children().css({display:"none"}),t.descArr[n].css({display:"inline-block"});var i=t.descArr[n].attr("id");t.descIds.indexOf(i)==-1?t.$em.removeClass("active"):t.$em.addClass("active")},complete:function(e){}}}),t.plugin=t.$slider.data("plugin_slidesjs")})}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return p()?this.isVoted().then(function(){n.$em.on("click",function(e){e.preventDefault(),e.stopPropagation();var i=n.descArr[n.plugin.data.current].attr("id");n.descIds.indexOf(i)==-1?"single"==t.properties.selectType&&1==n.descIds.length?(n.descIds[0]=i,n.$em.addClass("active")):"multi"==t.properties.selectType&&n.descIds.length==t.properties.selectCount?n.alertTpl("最多选择"+t.properties.selectCount+"项"):(n.descIds.push(i),n.$em.addClass("active")):(n.descIds.splice(n.descIds.indexOf(i),1),n.$em.removeClass("active"))}),n.$submit.on("click",function(e){e.preventDefault(),e.stopPropagation();var i=t.sceneId,r=t.pageId;n.descIds.length?d(i,t.id,{pageId:r,data:JSON.stringify(n.descIds)}).then(function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then(function(){n.showVoted(e.map),n.$em.off(),n.$submit.off()})}):n.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票"),!1}},{key:"showVoted",value:function(e){var t=this;this.descIds=[],this.$em.remove(),this.plugin.stop(),this.$slider.remove();var n={},i=[],r=0;this.compJson.properties.children.forEach(function(o){var s=o.id,a=o.desc;n[s]=a,i.push({id:s,count:e[s]||0}),r+=e[s]||0,e[s]&&t.descIds.push(s)});var o=$('<ul class="vote-img-ul"></ul>');i.forEach(function(e){o.append($("<li id = '"+e.id+'\' class="vote-img-li"><em style="float: right">'+e.count+" ("+(e.count/r*100).toFixed(2)+" %)</em> "+n[e.id]+"</li>"))}),o.insertBefore(this.$submit),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise(function(n,i){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:1001}),window.setTimeout(function(){t.$tpl.css({opacity:0,zIndex:-2}),n()},2e3)})}},{key:"isVoted",value:function(){var e=this;return new Promise(function(t,n){if(e.compJson.properties.endTime&&new Date(e.compJson.properties.endTime)<new Date&&e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),p()){var i=e.compJson,r=i.sceneId,o=i.pageId,s=i.id;f(s,{sceneId:r,pageId:o}).then(function(i){i.obj?(e.showVoted(i.map),n()):t()})}else n()})}},{key:"startPlay",value:function(){var e=this;this.playInterval=setInterval(function(){e.plugin&&e.plugin.next()},5e3)}},{key:"stopPlay",value:function(){this.playInterval&&(clearInterval(this.playInterval),this.playInterval=null)}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.stopPlay()}},{key:"eleShow",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),this.startPlay()}}]),t}(l);e.exports=g},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(258),n(259);var o=n(260),s=n(261),a=n(50).isRightArrow,c=function(){function e(t){i(this,e),this.$arrow=this.create$arrow(t)}return r(e,[{key:"create$arrow",value:function(e){return a(e)?$(s):$(o)}},{key:"updatePageMode",value:function(e){var t=this.create$arrow(e);this.$arrow&&(this.$arrow.replaceWith(t),this.$arrow=t,this.css&&this.updateCss(this.css))}},{key:"updateCss",value:function(e){this.css=e,this.$arrow.css(e)}},{key:"remove",value:function(){this.$arrow.remove()}}]),e}();e.exports=c},function(e,t){},function(e,t){},function(e,t){e.exports='<section class="u-arrow-bottom"><div class="pre-wrap-bottom"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>'},function(e,t){e.exports='<section class="u-arrow-right"><div class="pre-wrap-right"><div class="pre-box3"><div class="pre3"></div></div><div class="pre-box4"><div class="pre4"></div></div></div></section>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(116),c=n(118).RAW_EVENT,u=function(e){function t(e,n,o){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return s.removeEventListener(),s}return o(t,e),s(t,[{key:"addEventListener",value:function(){this.addShakeEventListener()}},{key:"removeEventListener",value:function(){this.removeShakeEventListener()}},{key:"removeShakeEventListener",value:function(){this.shakeHandler&&window.removeEventListener("devicemotion",this.shakeHandler,!1)}},{key:"addShakeEventListener",value:function(){if(window.DeviceMotionEvent){this.shakeAudio||(this.shakeAudio=document.createElement("audio"),this.shakeAudio.src=n(263));var e=this,t=4e3,i=0,r=0,o=0,s=0,a=100;this.shakeHandler=function(n){var c=n.accelerationIncludingGravity,u=c.x,l=c.y,p=c.z,h=(new Date).getTime();if(h-i>a){var f=parseInt(h-i);i=h;var d=Math.abs(u+l+p-r-o-s)/f*1e4;d>t?(a=2e3,e.shake()):a=100,r=u,o=l,s=p}},window.addEventListener("devicemotion",this.shakeHandler,!1)}}},{key:"shake",value:function(){var e=this,t=this.master.pageJson.id,n=this.triggerJson.sends.filter(function(e){return e.type===c.shake});this.shakeAudio.play(),setTimeout(function(){n.forEach(function(n){e.publish(t,n)})},500)}}]),t}(a);e.exports=u},function(e,t,n){e.exports=n.p+"images/wxShake-3a1ea8.mp3"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(63).COMP_TYPE,s=n(63).FORM_COMPS,a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.compJsonList=n,this.compNumMap={},Object.keys(o).forEach(function(e){return t.compNumMap[e]=0})}return r(e,[{key:"iterate",value:function(){var e=this;this.compJsonList.forEach(function(t){return e.compNumMap[t.type]+=1})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"hasComp",value:function(e){return!!this.compNumMap[e]}},{key:"hasMapComp",value:function(){return this.hasComp("m")}},{key:"hasChartComp",value:function(){return this.hasComp("t")}},{key:"hasCommentComp",value:function(){return this.hasComp("b")}},{key:"hasSubmitButtonComp",value:function(){return this.hasComp(6)||this.hasComp(601)}},{key:"hasFormComp",value:function(){var e=this,t=0;return s.forEach(function(n){return t+=e.compNumMap[n]}),!!t}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(31),s=n(30).resolveUrl,a=n(266),c=n(39).parse,u=n(89),l=n(32),p=n(267),h=n(268),f={none:0,Gravity:1,Parallax:2},d=function(){function e(t,n){i(this,e),this.compJson=t,this.eqxScene=n.eqxScene;var r=this.eqxScene.config;r.EqxGravity.disableGravityMotion?this.gravityMode=f.none:l.mobilecheck()?this.gravityMode=f.Gravity:this.gravityMode=f.Parallax,this.gravityPromise=null,this.gravity=null}return r(e,[{key:"updateBgHeight",value:function(e){this.$gravity.css({height:e})}},{key:"updateCss",value:function(e){this.$gravity.css(e)}},{key:"create$gravity",value:function(){var e=this,t=this.compJson,n=t.id,i=t.properties.imgSrc,r=t.css,l=r.top,d=r.left,g=r.width,v=r.height,m=this.eqxScene,y=m.width,b=m.height;if(i){var w=s(o.FILE,i),x=$(c(a,{id:n,src:w}));this.$gravity=x,this.gravityPromise=u.loadImg(w).then(function(){switch(x.find("img").css({transform:"translate3d("+d+"px,"+l+"px,0)",width:g,height:v}),e.gravityMode){case f.Gravity:e.gravity=new h(n,$(x.find("img")),l,d,y,b),e.gravity.init();break;case f.Parallax:p(x,{innerW:g,innerH:v,outerW:y,outerH:b})}})}return this.$gravity}},{key:"delete$gravity",value:function(){var e=this;this.gravityMode===f.Gravity&&this.gravityPromise&&this.gravityPromise.then(function(){e.gravity.destroy()}),this.$gravity&&this.$gravity.remove()}},{key:"update$gravity",value:function(){this.delete$gravity(),this.create$gravity()}}]),e}();e.exports=d},function(e,t){e.exports='<div id="wrapper-gravity#{id}" class="eqx-bg-img" style="position: absolute;z-index: 0;width: 100%;height:100%"><div class="layer" data-depth="0.5"><img src="#{src}" alt="" style="position:absolute"/></div></div>'},function(e,t,n){"use strict";function i(e,t){r.$loadParallax().then(function(){var n=t.innerW,i=t.innerH,r=t.outerW,o=t.outerH,s=t.scalarX,a=void 0===s?100:s,c=t.scalarY,u=void 0===c?100:c;console.log("重力感应 Parallax Starts!",t);var l={calibrateX:!0,calibrateY:!0,invertX:!0,invertY:!0,limitX:parseInt(n)-parseInt(r),limitY:parseInt(i)-parseInt(o),scalarX:a,scalarY:u,frictionX:1,frictionY:1,originX:.5,originY:.5};new Parallax(e[0],l)})}var r=n(35);e.exports=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i,r,o,s,a){n(this,e),this.id=t,this.bgHeight=0,this.bgWidth=0,this.offsetLeft=o,this.offsetTop=r,this.screenHeight=a,this.screenWidth=s,this.isFirst=!0,this.firstGamma=0,this.firstBeta=0,this.lastGama=0,this.lastBeta=0,this.targetLeft=0,this.targetTop=0,this.bg=i}return i(e,[{key:"init",value:function(){var e=this;e.targetLeft=e.nowLeft=e.offsetLeft,e.targetTop=e.nowTop=e.offsetTop,e.bindEvent(),e.requestAnimationFrame=e.requestAnimationFrame.bind(this),e.raf=requestAnimationFrame(e.requestAnimationFrame)}},{key:"bindEvent",value:function(){var e=this;$(window).on("deviceorientation."+e.id,function(t){
var n=t.originalEvent;n.g=n.gamma,n.b=n.beta,e.isFirst&&(e.bgHeight=e.bg.height(),e.bgWidth=e.bg.width(),e.nowGama=e.lastGama=e.firstGamma=n.g,e.nowBeta=e.lastBeta=e.firstBeta=n.b,e.isFirst=!1),(Math.abs(n.g-e.lastGama)>3||Math.abs(n.b-e.lastBeta)>3)&&(e.targetLeft=Math.round(e.offsetLeft+(e.firstGamma-n.g)*e.bgWidth/180),e.targetTop=Math.round(e.offsetTop+(n.b-e.firstBeta)*e.bgHeight/180),e.nowBeta=e.lastBeta=n.b,e.nowGama=e.lastGama=n.g,e.targetLeft>=0?e.targetLeft=0:e.targetLeft<e.screenWidth-e.bgWidth&&(e.targetLeft=e.screenWidth-e.bgWidth),e.targetTop>=0?e.targetTop=0:e.targetTop<e.screenHeight-e.bgHeight&&(e.targetTop=e.screenHeight-e.bgHeight))})}},{key:"requestAnimationFrame",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=0,t=0,n=this;n.isFirst||(e=.1*(n.targetLeft-n.nowLeft),t=.1*(n.targetTop-n.nowTop),n.nowLeft+=+e.toFixed(5),n.nowTop+=+t.toFixed(5),n.bg.css({transform:"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)","-ms-transform":"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)","-webkit-transform":"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)"})),n.raf=requestAnimationFrame(n.requestAnimationFrame)})},{key:"destroy",value:function(){window.cancelAnimationFrame(this.raf),$(window).off("deviceorientation."+this.id)}}]),e}();e.exports=r},function(e,t){"use strict";var n=[{name:"新文本",types:["7"]},{name:"文本",types:["2","x","298","299"]},{name:"微信昵称",types:["201"]},{name:"背景",types:["3"]},{name:"图片",types:["4"]},{name:"微信头像",types:["401"]},{name:"微信照片",types:["403"]},{name:"输入框",types:["5","501","502","503","504"]},{name:"提交按钮",types:["6","601"]},{name:"电话",types:["8"]},{name:"评分",types:["a"]},{name:"留言板",types:["b"]},{name:"复选框",types:["c"]},{name:"阅读量",types:["d"]},{name:"广告",types:["g"]},{name:"形状",types:["h"]},{name:"计数器",types:["i"]},{name:"链接",types:["l"]},{name:"地图",types:["m"]},{name:"随机图片",types:["n"]},{name:"图集",types:["p"]},{name:"单选框",types:["r"]},{name:"音效",types:["s"]},{name:"图表",types:["t"]},{name:"视频",types:["v"]},{name:"互动视频",types:["o"]},{name:"微信声音",types:["w01","w02"]},{name:"下拉列表",types:["z"]},{name:"计时",types:["e","f"]},{name:"投票",types:["j","k"]},{name:"重力感应",types:["q"]}];e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.elements;return t.some(function(e){var t=e.type,n=e.properties.croptype;return"EqxBackground"==l[t]&&n==p["全屏背景模式"]})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},u=n(83),l=n(63).COMP_TYPE,p=n(65).BG_CROP_TYPE,h=n(50).isBottomArrow,f=n(50).PAGE_MODE,d=n(257),g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=e.properties.longPage;return o.scrollMode=h(o.pageMode)?"NS":"WE",o.pLen=-(s-486),o}return o(t,e),a(t,[{key:"renderArrow",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderArrow",this).call(this),"WE"==this.scrollMode&&(this.bottomArrow=new d(f["上下翻页"]),this.$pageDiv.append(this.bottomArrow.$arrow))}},{key:"addEventListener",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListener",this).call(this),this.addTouchEvent()}},{key:"active",value:function(){this.resetLongPage();var e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"active",this).call(this);return e}},{key:"resetLongPage",value:function(){this.touchPos=0,this.doTransform(0,0)}},{key:"addTouchEvent",value:function(){function e(e){l.forEach(function(t){var n=t.compJson.css.top||"";n=parseInt(n.toString().replace("px",""));var i=t.compJson.properties.anim||[];i.length&&n>r&&n+e<r&&!t.displayed&&t.eleShow()})}var t=this,n=this;if("edit"!==this.eqxScene.config.mode){var i=this.pLen,r=this.height,o=this.$pageDiv,a=this.$ul,c=this.$editDiv,u=this.scrollMode,l=this.eqxCompList,p=this.$transformArea=s(this.pageJson)?c:a;this.touchPos=0;var h,f,d,g,v,m=0,y=0,b=0;o.on("mousedown touchstart",function(e){if(!n.hasCoverEffect){e.stopPropagation(),h=!0,d=0;var t=e.originalEvent,i=t.touches,r=i?t.changedTouches[0]:null;f=r?r.clientY:e.clientY,"WE"==u&&(g=r?r.clientX:e.clientX),y=n.touchPos,m=Date.now()}}),o.on("mousemove touchmove",function(r){var o=t.eqxScene.pageScroll;if(r.stopPropagation(),r.preventDefault(),h){var s=r.originalEvent,a=s.touches,c=a?a[0]:null;if(d=n.touchPos+(c?c.clientY:r.clientY)-f,"WE"===u&&(v=(c?c.clientX:r.clientX)-g,Math.abs(v)>Math.abs(d-n.touchPos)&&!t.forbidHandFlip))return v>0?o.goToPrePage():o.goToNextPage(),void(h=!1);if(d>0&&"NS"===u&&!t.forbidHandFlip)return o.goToPrePage(),h=!1,void(n.touchPos=0);if(d>i&&d<0)e(d),n.doTransform(d,0);else if(d<i-5&&"NS"===u&&!t.forbidHandFlip)return o.goToNextPage(),h=!1,void(n.touchPos=i);b=Date.now(),b-m>300&&(m=b,y=d)}}),o.on("mouseup touchend mouseleave",function(){if(h=!1,d>i&&d<0){var e=Date.now(),t=(d-y)/(e-m),r=Math.abs(t/.002),o=t*r/2;d+=o,d>0?(r*=(d-0)/o,d=0):d<i&&(r*=(d-i)/o,d=i),n.doTransform(d,r),n.touchPos=d,n.bottomArrow&&(n.bottomArrow.remove(),n.bottomArrow=null)}}),p.on("transitionend",function(t){t.target==p[0]&&e(d)})}}},{key:"doTransform",value:function(e,t){var n=this;if("edit"!==this.eqxScene.config.mode){var i=this.$transformArea,r=i.find(".alock");if(this.transformEle(i,"translate3d(0,"+e+"px,0)",t),r.length>0){var o,s,a=Array.prototype.slice.call(r);a.forEach(function(i){o=i.style.transform.replace(/translate3d\(.*?\)/g,""),s="none"===o&&o?"translate3d(0,"+-e+"px,0)":"translate3d(0,"+-e+"px,0) "+o,n.transformEle($(i),s,t)})}}}},{key:"transformEle",value:function(e,t,n){if("edit"!==this.eqxScene.config.mode){if(e.css({transition:"","-webkit-transition":""}),n){var i="transform "+n+"ms ease-out";e.css({transition:i,"-webkit-transition":"-webkit-"+i})}e.css({transform:t,"-webkit-transform":"-webkit-"+t})}}}]),t}(u);e.exports=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var i=l.TRACK+"p.gif?",r=encodeURIComponent,o=document,s={order_no:e,task_id:t,scene_id:n};i+="data="+r(JSON.stringify(s));var a=o.createElement("img");$(a).attr({src:i,width:0,height:0}),o.body.appendChild(a)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},u=n(83),l=n(31),p=n(78).bigDataXBData,h=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),a(t,[{key:"show",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this);var e=this.pageJson.properties.xb;if(e){if(!this.eqxScene.config.disableBigData){var n={task:e.taskId,order:e.orderId,promotionType:e.promotionType};p(this.pageJson.sceneId,"3",n)}s(e.orderId,e.taskId,this.pageJson.sceneId)}return this}}]),t}(u);e.exports=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(273);var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,e);var r=this.$progress=$('<div class="eqx-progress-bar"></div>'),o=this.$progressBar=$("<span></span>"),s=this.$slideNumber=$('<em class="page-tip"></em>');r.append([o,s]),this.lastText="",this.update(n,t)}return r(e,[{key:"update",value:function(e,t){var n=e+"/"+t;if(n!==this.lastText){this.lastText=n,this.$slideNumber.text(n);var i=parseFloat(this.$progress.width());i||(i=320),this.$progressBar.css("width",i*e/t)}}},{key:"hide",value:function(){this.$progress.hide()}},{key:"show",value:function(){this.$progress.show()}}]),e}();e.exports=o},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(32),o=r.mobilecheck,s=r.tabletCheck,a=n(50).isBottomArrow,c=n(50).isRightArrow,u=n(50).PAGE_MODE,l=function e(t){i(this,e),this.eqxScene=t;var n=t.meta.pageMode,r=t.meta.property,a=r.forbidHandFlip,c=r.triggerLoop,l=r.autoFlip,p=r.autoFlipTime,h=void 0===p?1:p;this._$app=t.$ele,this.left=this._$app.offset().left,this.top=this._$app.offset().top,this.pageList=t.eqxPageList,t.currentPage=t.currentPage||this.pageList[0],this.activePage=null,this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!1,this._isDisableFlipNextPage=!1,this._scrollMode=n,this.canHandleFlip=a,this.canAutoFlip=l,this.autoFlipInterval=h,this.autoFlipIntervalId=null,this.doScrollMoveFn=null,this.doScrollEndFn=null,this.canLoop=c,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,o()||s()||(this.windowWidth=t.width,this.windowHeight=t.height),this.startX=0,this.startY=0,this.moveDistanceX=0,this.moveDistanceY=0,this.isStart=!1,this.isNext=!1,this.isFirstTime=!0,this.flipEndTimeout=800,this.animTime=.4,this.scrolling=!1,this._scrollMode==u["翻书翻页"]&&($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)),this.$con=$("#con"),this.bindEventListeners(t)};e.exports=l;var p=l.prototype;p.startAudio=function(){this._$app.one("touchstart",function(){})},p.bindEventListeners=function(e){var t=this;this.setScrollMode(this._scrollMode),this.canAutoFlip&&this.startAutoFlip(),function(){var e=$(window);e.on("scroll.elasticity",function(e){e.preventDefault()}).on("touchmove.elasticity",function(e){e.preventDefault()}),e.delegate("img","mousemove",function(e){e.preventDefault()})}();var n=!1;this._$app.on("mousedown touchstart",function(e){t.canHandleFlip||(t.scrollStart(e),n=!0)}).on("mousemove touchmove",function(e){t.canHandleFlip||n&&t.scrollMove(e)}).on("mouseup touchend mouseleave",function(e){t.canHandleFlip||(t.scrollEnd(e),n=!1)}),$(this).on("flipend",function(e){t.eqxScene.updateProgressBar(t.activePage),setTimeout(function(){t.cssAnimation(t.eqxScene.currentPage.section.style,"Transition","none"),t.activePage.deactive().show(),t.eqxScene.currentPage.destroyed||t.eqxScene.currentPage.deactive().hide(),t.eqxScene.currentPage=t.activePage,t._isDisableFlipPage=!1,t._scrollMode!=u["放大翻页"]&&t._scrollMode!=u["交换翻页"]&&t._scrollMode!=u["掉落翻页"]||($(t.eqxScene.currentPage.section).css("z-index","1"),$(".main-page").attr("style",""))},t.flipEndTimeout)}),$(document).on("startAutoFlip",function(e){t.canAutoFlip&&t.startAutoFlip()})},p.cssAnimation=function(e,t,n){for(var i=["","webkit","moz"],r=0,s=i.length;r<s;r++){0!=r||o()||(t=t.substring(0,1).toLowerCase()+t.substring(1,t.length));var a=n instanceof Array?n[r]:n,c=i[r]+t;e[c]=a}},p.cssAnim=function(e,t,n){for(var i=["","-webkit-","-moz-"],r=0;r<i.length;r++)e.css(i[r]+t,n)},p.getCoord=function(e){return e&&e.type.includes("mouse")?{x:e.pageX-this.left,y:e.pageY-this.top}:e&&e.type.includes("touch")?{x:e.touches?e.touches[0].pageX:e.originalEvent.touches[0].pageX,y:e.touches?e.touches[0].pageY:e.originalEvent.touches[0].pageY}:void 0},p.getMoveInit=function(e,t,n,i){var r=this.activePage;if(r&&r.deactive(),r&&r.section.classList.contains("main-page")){r.active();var o=e?"-":"";r.section.style.webkitTransition="none",r.section.style.mozTransition="none",r.section.style.transition="none",r.section.style.webkitTransform=n+"("+o+i+"px)",r.section.style.mozTransform=n+"("+o+i+"px)",r.section.style.transform=n+"("+o+i+"px)",$(this.activePage.section).trigger("active"),t&&this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin",t)}else this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform",n+"(0px) scale(1)")},p.setCssWhenMove=function(e,t,n,i,r){if(this.activePage){var o=e?"-":"";this.cssAnim($(this.activePage.section),"transform",t+"("+o+(n-Math.abs(i))+"px)"),r!=u["上下惯性翻页"]&&r!=u["左右惯性翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale("+((n-Math.abs(i))/this.windowHeight).toFixed(3)+")"),r!=u["左右连续翻页"]&&r!=u["上下连续翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform",t+"("+i+"px)")}},p.setCssWhenEnd=function(e,t,n,i){if(i==u["上下惯性翻页"]||i==u["左右惯性翻页"])this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(0.2)");else if(i==u["左右连续翻页"]||i==u["上下连续翻页"]){var r=t>0?"":"-";this.cssAnim($(this.eqxScene.currentPage.section),"transform",e+"("+r+n+"px)")}else this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(1)");this.cssAnim($(this.activePage.section),"transform",e+"(0px)")},p.cancelFlip=function(){var e=this;this._isDisableFlipPage=!0;var t;this.setScrollFn(),this._scrollMode!=u["上下翻页"]&&this._scrollMode!=u["上下惯性翻页"]&&this._scrollMode!=u["立体翻页"]&&this._scrollMode!=u["交换翻页"]&&this._scrollMode!=u["上下连续翻页"]&&this._scrollMode!=u["掉落翻页"]||(t=this.moveDistanceY>0?-this.windowHeight:this.windowHeight,this.cssAnim($(this.activePage.section),"transform","translateY("+t+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY(0) scale(1)")),this._scrollMode!=u["左右惯性翻页"]&&this._scrollMode!=u["左右连续翻页"]||(t=this.moveDistanceX>0?-this.windowWidth:this.windowWidth,this.cssAnim($(this.activePage.section),"transform","translateX("+t+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateX(0) scale(1)")),setTimeout(function(){$(e.eqxScene.currentPage.section).attr("style",""),$(e.activePage.section).attr("style",""),e.activePage.deactive(),e._isDisableFlipPage=!1},500)},p.scrollStart=function(e){if(!this._isDisableFlipPage&&(this.scrolling||(this.activePage=null),this.eqxScene.currentPage)){this.isStart=!0,this.isNext=!1,this.isFirstTime=!0,this.moveDistanceX=0,this.moveDistanceY=0;var t=this.getCoord(e);t&&(this.startX=t.x,this.startY=t.y),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this._scrollMode==u["掉落翻页"]&&(this.eqxScene.currentPage.section.style.zIndex=3)}},p.enableScroll=function(){return this.isStart&&this.pageList.length>1&&!this.eqxScene.currentPage.hasCoverEffect},p.scrollMove=function(e){if(this.enableScroll()){var t=this.getCoord(e);t&&(this.moveDistanceX=t.x-this.startX,this.moveDistanceY=t.y-this.startY),this.setScrollFn(),this.doScrollMoveFn()}},p.scrollEnd=function(e){this.scrolling=!1,this.isStart&&(this.isStart=!1,this.activePage&&(this._isDisableFlipPage=!0,this.setScrollEndAnim(),this.setScrollFn(),this.doScrollEndFn()))},p.setScrollFn=function(){var e="";switch(this._scrollMode){case u["上下翻页"]:case u["上下惯性翻页"]:e="vertical";break;case u["左右翻页"]:case u["左右惯性翻页"]:e="horizontal";break;case u["左右连续翻页"]:e="single";break;case u["立体翻页"]:e="cube";break;case u["卡片翻页"]:e="card";break;case u["放大翻页"]:e="scale";break;case u["交换翻页"]:e="swap";break;case u["上下连续翻页"]:e="verticalSingle";break;case u["掉落翻页"]:e="fall";break;case u["淡入翻页"]:e="fadeIn";break;case u["翻书翻页"]:e="book";break;case u["上下推出翻页"]:e="push";break;case u["左右推出翻页"]:e="push";break;case u["折叠翻页"]:e="flip";break;default:e="vertical"}var t=n(275)("./"+e);this.doScrollMoveFn=t[e+"Move"].bind(this),this.doScrollEndFn=t[e+"End"].bind(this)},p.getCurAndActive=function(e){if(this.scrolling)return this.activePage;var t=null,n=this.pageList.indexOf(this.eqxScene.currentPage),i=this.pageList.length-1;return e?n>0?t=this.pageList[n-1]:this.canLoop&&(t=this.pageList[i]):n<i?t=this.pageList[n+1]:this.canLoop&&(t=this.pageList[0]),t},p.setTransition=function(e,t,n){e.style.webkitTransition="-webkit-transform "+t+"s "+n,e.style.mozTransition="-moz-transform "+t+"s "+n,e.style.transition="transform "+t+"s "+n},p.setScrollEndAnim=function(){var e;this._scrollMode!=u["立体翻页"]&&this._scrollMode!=u["卡片翻页"]||(e="cubic-bezier(0,0,0.99,1)"),e=this._scrollMode==u["掉落翻页"]?"cubic-bezier(.17,.67,.87,.13)":"linear",this._scrollMode!=u["翻书翻页"]&&(this.setTransition(this.eqxScene.currentPage.section,this.animTime,e),this.setTransition(this.activePage.section,this.animTime,e))},p.setScrollMode=function(e){_DEBUG_,this._scrollMode!==e&&(this._scrollMode=e,this._scrollMode==u["放大翻页"]||this._scrollMode==u["交换翻页"]?(this.animTime=.7,this.flipEndTimeout=800):this._scrollMode==u["翻书翻页"]?($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)):this.$turn&&($(this.eqxScene.currentPage.section).unwrap('<div class="flip-mask"></div>'),this.$turn.remove(),this.$turn=null))},p.startAutoFlip=function(){var e=this;this.pauseAutoFlip(),this.canAutoFlip&&(this.autoFlipIntervalId=setInterval(function(){e.goToNextPage()},1e3*this.autoFlipInterval))},p.pauseAutoFlip=function(){this.autoFlipIntervalId&&clearInterval(this.autoFlipIntervalId)},p.setAutoFlipTime=function(e){this.autoFlipInterval=e},p.setAutoFlip=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.canAutoFlip=!!e},p.goToPageById=function(e){if(!this._isDisableFlipPage){this.scrolling=!0;var t,n=this.pageList.find(function(t){return e==t.pageJson.id});if(n){t=n.pageJson.num;var i=this.eqxScene.currentPage.pageJson.num,r=this.pageList[t-1];r&&i!=t&&(this.activePage=r,i>t?this.goToPrePage():i<t&&this.goToNextPage())}}},p.goToPageByIndex=function(e){var t=this.pageList[e];t&&this.goToPageById(t.pageJson.id)},p.goToLastPage=function(){this.goToPageByIndex(this.pageList.length-1)},p.goToPrePage=function(){var e=this;this._scrollMode==u["翻书翻页"]&&(this.startX=0,this.startY=0);var t=0;this.scrollStart();var n=setInterval(function(){t+=2,a(e._scrollMode)&&(e.moveDistanceY=t),c(e._scrollMode)&&(e.moveDistanceX=t),e.scrollMove(),t>=21&&(clearInterval(n),e.scrollEnd())},2)},p.goToNextPage=function(){var e=this;this._scrollMode==u["翻书翻页"]&&(this.startX=this._$app.width(),this.startY=this._$app.height());var t=0;this.scrollStart();var n=setInterval(function(){t-=2,a(e._scrollMode)&&(e.moveDistanceY=t),c(e._scrollMode)&&(e.moveDistanceX=t),e.scrollMove(),t<=-21&&(clearInterval(n),e.scrollEnd(),e.canLoop||e.activePage||clearInterval(e.autoFlipIntervalId))},2)},p.setHandleFlip=function(e){this.canHandleFlip=e},p.disableHandleFlip=function(){this.setHandleFlip(!1)},p.enableHandleFlip=function(){this.setHandleFlip(!0)},p.setLoop=function(e){this.canLoop=e,this.canAutoFlip&&this.startAutoFlip()}},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./PageScroll":274,"./PageScroll.js":274,"./book":276,"./book.js":276,"./book.scss":277,"./card":278,"./card.js":278,"./cube":279,"./cube.js":279,"./fadeIn":280,"./fadeIn.js":280,"./fall":281,"./fall.js":281,"./flip":282,"./flip.js":282,"./horizontal":283,"./horizontal.js":283,"./push":284,"./push.js":284,"./scale":285,"./scale.js":285,"./single":286,"./single.js":286,"./swap":287,"./swap.js":287,"./vertical":288,"./vertical.js":288,"./verticalSingle":289,"./verticalSingle.js":289};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=275},function(e,t,n){"use strict";function i(){if(v=this,this.$flipMask=this.eqxScene.currentPage.$section.parent(),this.moveDistanceX<0?r():this.moveDistanceX>0&&o(),this.activePage){var e={x:v.moveDistanceX+v.startX,y:v.moveDistanceY+v.startY};s(e)}}function r(){v.isFirstTime&&(v.isFirstTime=!1,g&&d?v.isRightCenterDragging=!0:v.startY>=v._$app.height()/2?v.isBottomRightDragging=!0:v.startY<v._$app.height()/2&&(v.isTopRightDragging=!0),v.activePage=v.getCurAndActive(!1),l(),v.activePage&&(v.$flipMask.css({zIndex:100,display:"block"}),v.activePage.active(),v.isBottomRightDragging?(v.eqxScene.currentPage.$section.css({top:v.$flipMask.height()-v._$app.height()+"px",left:"0px"}),v.$flipMask.css({top:"-"+(v.$flipMask.height()-v._$app.height())+"px"}),v.$turn.css({transformOrigin:"0% 100% 0px",left:v._$app.width()+"px",top:v._$app.height()+"px"})):v.isTopRightDragging?v.$turn.css({top:"0px",left:v._$app.width()+"px",transformOrigin:"0% 0% 0px"}):v.isRightCenterDragging&&(v.eqxScene.currentPage.$section.css({top:"0px",left:$(this).width()-v._$app.width()+"px"}),v.$flipMask.css({top:"0px",left:-(v.$flipMask.width()-v._$app.width())+"px"}),v.$turn.css({transformOrigin:"0% 100% 0px",left:v._$app.width()+"px",top:"0px"}))))}function o(){v.isFirstTime&&(v.isFirstTime=!1,v.isLeftCenterDragging=!0,v.activePage=v.getCurAndActive(!0),l(),v.activePage&&(v.$flipMask.css({display:"block"}),v.activePage.active(),v.$turn.css({top:"0px",left:"0px",transformOrigin:"0% 0% 0px"})))}function s(e){var t=e,n=0,i=0,r=0,o=0,s=0,c=0,u=0,l=0,p=0,h=0,f=0,d=0,g=0,m=0,y=0,b=0;v.isBottomRightDragging||v.isTopRightDragging?(n=v._$app.width()-t.x,v.isBottomRightDragging?i=Math.abs(v._$app.height()-t.y):v.isTopRightDragging&&(i=t.y),r=i/n,o=i/Math.sqrt(n*n+i*i),s=Math.sqrt(1-o*o),c=Math.sqrt(n*n+i*i)/2,u=c*r,l=Math.sqrt(u*u+c*c),p=l/r,h=180*Math.atan(r)/Math.PI>0?180*Math.atan(r)/Math.PI:0,f=(v._$app.width()-l)*s,d=(v._$app.width()-l)*o*s,g=(v._$app.width()-l)*(1-o*o),f>=1&&(v.isBottomRightDragging?(h>1?v.$turn.css({width:l+"px",height:p+"px",backgroundColor:"#ff0000",background:"-webkit-linear-gradient("+(180-h)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(l-3)+"px) translateY(-"+(p-3)+"px) rotate("+2*h+"deg) scaleX(-1)"}):a(v.$turn,t,v._$app.width(),v._$app.height()),b="0% 100% 0px",m="rotate(-"+(90-h)+"deg) translateY("+f+"px)",y="rotate("+(90-h)+"deg) translateY(-"+d+"px) translateX(-"+g+"px)"):v.isTopRightDragging&&(h>1?v.$turn.css({width:l+"px",height:p+"px",backgroundColor:"#000",background:"-webkit-linear-gradient(-"+(180-h)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(l-2)+"px) rotate(-"+2*h+"deg) scaleX(-1)"}):a(v.$turn,t,v._$app.width(),v._$app.height()),b="0% 0% 0px",m="rotate("+(90-h)+"deg) translateY(-"+f+"px)",y="rotate(-"+(90-h)+"deg) translateY("+d+"px) translateX(-"+g+"px)"),v.$flipMask.css({zIndex:100,transformOrigin:b,transform:m}),v.eqxScene.currentPage.$section.css({transformOrigin:b,transform:y}))):v.isRightCenterDragging?(v.$turn.css({width:(v._$app.width()-t.x)/2+"px",height:v._$app.height()+"px",left:t.x+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}),v.$flipMask.css({transformOrigin:"0% 50% 0px",left:0,transform:"translateX(-"+(v.$flipMask.width()-t.x)+"px)"}),v.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX("+(v.$flipMask.width()-t.x)+"px)"})):v.isLeftCenterDragging&&(v.$flipMask.css({zIndex:100,transformOrigin:"0% 50% 0px",transform:"translateX("+t.x+"px)"}),v.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX(-"+t.x+"px)"}),v.$turn.css({width:v._$app.width()-t.x+"px",height:v._$app.height()+"px",left:-(v._$app.width()-2*t.x)+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}))}function a(e,t,n,i){e.css({width:(n-t.x+6)/2+"px",height:i+"px",top:0,left:t.x+2+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",transform:"",border:0})}function c(){v=this;var e,t,n,i=16,r=v.moveDistanceX+v.startX,o=v.moveDistanceY+v.startY;v.isBottomRightDragging?(e=-v._$app.width(),t=v._$app.height(),n=setInterval(function(){r=r-e<=i?r:r-i,o=t-o<=i?o:o+i,s({x:r,y:o}),r-e<=i&&o-t<=i&&(clearInterval(n),u())},16)):v.isTopRightDragging?(e=-v._$app.width(),t=0,n=setInterval(function(){r=r-e<=i?r:r-i,o=o-t<=i?o:o-i,s({x:r,y:o}),r-e<=i&&o-t<=i&&(clearInterval(n),u())},16)):v.isRightCenterDragging?(i=5,e=-v._$app.width(),n=setInterval(function(){r=r-e<=i?r:r-i,s({x:r,y:o}),r-e<=i&&(clearInterval(n),u())},16)):v.isLeftCenterDragging&&(i=3,e=v._$app.width(),t=0,n=setInterval(function(){r=e-r<=i?r:r+i,s({x:r,y:o}),e-r<=i&&(clearInterval(n),u())},16))}function u(){v.isBottomRightDragging=null,delete v.isBottomRightDragging,v.isTopRightDragging=null,delete v.isTopRightDragging,v.isRightCenterDragging=null,delete v.isRightCenterDragging,v.isLeftCenterDragging=null,delete v.isLeftCenterDragging,v.$flipMask=null,delete v.$flipMask,v.eqxScene.currentPage.$section.unwrap(),v.eqxScene.currentPage.$section.css({transform:"",top:0,left:0}),v.$turn.css({width:0,height:0,top:0,left:0,transform:"",background:"none"}),$(v).trigger("flipend")}function l(){v.activePage&&$(v.activePage.section).css({width:v._$app.width(),height:v._$app.height()}).wrap('<div class="flip-mask"></div>')}var p=n(32),h=p.mobilecheck,f=p.isAndroid,d=f(),g=h();n(277),e.exports={bookMove:i,bookEnd:c};var v},function(e,t){},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d"),this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)")),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) "))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) ")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage.section=null)}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"):this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={cardMove:n,cardEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css("zIndex",1),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-"+this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(-(this.windowHeight/2)+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2-this.moveDistanceY/2)+"px)"))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg) translateY(-"+this.windowHeight/2+"px) translateZ(-"+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),$(this.activePage.section).css("zIndex",0),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+-this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+-this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(this.windowHeight/2+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2+this.moveDistanceY/2)+"px)")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage=null)}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-90deg) translateY("+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"zIndex","0"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg) translateY(0px) translateZ(0px)"),this.cssAnimation(this.activePage.section.style,"zIndex","2"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={
cubeMove:n,cubeEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!0),this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active()))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!1),this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active()))}}function i(){var e=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)?setTimeout(function(){$(e).trigger("flipend")},1600):(this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={fadeInMove:n,fadeInEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"))}this.activePage&&(this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),this.eqxScene.currentPage.section.style.opacity=((this.windowHeight-Math.abs(this.moveDistanceY))/this.windowHeight).toFixed(1))}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY("+this.windowHeight+"px) rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),$(this.eqxScene.currentPage.section).css({opacity:.5}),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={fallMove:n,fallEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.moveDistanceY>0?(this.activePage=this.getCurAndActive(!0),r.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)")):(this.activePage=this.getCurAndActive(!1),r.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)"))),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "))}}function i(){var e=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(70deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","rotateX(0deg)")},400)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-70deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","rotateX(0deg)")},400)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function r(){this.cssAnimation(this.activePage.section.style,"TransformOrigin","center"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","center")}e.exports={flipMove:n,flipEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.getMoveInit(!0,"center right","translateX",this.windowWidth)):this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.getMoveInit(!1,"center left","translateX",this.windowWidth)):this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}function i(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={horizontalMove:n,horizontalEnd:i}},function(e,t){"use strict";function n(){this._isDisableFlipNextPage||(this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),14===this._scrollMode?this.moveDistanceY>0?(this.activePage=this.getCurAndActive(!0),r.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")):(this.activePage=this.getCurAndActive(!1),r.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")):this.moveDistanceX>0?(this.activePage=this.getCurAndActive(!0),r.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)")):(this.activePage=this.getCurAndActive(!1),r.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)"))),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),14===this._scrollMode?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY("+this.moveDistanceX/this.windowHeight*90+"deg) ")))}function i(){var e=this;14===this._scrollMode?Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip()):Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function r(e){e?14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","top")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","right"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","left")):14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","bottom")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","left"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","right"))}e.exports={pushMove:n,pushEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0)}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0)}var e=Math.abs(this.moveDistanceY)/this.windowHeight*1.3;this.activePage.section.style.opacity=e.toFixed(1),e.toFixed(3)<=1&&this.cssAnim($(this.activePage.section),"transform","scale("+e.toFixed(3)+")")}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.activePage.section),"transform","scale(1)"),this.activePage.section.style.opacity=1,$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={scaleMove:n,scaleEnd:i}},function(e,t,n){"use strict";function i(){var e=o();if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.windowWidth=e?window.innerWidth:$(".nr").width(),this.getMoveInit(!0,"","translateX",this.windowWidth)):this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.windowWidth=e?window.innerWidth:$(".nr").width(),this.getMoveInit(!1,"","translateX",this.windowWidth)):this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}function r(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var o=n(32).mobilecheck;e.exports={singleMove:i,singleEnd:r}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"):this.activePage&&(this.moveDistanceX<=this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4-this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ(-"+(this.moveDistanceX-this.windowWidth/4)+"px)"))}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX("+(this.windowWidth+300)+"px) translateZ(-"+this.windowHeight+"px) rotateY(-45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"):this.activePage&&(this.moveDistanceX>=-this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4+this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ("+(this.moveDistanceX+this.windowWidth/4)+"px)"),this.cssAnim($(this.activePage.section),"Transform","scale("+(.3-(this.moveDistanceX+this.windowWidth/4)/this.windowWidth).toFixed(3)+") translateX("+(-this.moveDistanceX-this.windowWidth/4+200)+"px) translateZ("+(-this.moveDistanceX-3*this.windowWidth/4)+"px) rotateY(-"+(45+(this.moveDistanceX+this.windowWidth/4)/this.windowWidth*45)+"deg)"))}}function i(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.eqxScene.currentPage.section.style.webkitTransformOrigin="left",this.eqxScene.currentPage.section.style.webkitTransform="translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.eqxScene.currentPage.section.style.zIndex="0",this.activePage.section.style.zIndex="1"):(this.eqxScene.currentPage.section.style.webkitTransformOrigin="right",this.eqxScene.currentPage.section.style.webkitTransform="translateX("+this.windowWidth+"px) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.activePage.section.style.zIndex="1",this.eqxScene.currentPage.section.style.zIndex="0"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={swapMove:n,swapEnd:i}},function(e,t){"use strict";function n(){var e=this,t=Math.abs(e.moveDistanceY)<=Math.abs(e.moveDistanceX)||0==e.moveDistanceY;if(!t)if(e.moveDistanceY>0){if(e._isDisableFlipPrevPage)return;e.isNext||e.isFirstTime?(e.isNext=!1,e.isFirstTime=!1,this.activePage=e.getCurAndActive(!0),e.getMoveInit(!0,"bottom center","translateY",e.windowHeight)):e.setCssWhenMove(!0,"translateY",e.windowHeight,e.moveDistanceY,e._scrollMode)}else if(e.moveDistanceY<0){if(e._isDisableFlipNextPage)return;!e.isNext||e.isFirstTime?(e.isNext=!0,e.isFirstTime=!1,this.activePage=e.getCurAndActive(!1),e.getMoveInit(!1,"top center","translateY",e.windowHeight)):e.setCssWhenMove(!1,"translateY",e.windowHeight,e.moveDistanceY,e._scrollMode)}}function i(){var e=this;Math.abs(e.moveDistanceY)>Math.abs(e.moveDistanceX)&&Math.abs(e.moveDistanceY)>20?(e.setCssWhenEnd("translateY",e.moveDistanceY,e.windowHeight,e._scrollMode),$(this).trigger("flipend")):(e._isDisableFlipPage=!1,e.cancelFlip())}e.exports={verticalMove:n,verticalEnd:i}},function(e,t,n){"use strict";function i(){var e=o();if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.windowHeight=e?window.innerHeight:$(".nr").height(),this.getMoveInit(!0,"","translateY",this.windowHeight)):this.setCssWhenMove(!0,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.windowHeight=e?window.innerHeight:$(".nr").height(),this.getMoveInit(!1,"","translateY",this.windowHeight)):this.setCssWhenMove(!1,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}}function r(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.setCssWhenEnd("translateY",this.moveDistanceY,this.windowHeight,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var o=n(32).mobilecheck;e.exports={verticalSingleMove:i,verticalSingleEnd:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(291);var o=n(292),s=n(293),a=n(114),c=function(){function e(t,n){i(this,e),this.bgAudioJson=t,this.eqxScene=n,this.$bgmBtn=$(o),this.bgAudioJson&&(this.soundAgent=new s(this,this.eqxScene.soundManager))}return r(e,[{key:"updateJson",value:function(e){this.soundAgent.update(new a("src",e))}},{key:"show",value:function(){this.$bgmBtn.show()}},{key:"resumePlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("end"))}},{key:"stopPlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("stop"))}},{key:"hide",value:function(){this.$bgmBtn.hide()}},{key:"startRotate",value:function(){this.$bgmBtn.addClass("rotate")}},{key:"stopRotate",value:function(){this.$bgmBtn.removeClass("rotate")}}]),e}();e.exports=c},function(e,t){},function(e,t){e.exports='<div class="bgm-btn" data-event="11205"><audio loop="" src="" autoplay="" preload></audio></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(122),c=n(31),u=n(30).resolveUrl,l=n(32).mobilecheck,p=n(78).bigDataXBData,h=n(75).getWxJSSDK,f=n(32).isWeixin,d=n(32).isIOS,g=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.isManualPause=!1,o.$audio=o.master.$bgmBtn.find("audio"),o.audio=o.$audio[0],o.type=3,o.wxJssdk=h(),window.EQX={startBgm:o.startPlay.bind(o),pauseBgm:o.stopPlay.bind(o)},o.init(),o}return o(t,e),s(t,[{key:"init",value:function(){var e=this.master.bgAudioJson,t=this;this.$audio.attr("src",u(c.FILE,e.url||e.src)),this.audio.load(),this.$audio.on("canplay",function(){t.audio.play()}),this.addEventListeners(),this.register(),this.master.show()}},{key:"update",value:function(e){var t=this;switch(e.type){case"src":var n=e.data;this.$audio.attr("src",u(c.FILE,n.url||n.src)),this.audio.load(),this.$audio.on("canplay",function(){t.audio.play()});break;case"stop":this.stopPlay();break;case"end":this.isManualPause||this.startPlay();break;case"down":d()?this.stopPlay():this.audio.volume=.1;break;case"restore":d()?this.startPlay():this.audio.volume=1;break;case"play":this.startPlay()}}},{key:"addEventListeners",value:function(){var e=this;this.$audio.on("play",function(){return e.master.startRotate()}),this.$audio.on("pause",function(){return e.master.stopRotate()});var t=l()?"touchend":"click";this.master.$bgmBtn.on(t,function(t){t.cancelBubble=!0,t.stopPropagation(),e.isManualPause=!e.audio.paused,e.audio.paused?e.startPlay():e.stopPlay(),e.master.eqxScene.config.disableBigData||p(window.scene.id,4,null,8,"音乐图标")}),this.master.$bgmBtn.trigger(t)}},{key:"startPlay",value:function(){function e(e){4===e.readyState?e.paused&&e.play():(e.load(),$(e).on("canplay",function(){return e.play()}))}var t=this.audio;f()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e(t)}})}):e(t)}},{key:"stopPlay",value:function(){this.audio.paused||this.audio.pause()}}]),t}(a);e.exports=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(114),s=function(){function e(){i(this,e),this.subscriberMap={}}return r(e,[{key:"subscribe",value:function(e,t){var n=this.subscriberMap[e];n||(n=this.subscriberMap[e]=[]),n.includes(t)||n.push(t)}},{key:"removeAll",value:function(e){for(var t in this.subscriberMap)this.subscriberMap.hasOwnProperty(t)&&this.remove(t,e)}},{key:"remove",value:function(e,t){var n=this.subscriberMap[e];if(!n)return void(_DEBUG_&&console.error("remove subscriber form none existed event list"));var i=n.indexOf(t);i>-1&&n.splice(i,1)}},{key:"publish",value:function(e,t){var n=this.subscriberMap[e];return n?void n.forEach(function(n){return n.update(new o(e,t))}):void(_DEBUG_&&console.error("event "+e+" no subscriber!"))}}]),e}();e.exports=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return JSON.stringify(e)===JSON.stringify(t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(296).$postComment,a=n(296).$getCommentList,c=function(){function e(t){i(this,e),this.sceneId=t,this.comments=[],this.canLoadMore=!0,this.lastTime=0,this.registers=[]}return o(e,[{key:"addComment",value:function(e){return!this.comments.find(function(t){return r(t,e)})&&(this.comments.push(e),!0)}},{key:"getComments",value:function(){return this.comments.sort(function(e,t){return t.createTime-e.createTime}),this.comments}},{key:"postComment",value:function(e){var t=this;return s(e).then(function(e){var n=e.obj;return t.addComment(n),t.publish(),n})}},{key:"publish",value:function(){this.registers.forEach(function(e){return e.updateComments()})}},{key:"loadMoreComments",value:function(){var e=this;return a({sceneId:this.sceneId,time:this.lastTime}).then(function(t){var n=t.list;return n.length?(e.lastTime=n[n.length-1].createTime,n):Promise.reject()}).then(function(t){return t=t.filter(function(t){return e.addComment(t)}),e.publish(),t})}},{key:"register",value:function(e){this.registers.includes(e)||this.registers.push(e)}}]),e}();e.exports=c},function(e,t,n){"use strict";function i(e){var t=e.sceneId,n=e.time,i=o.SERVER_1+"scene/msg/list?sceneId="+t;return n&&(i+="&lastTime="+n),i+="&date="+(new Date).getTime(),s({type:"GET",url:i})}function r(e){return s({type:"POST",url:o.SERVER_1+"scene/send/msg",data:e})}var o=n(31),s=n(34).ajax;e.exports={$getCommentList:i,$postComment:r}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return s.includes(""+e.type)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(63).FORM_COMPS,a=function(){function e(){i(this,e),this.submited=!1,this.fromCompList=[]}return o(e,[{key:"add",value:function(e){if(r(e))if(this.fromCompList.includes(e)){if(_DEBUG_)throw new Error("Duplicate EQX form element "+e)}else this.fromCompList.push(e);else if(_DEBUG_)throw new Error("Invalid EQX Form Element "+e+", type: "+e.type)}},{key:"check",value:function(){for(var e={},t=this.fromCompList.map(function(e){return e.check()}),n=0;n<t.length;n++){var i=t[n],r=i.success,o=i.key,s=i.value;if(!r)return i;e[o]=s}return Object.values(e).every(function(e){return!e})?{success:!1,message:"请填写表单"}:{success:!0,form:e}}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=n(264),u=n(190).$getCountValues,l=n(63).COMP_TYPE,p=function(e){function t(e){i(this,t);var n=e.list.reduce(function(e,t){return e.concat(t.elements)},[]),o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o.sceneJson=e,o.countIdArr=[],o.countValuesPromise=null,o}return o(t,e),s(t,[{key:"iterate",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"iterate",this).call(this),this.compJsonList.forEach(function(t){var n=l[t.type];"EqxCount"!==n||e.countIdArr.includes(t.id)||e.countIdArr.push(t.id)})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"getCounterValues",value:function(){if(this.countValuesPromise)return this.countValuesPromise;var e=this.getCountIds();if(e){var t=this.sceneJson.meta.id;this.countValuesPromise=u({sceneId:t,fieldIds:e}).then(function(e){return e.map}).catch(function(){return{}})}else this.countValuesPromise=Promise.resolve({});return this.countValuesPromise}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(300),c=n(114),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"onPlay",value:function(e){if(this.agents.includes(e))switch(e.type){case 1:this.agents.forEach(function(t){t!==e&&(2===t.type||3===t.type?t.update(new c("down")):1===t.type&&(t.update(new c("stop")),t.update(new c("reset"))))});break;case 2:var t=this.agents.find(function(e){return 3===e.type});t&&t.update(new c("down")),this.agents.forEach(function(t){1!==t.type||t.audio.paused||e.update(new c("down"))});break;case 4:this.agents.forEach(function(e){2===e.type||3===e.type?e.update(new c("down")):1===e.type&&(e.update(new c("stop")),e.update(new c("reset")))})}}},{key:"onEnd",value:function(e){if(e||this.agents.includes(e))switch(e.type){case 1:var t=null,n=this.agents.find(function(e){return 3===e.type});t=this.agents.findIndex(function(e){return 1===e.type&&!e.audio.paused})!==-1,this.agents.forEach(function(e){2!==e.type||t||e.update(new c("restore"))}),t=this.agents.findIndex(function(e){return(1===e.type||2===e.type)&&!e.audio.paused})!==-1,n&&!t&&n.update(new c("restore"));break;case 2:var i=this.agents.find(function(e){return 3===e.type}),r=!1;this.agents.forEach(function(t){t!==e&&(1!==t.type&&2!==t.type||t.audio.paused||(r=!0))}),i&&!r&&i.update(new c("restore"));break;case 4:var o=null,s=this.agents.find(function(e){return 3===e.type});o=this.agents.findIndex(function(e){return 1===e.type&&!e.audio.paused})!==-1,this.agents.forEach(function(e){
2!==e.type||o||e.update(new c("restore"))}),o=this.agents.findIndex(function(e){return(1===e.type||2===e.type)&&!e.audio.paused})!==-1,s&&!o&&s.update(new c("restore"))}}},{key:"stopAll",value:function(){this.agents.forEach(function(e){e.audio.paused||e.update(new c("stop"))})}},{key:"restoreAll",value:function(){this.agents.forEach(function(e){3===e.type&&e.audio.paused&&!e.isManualPause&&e.update(new c("play"))})}}]),t}(a);e.exports=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.agents=[],this.predict=t}return i(e,[{key:"add",value:function(e){this.predict&&!this.predict.call(this,e)||this.agents.includes(e)||this.agents.push(e)}},{key:"remove",value:function(e){var t=this.agents.indexOf(e);t>-1&&this.agents.splice(t,1)}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(300),a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),t}(s);e.exports=a},function(e,t,n){var i,r,o;!function(s,a){r=[t,n(303),n(305),n(306),n(307),n(308)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,i,r,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var a=s(t),c=s(n),u=s(i),l=s(r),p=s(o);e.addedDiff=c.default,e.diff=a.default,e.deletedDiff=u.default,e.updatedDiff=l.default,e.detailedDiff=p.default})},function(e,t,n){var i,r,o;!function(s,a){r=[e,t,n(304)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function e(t,o){if(t===o)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(o))return o;var s=(0,n.properObject)(t),a=(0,n.properObject)(o),c=Object.keys(s).reduce(function(e,t){return a.hasOwnProperty(t)?e:r({},e,i({},t,void 0))},{});return(0,n.isDate)(s)||(0,n.isDate)(a)?s.toString()==a.toString()?{}:a:Object.keys(a).reduce(function(t,o){if(!s.hasOwnProperty(o))return r({},t,i({},o,a[o]));var c=e(s[o],a[o]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?t:r({},t,i({},o,c))},c)};t.default=o,e.exports=t.default})},function(e,t,n){var i,r,o;!function(n,s){r=[t],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===("undefined"==typeof e?"undefined":n(e))});e.properObject=function(e){return i(e)&&!e.hasOwnProperty?t({},e):e}})},function(e,t,n){var i,r,o;!function(s,a){r=[e,t,n(304)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var s=(0,n.properObject)(t),a=(0,n.properObject)(o);return Object.keys(a).reduce(function(t,o){if(s.hasOwnProperty(o)){var c=e(s[o],a[o]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?t:r({},t,i({},o,c))}return r({},t,i({},o,a[o]))},{})};t.default=o,e.exports=t.default})},function(e,t,n){var i,r,o;!function(s,a){r=[e,t,n(304)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var s=(0,n.properObject)(t),a=(0,n.properObject)(o);return Object.keys(s).reduce(function(t,o){if(a.hasOwnProperty(o)){var c=e(s[o],a[o]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?t:r({},t,i({},o,c))}return r({},t,i({},o,void 0))},{})};t.default=o,e.exports=t.default})},function(e,t,n){var i,r,o;!function(s,a){r=[e,t,n(304)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function e(t,o){if(t===o)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(o))return o;var s=(0,n.properObject)(t),a=(0,n.properObject)(o);return(0,n.isDate)(s)||(0,n.isDate)(a)?s.toString()==a.toString()?{}:a:Object.keys(a).reduce(function(t,o){if(s.hasOwnProperty(o)){var c=e(s[o],a[o]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?t:r({},t,i({},o,c))}return t},{})};t.default=o,e.exports=t.default})},function(e,t,n){var i,r,o;!function(s,a){r=[e,t,n(305),n(306),n(307)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,i,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(n),a=o(i),c=o(r),u=function(e,t){return{added:(0,s.default)(e,t),deleted:(0,a.default)(e,t),updated:(0,c.default)(e,t)}};t.default=u,e.exports=t.default})},function(e,t,n){"use strict";function i(e,t){return o()||t||e.map.wxComponent?function(n){var i=n.type,r=n.id,o=n.properties.type;if(t){var a=t.headimgurl,c=t.nickname;"201"==i&&"own"==o&&(n.content=c),"401"==i&&"own"==o&&(n.properties.src=a,delete n.properties.imgStyle)}var u=e.map.wxComponent,l=void 0===u?{shareUserName:"",shareUserHeader:""}:u,p=l.shareUserName,h=l.shareUserHeader;(p||h)&&("201"==i&&"share"==o&&p&&(n.content=p),"401"==i&&"share"==o&&h&&(n.properties.src=h,delete n.properties.imgStyle)),"201"!=i&&"401"!=i||"share"!=o||s.generateUserKey(),l[r]&&(n.serverId=l[r])}:r}var r=n(80).noop,o=n(32).isWeixin,s=n(75);e.exports={wxAdaptor:i}}]);